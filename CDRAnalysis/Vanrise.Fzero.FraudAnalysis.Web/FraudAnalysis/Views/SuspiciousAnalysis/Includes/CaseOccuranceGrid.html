<div ng-controller="FraudAnalysis_CaseOccuranceGridController">

    <vr-choices selectedindex="selectedTabIndex" onselectionchanged="onSelectedTabChanged()">
        <vr-choice isselected="caseOccurancesSelected">Occurrences</vr-choice>
        <vr-choice isselected="caseLogsSelected">Logs</vr-choice>
    </vr-choices>

    <div ng-show="caseOccurancesSelected">
        <vr-datagrid datasource="details"
                     dataretrievalfunction="dataRetrievalFunction"
                     pagingtype="'Pager'"
                     on-ready="gridReady"
                     idfield="DetailID"
                     maxheight="500px"
                     issubgrid>

            <vr-datagridcolumn headertext="'Suspicion Level'" field="'SuspicionLevelDescription'" type="'Text'" getcolor="getSuspicionLevelColor"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'Strategy'" field="'StrategyName'" type="'Text'"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'From Time'" field="'FromDate'" type="'Datetime'"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'To Time'" field="'ToDate'" type="'Datetime'"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'Execution Time'" field="'ExecutionDate'" type="'Datetime'"></vr-datagridcolumn>
        </vr-datagrid>
    </div>

    <div ng-show="caseLogsSelected">
        <vr-datagrid datasource="logs"
                     dataretrievalfunction="dataRetrievalFunction_Logs"
                     defaultsortbyfieldname="'AccountCaseHistoryId'" defaultsortdirection="'DESC'"
                     pagingtype="'Pager'"
                     on-ready="gridReady_Logs"
                     idfield="LogID"
                     maxheight="500px"
                     issubgrid>

            <vr-datagridcolumn headertext="'Status'" field="'StatusDescription'" type="'Text'" getcolor="getCaseStatusColor"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'User'" field="'UserName'" type="'Text'"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'Status Time'" field="'StatusTime'" type="'Datetime'"></vr-datagridcolumn>
            <vr-datagridcolumn headertext="'Reason'" field="'Reason'" type="'Text'" widthfactor="40"></vr-datagridcolumn>
        </vr-datagrid>
    </div>
</div>