<div vr-modalcontent ng-controller="VRCommon_BankDetailsEditorController" vr-loader="isLoading">
    <vr-modalbody>
        <vr-form name="formBankDetailsEditor">
            <vr-row removeline>
                <vr-columns width="1/2row">
                    <vr-textbox value="channelName" label="Channel Name" localizedlabel="VRRes.Channel Name.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="bank" label="Bank" localizedlabel="VRRes.Bank.VREnd" isrequired="true"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="accountCode" label="Account Code" localizedlabel="VRRes.AccountCode.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="accountHolder" label="Account Holder" localizedlabel="VRRes.AccountHolder.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="iban" label="IBAN" localizedlabel="VRRes.IBAN.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="address" label="Address" localizedlabel="VRRes.Address.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="accountNumber" label="Account Number" localizedlabel="VRRes.AccountNumber.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="swiftCode" label="Swift Code" localizedlabel="VRRes.SwiftCode.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="sortCode" label="Sort Code" localizedlabel="VRRes.SortCode.VREnd"></vr-textbox>
                </vr-columns>

                <vr-columns width="1/2row">
                    <vr-textbox value="correspondentBank" label="Correspondent Bank" localizedlabel="VRRes.Correspondent Bank.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="correspondentBankSwiftCode" label="Correspondent Bank Swift Code" localizedlabel="VRRes.CorrespondentBankSwiftCode.VREnd"></vr-textbox>
                </vr-columns>

                <vr-common-currency-selector on-ready="onCurrencyDirectiveReady" isrequired="true" normal-col-num="6" showaddbutton></vr-common-currency-selector>

                <vr-columns width="1/2row">
                    <vr-textbox value="ach" label="ACH" localizedlabel="VRRes.ACH.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textbox value="abaRoutingNumber" label="ABA Routing Number" localizedlabel="VRRes.ABARoutingNumber.VREnd"></vr-textbox>
                </vr-columns>
                <vr-columns width="1/2row">
                    <vr-textarea value="moreInfo" label="More Info" localizedlabel="VRRes.MoreInfo.VREnd" rows="4"></vr-textarea>
                </vr-columns>
            </vr-row>
            <vr-row removeline>
                <vr-columns width="fullrow">
                    <vr-section header="Secondary Accounts">
                        <vr-row>
                            <vr-columns width="1/3row" haschildcolumns>
                                <vr-button type="Add" data-onclick="scopeModel.addSecondaryAccount" standalone></vr-button>
                            </vr-columns>
                            <vr-columns width="fullrow" haschildcolumns>
                                <vr-datagrid datasource="scopeModel.secondaryAccounts" norowhighlightonclick="true" enabledraggablerow="true"
                                             on-ready="onGridReady" hidegridmenu ondeleterow="scopeModel.removeSecondaryAccount">
                                    <vr-datagridcolumn headertext="'Account Number'" widthfactor="12" disablesorting="true">
                                        <vr-textbox value="dataItem.AccountNumber" isrequired="true"></vr-textbox>
                                    </vr-datagridcolumn>
                                    <vr-datagridcolumn headertext="'Currency'" widthfactor="12" disablesorting="true">
                                        <vr-common-currency-selector hidelabel on-ready="dataItem.onCurrencyDirectiveReady" hideremoveicon isrequired="true" normal-col-num="12" showaddbutton></vr-common-currency-selector>
                                    </vr-datagridcolumn>
                                </vr-datagrid>
                            </vr-columns>
                        </vr-row>
                    </vr-section>
                </vr-columns>
            </vr-row>
        </vr-form>
    </vr-modalbody>
    <div>
        <vr-actionbar showcollapsebutton="false" issectioncollapsed="false">
            <div transclude-to="buttons">
                <vr-button type="Save" formname="formBankDetailsEditor" data-onclick="saveBankDetail"></vr-button>
                <vr-button type="Close" data-onclick="close"></vr-button>
            </div>
        </vr-actionbar>
    </div>
</div>
