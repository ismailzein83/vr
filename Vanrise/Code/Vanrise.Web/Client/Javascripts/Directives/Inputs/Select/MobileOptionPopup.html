<div vr-modalcontent ng-controller="MobileOptionPopupController" vr-loader="isLoading" ismenu>
    <vr-modalbody>
        <!--<div class="vr-select-advance-search" ng-show="ctrl.showSearchSection" ng-if="ctrl.includeAdvancedSearch">
            <div ng-transclude style="height: calc(100% - 40px); border-left: 1px solid #ddd;"></div>
            <div style="height: 40px; border-left: 1px solid #ddd;">
                <vr-columns colnum="7"></vr-columns>
                <vr-columns colnum="2">
                    <vr-button type="Cancel" data-onclick="ctrl.cancelClickTrigger" standalone></vr-button>
                </vr-columns>
                <vr-columns colnum="2">
                    <vr-button type="Ok" data-onclick="ctrl.okClickTrigger" standalone></vr-button>
                </vr-columns>
            </div>
        </div>-->
        <div style="position:relative;">
            <a href="" class="link" ng-click="clearSelectionAndCloseModal($event,true);" ng-if="!ctrl.isMultiple() && ctrl.selectedvalues != undefined && ctrl.selectedvalues.length != 0" ng-hide="ctrl.isHideRemoveIcon() || ctrl.readOnly">Clear Selected</a>
            <div ng-style="{'padding-top':ctrl.isMultiple() || (!ctrl.isMultiple() && ctrl.selectedvalues == undefined) || ctrl.isHideRemoveIcon()   ? '15px':'0px'}">
                <div ng-if="ctrl.isContainerVisible()" class="vr-select-multiple" style="display: inline-block; width: 100% !important;">

                    <div ng-if="ctrl.isEnFilter()" class="filter-section">
                        <div class="inner-addon right-addon" ng-style="{'width':(ctrl.includeAdvancedSearch)?'calc(100% - 25px)':'100%','display':'inline-block'}">

                            <i ng-if="!ctrl.isRemoteLoad()" class="glyphicon glyphicon-erase hand-cursor" ng-click="ctrl.clearFilter($event)"></i>
                            <input ng-if="!ctrl.isRemoteLoad()" id="filterInput" ng-init="ctrl.focusFilterInput()" type="text" class="form-control input-sm filter-input" style="width:100%" ng-model="ctrl.filtername" ng-change="ctrl.searchLocal();" />

                            <i ng-if="ctrl.isRemoteLoad()" class="glyphicon icon-loader" ng-show="ctrl.showloading"></i>
                            <input ng-if="ctrl.isRemoteLoad()" id="filterInput" ng-init="ctrl.focusFilterInput()" class="form-control input-sm filter-input" style="width:100%" type="text" placeholder="{{ctrl.limitplaceholder}}" ng-model="ctrl.filtername" ng-change="ctrl.search();">

                        </div>
                        <span ng-if="ctrl.includeAdvancedSearch" ng-click="ctrl.toggleAdvancedSearch()" class=" glyphicon hand-cursor toggle-advanced-search" ng-class="ctrl.showSearchSection ? 'glyphicon-backward': 'glyphicon-forward'" title="{{ctrl.showSearchSection?'Hide advance search':'Show advance search'}}"></span>
                    </div>

                    <div style="position:absolute" ng-if="ctrl.isRemoteLoad()" ng-show="!ctrl.showloading && ctrl.filtername.length < ctrl.limitcharactercount">Please type {{ctrl.limitcharactercount - ctrl.filtername.length}} character(s)..</div>
                    <div style="position:absolute" ng-if="ctrl.isRemoteLoad()" ng-show="ctrl.showloading">Loading..</div>

                    <div id="divDataSourceContainer{{ctrl.id}}" class="vr-select-height" ng-if="!ctrl.isMultiple()">
                        <div id="divDataSourceBody{{ctrl.id}}">
                            <div id="{{::ctrl.getObjectValue(c)}}" dataindex="{{$index}}" style="position:relative" ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" ng-repeat="c in ctrl.boundDataSource" title="{{ctrl.getTooltipValue(c)}}" ng-class="ctrl.getObjectStyle(c)" disabled-item="{{ctrl.getObjectDisabled(c)}}" disabled-select-item="{{ctrl.getObjectDisabledSelect(c)}}">
                                <a href="" ng-if="!ctrl.isMultiple()" style="display: block; width:100%;padding:2px; white-space: normal;height:25px" ng-class=" ctrl.getObjectDisabled(c)==true?'vr-select-disabled-item':''" class="mark-select single-select" ng-click="selectSingleItemAndCloseModal($event,c)">
                                    <div class="hand-cursor single-select{{ctrl.id}}" style="display: table-cell;  white-space: nowrap; text-overflow: ellipsis; overflow:hidden">{{::ctrl.getObjectText(c)}}</div>
                                </a>
                                <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(c)" class=" glyphicon glyphicon-eye-open hand-cursor view-icon"></span>
                            </div>
                        </div>
                    </div>
                    <!--ng-repeat="c in  ctrl.getdatasource() | limitTo: ctrl.dataSourcePageSize"-->
                    <div id="divDataSourceContainer{{ctrl.id}}" class="vr-select-height vr-select-ds-container" ng-if="ctrl.isMultiple()" ng-class="ctrl.isEnFilter()? 'with-filter' : 'no-filter'">
                        <div id="divDataSourceBody{{ctrl.id}}">
                            <div id="{{::ctrl.getObjectValue(c)}}" dataindex="{{$index}}" style="position:relative" ng-repeat="c in ctrl.boundDataSource" ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" title="{{ctrl.getTooltipValue(c)}}" ng-class="ctrl.getObjectStyle(c)" disabled-item="{{ctrl.getObjectDisabled(c)}}" disabled-select-item="{{ctrl.getObjectDisabledSelect(c)}}">
                                <a href="" class="mark-select select-item-container" ng-click="ctrl.selectValue($event, c); " ng-class="ctrl.getObjectDisabled(c)==true ?'vr-select-disabled-item':ctrl.findExsite(c) >-1 ?'selected':'' ">
                                    <div class="hand-cursor" style="display: inline-block; width:170px; text-overflow: ellipsis; overflow:hidden">{{ ::ctrl.getObjectText(c)}}</div>
                                    <div class="checked-item ">
                                        <span ng-if="!ctrl.itemLocked(c)" ng-show="ctrl.findExsite(c) > -1 ">✔</span>
                                        <span ng-if="ctrl.itemLocked(c)" class="glyphicon glyphicon-lock" style="font-size: 10px;"></span>
                                    </div>
                                </a>
                                <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(c)" class=" glyphicon glyphicon-eye-open hand-cursor view-icon"></span>
                            </div>
                        </div>
                    </div>
                    <div ng-if="ctrl.isMultiple()" style="padding-left:5px;position:relative; top: 3px;height:17px">
                        <span class="hand-cursor">
                            <a href="" class="link" ng-click="ctrl.selectAll()" ng-hide="ctrl.hideSelectAll">Select all</a>
                            <a href="" class="link remove-selection" ng-click="ctrl.clearAllSelected($event);">Clear all</a>
                        </span>
                    </div>
                </div>
                <!-- filter -->
                <div ng-if="!ctrl.isContainerVisible()" ng-style="{'width': ctrl.includeAdvancedSearch? '220px' : '100%'}">
                    <div ng-if="ctrl.withLocalFiter()" class="filter-section">
                        <div class="inner-addon right-addon" ng-style="{'width':(ctrl.includeAdvancedSearch)?'calc(100% - 25px)':'100%','display':'inline-block'}">
                            <i class="glyphicon glyphicon-erase hand-cursor" style="top:9px" ng-click="ctrl.clearFilter($event)"></i>
                            <input id="filterInput" ng-init="ctrl.focusFilterInput()" type="text" class="form-control input-sm filter-input" style="width:100%" ng-model="ctrl.filtername" ng-change="ctrl.searchLocal();" />
                        </div>
                        <span ng-if="ctrl.includeAdvancedSearch" ng-click="ctrl.toggleAdvancedSearch()" class=" glyphicon hand-cursor toggle-advanced-search" ng-class="ctrl.showSearchSection ? 'glyphicon-backward': 'glyphicon-forward'" title="{{ctrl.showSearchSection?'Hide advance search':'Show advance search'}}"></span>

                    </div>
                    <div id="divDataSourceContainer{{ctrl.id}}" class="vr-select-height source-container-{{ctrl.id}}">
                        <div id="divDataSourceBody{{ctrl.id}}">
                            <div id="{{::ctrl.getObjectValue(c)}}" dataindex="{{$index}}" ng-repeat="c in ctrl.boundDataSource" style="position:relative" ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" title="{{ctrl.getTooltipValue(c)}}" ng-class="ctrl.getObjectStyle(c)" disabled-item="{{ctrl.getObjectDisabled(c)}}" disabled-select-item="{{ctrl.getObjectDisabledSelect(c)}}">
                                <a href="" ng-if="!ctrl.isContainerVisible()" ng-class="ctrl.getObjectDisabled(c)==true?'vr-select-disabled-item':''" class="mark-select single-select{{ctrl.id}}" ng-click="selectSingleItemAndCloseModal($event,c);"
                                   style="display: block; width:100%;padding:2px; white-space: normal;">
                                    <div class="hand-cursor single-select{{ctrl.id}}" style="display: table-cell; text-overflow: ellipsis; overflow:hidden">{{::ctrl.getObjectText(c)}} </div>
                                </a>
                                <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(c)" class=" glyphicon glyphicon-eye-open hand-cursor view-icon"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add DIV in case of multiple -->
                <div class="selected-container" style="width:100%" ng-if="ctrl.selectedSectionVisible()" ng-init="ctrl.initializeSelectedValuesPaging()" ng-show="ctrl.selectedSectionVisible()">
                    <div style="padding:5px ;height:29px">
                        {{ctrl.selectlbl}}
                    </div>
                    <div style="height: 140px; overflow-y: auto;padding-top:5px;overflow-x: hidden;" id="divSelectedValuesContainer{{ctrl.id}}">
                        <div id="divSelectedValuesBody{{ctrl.id}}">
                            <span class="label custom-label"  ng-class="ctrl.getObjectStyle(obj)" style="position:relative;white-space:normal;text-align:unset" ng-repeat="obj in ctrl.selectedvalues | limitTo: ctrl.selectedValuespageSize " ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" title="{{ctrl.getTooltipValue(obj)}}">
                                {{::ctrl.getObjectText(obj)}}
                                <span class="glyphicon glyphicon-eye-open hand-cursor view-selected-item" ng-click="ctrl.onViewHandler(obj)" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton"></span>
                                <span ng-if="!ctrl.itemLocked(obj)" class="glyphicon glyphicon-remove hand-cursor remove-selected-item" aria-hidden="true" ng-click="ctrl.selectValue($event,obj);"></span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </vr-modalbody>
</div>
