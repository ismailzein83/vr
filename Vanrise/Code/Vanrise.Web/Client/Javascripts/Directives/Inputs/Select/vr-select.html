<div class="dropdown-container1">
    <div class="dropdown-container2">
        <vr-validator validate="ctrl.validate()" vr-input  title="{{ctrl.getButtonTitle()}}">
            <div class="dropdown drop-down-inside-modal">
                <ul class="dropdown-menu vr-select-dropdown-menu" ng-if="!ctrl.readOnly || ctrl.isMultiple()" vr-loader="ctrl.isloading">
                    <!--<a href="" ng-click="ctrl.hideMobileDropDown(ctrl.id)" class="glyphicon glyphicon-remove hand-cursor " style="position: absolute;top: -21px;right: -1px;"></a>-->

                    <li class="vr-select-advance-search" ng-show="ctrl.showSearchSection" ng-if="ctrl.includeAdvancedSearch">
                        <div ng-transclude style="height: calc(100% - 40px); border-left: 1px solid #ddd;"></div>
                        <div style="height: 40px; border-left: 1px solid #ddd;">
                            <vr-columns colnum="7"></vr-columns>
                            <vr-columns colnum="2">
                                <vr-button type="Cancel" data-onclick="ctrl.cancelClickTrigger" standalone></vr-button>
                            </vr-columns>
                            <vr-columns colnum="2">
                                <vr-button type="Ok" data-onclick="ctrl.okClickTrigger" standalone></vr-button>
                            </vr-columns>
                        </div>
                    </li>
                    <li role="presentation" ng-if="ctrl.isDropDownOpened()" class="data-presentation">

                        <!-- filter  -->
                        <div ng-if="!ctrl.readOnly" class="flex-container">
                            <div ng-if="ctrl.isContainerVisible()" class="vr-select-multiple" style="display: inline-block; width: 226px;">

                                <div ng-if="ctrl.isEnFilter()" class="filter-section">
                                    <div class="inner-addon right-addon" ng-style="{'width':(ctrl.includeAdvancedSearch)?'calc(100% - 25px)':'100%','display':'inline-block'}">

                                        <i ng-if="!ctrl.isRemoteLoad()" class="glyphicon glyphicon-remove hand-cursor" ng-click="ctrl.clearFilter($event)"></i>
                                        <input ng-if="!ctrl.isRemoteLoad()" id="filterInput" ng-init="ctrl.focusFilterInput()" type="text" class="form-control input-sm filter-input" style="width:100%" ng-model="ctrl.filtername" ng-change="ctrl.searchLocal();" />

                                        <i ng-if="ctrl.isRemoteLoad()" class="glyphicon icon-loader" ng-show="ctrl.showloading"></i>
                                        <input ng-if="ctrl.isRemoteLoad()" id="filterInput" ng-init="ctrl.focusFilterInput()" class="form-control input-sm filter-input" style="width:100%" type="text" placeholder="{{ctrl.limitplaceholder}}" ng-model="ctrl.filtername" ng-change="ctrl.search();">

                                    </div>
                                    <span ng-if="ctrl.includeAdvancedSearch" ng-click="ctrl.toggleAdvancedSearch()" class=" glyphicon hand-cursor toggle-advanced-search" ng-class="ctrl.showSearchSection ? 'glyphicon-backward': 'glyphicon-forward'" title="{{ctrl.showSearchSection?'Hide advance search':'Show advance search'}}"></span>
                                </div>

                                <div style="position:absolute" ng-if="ctrl.isRemoteLoad()" ng-show="!ctrl.showloading && ctrl.filtername.length < ctrl.limitcharactercount">Please type {{ctrl.limitcharactercount - ctrl.filtername.length}} character(s)..</div>
                                <div style="position:absolute" ng-if="ctrl.isRemoteLoad()" ng-show="ctrl.showloading">Loading..</div>

                                <div id="divDataSourceContainer{{ctrl.id}}" class="vr-select-height" ng-if="!ctrl.isMultiple()">
                                    <div id="divDataSourceBody{{ctrl.id}}">
                                        <div id="{{::ctrl.getObjectValue(c)}}" dataindex="{{$index}}" style="position:relative" ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" ng-repeat="c in ctrl.boundDataSource" title="{{ctrl.getTooltipValue(c)}}" ng-class="ctrl.getObjectStyle(c)" disabled-item="{{ctrl.getObjectDisabled(c)}}" disabled-select-item="{{ctrl.getObjectDisabledSelect(c)}}">
                                            <a href="" ng-if="!ctrl.isMultiple()" style="display: block; width:100%;padding:2px; white-space: normal;height:25px" ng-class=" ctrl.getObjectDisabled(c)==true?'vr-select-disabled-item':''" class="mark-select single-select" ng-click="ctrl.selectValue($event, c);">
                                                <div class="hand-cursor single-select{{ctrl.id}}" style="display: table-cell;  white-space: nowrap; text-overflow: ellipsis; overflow:hidden">{{::ctrl.getObjectText(c)}}</div>
                                            </a>
                                            <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(c)" class=" glyphicon glyphicon-eye-open hand-cursor view-icon"></span>
                                        </div>
                                    </div>
                                </div>
                                <div id="divDataSourceContainer{{ctrl.id}}" class="vr-select-height vr-select-ds-container" ng-if="ctrl.isMultiple()" ng-class="ctrl.isEnFilter()? 'with-filter' : 'no-filter'">
                                    <div id="divDataSourceBody{{ctrl.id}}">
                                        <div id="{{::ctrl.getObjectValue(c)}}" dataindex="{{$index}}" style="position:relative" ng-repeat="c in ctrl.boundDataSource" ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" title="{{ctrl.getTooltipValue(c)}}" ng-class="ctrl.getObjectStyle(c)" disabled-item="{{ctrl.getObjectDisabled(c)}}" disabled-select-item="{{ctrl.getObjectDisabledSelect(c)}}">
                                            <a href="" class="mark-select select-item-container" ng-click="ctrl.selectValue($event, c); " ng-class="ctrl.getObjectDisabled(c)==true ?'vr-select-disabled-item':ctrl.findExsite(c) >-1 ?'selected':'' ">
                                                <div class="hand-cursor" style="display: inline-block; width:170px; text-overflow: ellipsis; overflow:hidden">{{ ::ctrl.getObjectText(c)}}</div>
                                                <div class="checked-item ">
                                                    <span ng-if="!ctrl.itemLocked(c)" ng-show="ctrl.findExsite(c) > -1 ">✔</span>
                                                    <span ng-if="ctrl.itemLocked(c)" class="glyphicon glyphicon-lock" style="font-size: 10px;"></span>
                                                </div>
                                            </a>
                                            <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(c)" class=" glyphicon glyphicon-eye-open hand-cursor view-icon"></span>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="ctrl.isMultiple()" style="padding-left:5px;position:relative; top: 3px;height: 17px">
                                    <span class="hand-cursor">
                                        <a href="" class="link" ng-click="ctrl.selectAll()" ng-hide="ctrl.hideSelectAll">Select all</a>
                                        <a href="" class="link remove-selection" ng-click="ctrl.clearAllSelected($event); " ng-hide="ctrl.hideClearAll">Clear all</a>
                                    </span>
                                </div>
                            </div>
                            <!-- filter -->
                            <div ng-if="!ctrl.isContainerVisible()" ng-style="{'width': ctrl.includeAdvancedSearch? '220px' : '100%'}">
                                <div ng-if="ctrl.withLocalFiter()" class="filter-section">
                                    <div class="inner-addon right-addon" ng-style="{'width':(ctrl.includeAdvancedSearch)?'calc(100% - 25px)':'100%','display':'inline-block'}">
                                        <i class="glyphicon glyphicon-remove hand-cursor" style="top:9px" ng-click="ctrl.clearFilter($event)"></i>
                                        <input id="filterInput" ng-init="ctrl.focusFilterInput()" type="text" class="form-control input-sm filter-input" style="width:100%" ng-model="ctrl.filtername" ng-change="ctrl.searchLocal();" />
                                    </div>
                                    <span ng-if="ctrl.includeAdvancedSearch" ng-click="ctrl.toggleAdvancedSearch()" class=" glyphicon hand-cursor toggle-advanced-search" ng-class="ctrl.showSearchSection ? 'glyphicon-backward': 'glyphicon-forward'" title="{{ctrl.showSearchSection?'Hide advance search':'Show advance search'}}"></span>

                                </div>
                                <div id="divDataSourceContainer{{ctrl.id}}" class="vr-select-height source-container-{{ctrl.id}}">
                                    <div id="divDataSourceBody{{ctrl.id}}">
                                        <div id="{{::ctrl.getObjectValue(c)}}" dataindex="{{$index}}" ng-repeat="c in ctrl.boundDataSource" style="position:relative" ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" title="{{ctrl.getTooltipValue(c)}}" ng-class="ctrl.getObjectStyle(c)" disabled-item="{{ctrl.getObjectDisabled(c)}}" disabled-select-item="{{ctrl.getObjectDisabledSelect(c)}}">
                                            <a href="" ng-if="!ctrl.isContainerVisible()" ng-class="ctrl.getObjectDisabled(c)==true?'vr-select-disabled-item':''" class="mark-select single-select{{ctrl.id}}" ng-click="ctrl.selectValue($event, c)"
                                               style="display: block; width:100%;padding:2px; white-space: normal;">
                                                <div class="hand-cursor single-select{{ctrl.id}}" style="display: table-cell; text-overflow: ellipsis; overflow:hidden">{{::ctrl.getObjectText(c)}} </div>
                                            </a>
                                            <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(c)" class=" glyphicon glyphicon-eye-open hand-cursor view-icon"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Add DIV in case of multiple -->
                            <div class="selected-container" ng-if="ctrl.selectedSectionVisible()" ng-init="ctrl.initializeSelectedValuesPaging()" ng-show="ctrl.selectedSectionVisible()">
                                <div style="padding:5px ;height:29px">
                                    {{ctrl.selectlbl}}
                                </div>
                                <div style="height: 208px; overflow-y: auto;padding-top:5px;overflow-x: hidden;" id="divSelectedValuesContainer{{ctrl.id}}">
                                    <div id="divSelectedValuesBody{{ctrl.id}}" style="white-space:normal">
                                        <span class="label custom-label" ng-class="ctrl.getObjectStyle(obj)" style="position:relative;white-space:normal;text-align:unset" ng-repeat="obj in ctrl.selectedvalues | limitTo: ctrl.selectedValuespageSize " ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;" title="{{ctrl.getTooltipValue(obj)}}">
                                            {{::ctrl.getObjectText(obj)}}
                                            <span class="glyphicon glyphicon-eye-open hand-cursor view-selected-item" ng-click="ctrl.onViewHandler(obj)" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton"></span>
                                            <span ng-if="!ctrl.itemLocked(obj)" class="glyphicon glyphicon-remove hand-cursor remove-selected-item" aria-hidden="true" ng-click="ctrl.selectValue($event,obj);"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="ctrl.readOnly" style="border-left:1px solid #f0f0f0;display: inline-block; max-width: 220px; overflow: auto; white-space:normal" ng-init="ctrl.initializeSelectedValuesPaging()">
                            <div style="padding:5px ;height:29px">
                                {{ctrl.selectlbl}}
                            </div>
                            <div style="height: 208px; overflow-y: auto;padding-top:5px;overflow-x: hidden;" id="divSelectedValuesContainer{{ctrl.id}}">
                                <div id="divSelectedValuesBody{{ctrl.id}}" style="white-space:normal">
                                    <span class="label custom-label" style="position:relative" ng-repeat="obj in ctrl.selectedvalues | limitTo: ctrl.selectedValuespageSize " ng-mouseenter="showeye = true;" ng-mouseleave="showeye = false;">
                                        {{::ctrl.getObjectText(obj)}}
                                        <span ng-show="showeye" ng-if="ctrl.includeOnViewHandler() && ctrl.showViewButton" ng-click="ctrl.onViewHandler(obj)" class="glyphicon glyphicon-eye-open view-icon"></span>
                                    </span>
                                </div>
                            </div>
                        </div>

                    </li>
                    <!--<li role ="presentation"> <span class="glyphicon glyphicon-plus">Add</span></li>-->
                </ul>
            </div>
        </vr-validator>
        <span ng-if="ctrl.hint!=undefined" ng-show="ctrl.hint!=undefined && ctrl.hint!=''" ng-mouseenter="ctrl.adjustTooltipPosition($event)" bs-tooltip class="glyphicon glyphicon-question-sign hand-cursor vr-hint-input" html="true" placement="bottom" trigger="hover" data-type="info" data-title="{{ctrl.hint}}"></span>
    </div>
    <span ng-if="ctrl.includeOnAddHandler() && ctrl.isDropDownOpened()" ng-click="ctrl.onAddhandler()" class="glyphicon glyphicon-plus-sign hand-cursor vr-select-add" ng-hide="ctrl.hideAddButton || ctrl.readOnly"></span>
</div>



