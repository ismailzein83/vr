<vr-validator validate="scopeModel.validateGrid()">
    <vr-datagrid on-ready="scopeModel.onGridReady"
                 datasource="scopeModel.mappedCols"
                 ondeleterow="scopeModel.removeMappedCol"
                 hidegridmenu="true"
                 norowhighlightonclick="true">
        <vr-datagridcolumn headertext="'Cell'" fixedwidth="150" disablesorting="true">
            <vr-excelconversion-fieldmapping-cellfieldmapping on-ready="dataItem.onDirectiveReady"
                                                              isrequired="true"
                                                              normal-col-num="6">
            </vr-excelconversion-fieldmapping-cellfieldmapping>
        </vr-datagridcolumn>
        <vr-datagridcolumn headertext="'Field'" widthfactor="70" disablesorting="true">
            <vr-select on-ready="dataItem.onFieldSelectorReady"
                       datasource="dataItem.fields"
                       datatextfield="description"
                       datavaluefield="value"
                       selectedvalues="dataItem.selectedField"
                       onselectionchanged="dataItem.onFieldSelectionChanged"
                       entityname="Field"
                       isrequired>
            </vr-select>
        </vr-datagridcolumn>
        <vr-datagridcolumn headertext="'Column Header'" widthfactor="70" disablesorting="true">
            <vr-textbox value="dataItem.editedTitle" isrequired ng-if="dataItem.selectedField!=undefined && dataItem.selectedField.source!=undefined && dataItem.selectedField.source.value==0"></vr-textbox>
            <vr-select ng-if="dataItem.selectedField!=undefined && dataItem.selectedField.source!=undefined && dataItem.selectedField.source.value==1"
                       on-ready="dataItem.onSubTableFieldSelectorReady"
                       datasource="dataItem.subTableFields"
                       datatextfield="description"
                       datavaluefield="value"
                       selectedvalues="dataItem.selectedSubTableFields"
                       entityname="Field"
                       isrequired
                       hideselectedvaluessection>
            </vr-select>
        </vr-datagridcolumn>
        <vr-datagridcolumn headertext="'Title'" widthfactor="70" disablesorting="true">
            <vr-textbox value="dataItem.subTableTitle" ng-if="dataItem.selectedField!=undefined && dataItem.selectedField.source!=undefined && dataItem.selectedField.source.value==1"></vr-textbox>
        </vr-datagridcolumn>
    </vr-datagrid>
</vr-validator>
<vr-row>
    <vr-columns colnum="5">
        <a href="" ng-click="scopeModel.addAllFields()" ng-show="scopeModel.mappedCols.length==0">Add all fields</a>
    </vr-columns>
</vr-row>
