<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="TABS" namespace="TABS">
  <class name="PersistedAlertCriteria" table="AlertCriteria" dynamic-update="false" lazy="false" >
    <cache usage="nonstrict-read-write" />
    <id name="ID" column="ID">
      <generator class="identity" />
    </id>
    <property name="ClassName" column="ClassName" />
    <property name="SerializationInfo" column="XMLSerializationInfo" />
    <property name="Updated" column="Updated" />
    <property name="IsEnabled" column="IsEnabled" type="YesNo" />
    <many-to-one name="User" column="UserID" />
    <property name="Tag" column="Tag" />
    <sql-delete check="none">
      DECLARE @critID varchar(20); SET @critID = ?; DELETE FROM Alert WHERE Source = 'PersistedAlertCriteria:' + @critID; DELETE FROM AlertCriteria WHERE ID = @critID
    </sql-delete>
  </class>
</hibernate-mapping>