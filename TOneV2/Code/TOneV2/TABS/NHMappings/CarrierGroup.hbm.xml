<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="TABS" namespace="TABS">
	<class name="CarrierGroup" table="CarrierGroup" dynamic-update="false" lazy="false" >
		<cache usage="nonstrict-read-write"/>
    <id name="CarrierGroupID" column="CarrierGroupID" unsaved-value="0">
      <generator class="identity" />
    </id>
    <many-to-one name="ParentGroup" column="ParentID" fetch="select" not-found="ignore" />
    <property name="CarrierGroupName" column="CarrierGroupName" />
    <property name="ParentPath" column="ParentPath" />
    <sql-delete check="none">
      DECLARE @Path varchar(1024);
      SELECT @Path = [Path] FROM CarrierGroup WHERE CarrierGroupID = ?;
      DELETE FROM CarrierGroup WHERE [Path] LIKE (@Path + '%');
    </sql-delete>
	</class>
</hibernate-mapping>