<div vr-modalcontent ng-controller="WhS_BE_CarrierProfileEditorController" vr-loader="isLoading" width="'50%'">
    <vr-modalbody>
        <vr-form name="formCarrierProfileEditor">
            <vr-tabs>
                <vr-tab header="'General Info'">
                    <vr-row removeline>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.name" label="Profile Name" isrequired></vr-textbox>
                        </vr-columns>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.company" label="Company Name" isrequired></vr-textbox>
                        </vr-columns>

                    </vr-row>

                    <vr-row removeline>
                        <span>
                            <vr-common-country-selector selectedvalues="country" normal-col-num="6" onselectionchanged="onCountrySelectionChanged" on-ready="onCountryDirectiveReady" isrequired showaddbutton></vr-common-country-selector>
                        </span>
                        <span vr-loader="isLoadingCities">
                            <vr-common-city-selector showaddbutton normal-col-num="6" on-ready="onCityyDirectiveReady"></vr-common-city-selector>
                        </span>

                    </vr-row>

                    <vr-row removeline>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.registrationNumber" label="Registration Number"></vr-textbox>
                        </vr-columns>
                        <vr-columns width="1/2row">
                            <vr-textarea value="scopeModal.address" label="Address" rows="2"></vr-textarea>
                        </vr-columns>
                    </vr-row>

                    <vr-row removeline>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.website" label="Website"></vr-textbox>
                        </vr-columns>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.town" label="Town"></vr-textbox>
                        </vr-columns>
                    </vr-row>

                    <vr-row removeline>

                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.postalCode" label="Postal Code"></vr-textbox>
                        </vr-columns>
                        <vr-common-company-setting-selector on-ready="scopeModal.onCompanySettingSelectorReady" normal-col-num="6" showaddbutton></vr-common-company-setting-selector>
                        <vr-common-bank-detail-selector on-ready="scopeModal.onBankDetailsSelectorReady" ismultipleselection normal-col-num="6" showaddbutton></vr-common-bank-detail-selector>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-textbox label="Phone" onvaluechanged="scopeModal.onPhoneValueChange" value="scopeModal.phoneNumberValue"></vr-textbox>
                        </vr-columns>
                        <vr-columns withemptyline width="1/4row">
                            <vr-button type="Add" data-onclick="addPhoneNumberOption" vr-disabled="scopeModal.disabledphone" standalone></vr-button>
                        </vr-columns>

                        <vr-columns width="1/4row">
                            <vr-textbox value="scopeModal.faxvalue" onvaluechanged="scopeModal.onFaxValueChange" label="Fax"></vr-textbox>
                        </vr-columns>
                        <vr-columns withemptyline width="1/4row">
                            <vr-button type="Add" data-onclick="addFaxOption" vr-disabled="scopeModal.disabledfax" standalone></vr-button>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/2row">
                            <vr-datalist maxitemsperrow="2" datasource="scopeModal.phoneNumbers" autoremoveitem="true">
                                {{dataItem.phoneNumber}}
                            </vr-datalist>
                        </vr-columns>
                        <vr-columns width="1/2row">
                            <vr-datalist maxitemsperrow="2" datasource="scopeModal.faxes" autoremoveitem="true">
                                {{dataItem.fax}}
                            </vr-datalist>
                        </vr-columns>
                    </vr-row>

                    <vr-row removeline>
                        <vr-columns width="1/2row">
                            <vr-fileupload tempfile="true" extension="images" value="scopeModal.companyLogo" label="Company Logo"> </vr-fileupload>
                        </vr-columns>

                        <vr-columns width="1/2row">
                            <vr-preview-image height="80px" width="80px" value="scopeModal.companyLogo.fileId"> </vr-preview-image>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Contacts'">
                    <vr-row>
                        <vr-columns width="1/2row" ng-repeat="c in scopeModal.contacts">
                            <vr-label>{{c.label}}</vr-label>
                            <vr-textbox value="c.description" ng-if="c.inputetype == 'text' || c.inputetype == 'number'" type="c.inputetype"></vr-textbox>
                            <vr-textbox-multiple value="c.description" ng-if="c.inputetype == 'email'" datatype="c.inputetype"></vr-textbox-multiple>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Ticket Contacts'">
                    <vr-row>
                        <vr-columns width="normal">
                            <vr-button type="Add" data-onclick="scopeModal.addTicketContact" standalone></vr-button>
                        </vr-columns>
                        <vr-columns width="fullrow">
                            <vr-whs-be-carrierprofile-ticketcontact-grid on-ready="scopeModal.onTicketContactGridReady">
                            </vr-whs-be-carrierprofile-ticketcontact-grid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Financial'">
                    <vr-row removeline>
                        <vr-common-currency-selector on-ready="scopeModal.onCurrencySelectorReady" isrequired="true" normal-col-num="6" showaddbutton></vr-common-currency-selector>
                    </vr-row>
                    <vr-row removeline>
                        <vr-common-timezone-selector on-ready="scopeModal.onDefaultCustomerTimeZoneSelectorReady" normal-col-num="6" label="Customer Time Zone" isrequired="true" showaddbutton></vr-common-timezone-selector>
                    </vr-row>
                    <vr-row removeline>
                        <vr-common-timezone-selector on-ready="scopeModal.onDefaultSupplierTimeZoneSelectorReady" normal-col-num="6" label="Supplier Time Zone" isrequired="true" showaddbutton></vr-common-timezone-selector>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.vatId" type="text" label="VAT ID"></vr-textbox>
                        </vr-columns>
                        <vr-columns width="1/2row">
                            <vr-textbox value="scopeModal.vat" type="number" decimalprecision="2" minvalue="0" maxvalue="100" label="VAT %"></vr-textbox>
                        </vr-columns>
                    </vr-row>

                    <vr-row>
                        <vr-columns width="1/2row" ng-repeat="c in scopeModal.taxes">
                            <vr-label>{{c.Title}}</vr-label>
                            <vr-textbox value="c.value" type="number" decimalprecision="2" minvalue="0" maxvalue="100"></vr-textbox>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Documents'">
                    <vr-row>
                        <vr-columns width="1/2row">
                            <vr-button type="Add" data-onclick="scopeModal.addDocument" vr-disabled="scopeModal.disabledAddDocument" standalone></vr-button>
                        </vr-columns>
                    </vr-row>
                    <vr-row>
                        <vr-columns width="fullrow">
                            <vr-common-document-grid on-ready="scopeModal.onDocumentGridReady">     </vr-common-document-grid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
            </vr-tabs>
        </vr-form>
    </vr-modalbody>
    <div>
        <vr-actionbar showcollapsebutton="false" issectioncollapsed="false">
            <div transclude-to="buttons">
                <vr-button type="Save" formname="formCarrierProfileEditor" data-onclick="SaveCarrierProfile" haspermission="hasSaveCarrierProfilePermission"></vr-button>
                <vr-button type="Close" data-onclick="close"></vr-button>
            </div>
        </vr-actionbar>

    </div>
</div>
