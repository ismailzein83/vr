<div vr-modalcontent ng-controller="WhS_BE_DealAnalysisEditorController" vr-loader="scopeModel.isLoading" width="'60%'">
    <vr-modalbody>
        <vr-form name="formEditor">
            <vr-tabs>

                <vr-tab header="'Setting'">
                    <vr-row>
                        <vr-columns width="1/3row">
                            <vr-textbox label="Name" value="scopeModel.Name" isrequired="true"></vr-textbox>
                        </vr-columns>
                        <vr-whs-be-carrieraccount-selector on-ready="scopeModel.onCarrierAccountSelectorReady" normal-col-num="4" getcustomers getsuppliers
                                                           isrequired="true" hideremoveicon="true" onselectionchanged="scopeModel.onCarrierAccountSelectionChanged"></vr-whs-be-carrieraccount-selector>
                        <vr-columns width="1/3row">
                            <vr-select label="Analyis Type"
                                       datasource="scopeModel.analysisTypes"
                                       datavaluefield="value"
                                       datatextfield="description"
                                       selectedvalues="scopeModel.selectedAnalysisType"
                                       isrequired="true"
                                       hideremoveicon="true">
                            </vr-select>
                        </vr-columns>
                        <vr-columns width="1/3row">
                            <vr-datetimepicker label="From Date" type="date" value="scopeModel.fromDate" onvaluechanged="scopeModel.EvalDurationInMonths" isrequired="true"></vr-datetimepicker>
                        </vr-columns>
                        <vr-columns width="1/3row">
                            <vr-datetimepicker label="To Date" type="date" value="scopeModel.toDate" onvaluechanged="scopeModel.EvalDurationInMonths" isrequired="true"></vr-datetimepicker>
                        </vr-columns>

                    </vr-row>

                </vr-tab>
                <vr-tab header="'Outbound Traffic'">
                    <vr-row>
                        <vr-columns width="fullrow">

                            <vr-button type="Add" data-onclick="scopeModel.addOutboundTraffic" standalone></vr-button>

                            <vr-datagrid datasource="scopeModel.outboundTraffics" norowhighlightonclick="true" menuactions="gridMenuActions" maxheight="300px"
                                         ondeleterow="scopeModel.removeOutboundTraffic" hidegridmenu>
                                <vr-datagridcolumn headertext="'Name'" field="'Name'" disablesorting></vr-datagridcolumn>
                                <!--<vr-datagridcolumn headertext="'Sale Zones'" field="'Sale Zones'"  disablesorting></vr-datagridcolumn>-->
                                <vr-datagridcolumn headertext="'Commited Volumes'" field="'CommitedVolume'" type="'Number'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'DailyVolume'" field="'DailyVolume'" type="'Number'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Rate'" field="'Rate'" type="'Number'" numberprecision="'LongPrecision'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Current Cost'" field="'CurrentCost'" type="'Number'" disablesorting numberprecision="'LongPrecision'"></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Cost Saving From Rate'" field="'CostSavingFromRate'" type="'Number'" disablesorting numberprecision="'LongPrecision'"></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Total Deal Saving'" field="'TotalDealSaving'" type="'Number'" disablesorting numberprecision="'LongPrecision'"></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Revenue Per Deal'" field="'RevenuePerDeal'" type="'Number'" disablesorting numberprecision="'LongPrecision'"></vr-datagridcolumn>
                            </vr-datagrid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Inbound Traffic'">
                    <vr-row>
                        <vr-columns width="fullrow">
                            <vr-button type="Add" data-onclick="scopeModel.addInboundTraffic" standalone></vr-button>

                            <vr-datagrid datasource="scopeModel.inboundTraffics" norowhighlightonclick="true" menuactions="gridMenuActions" maxheight="300px"
                                         ondeleterow="scopeModel.removeInboundTraffic" hidegridmenu>
                                <vr-datagridcolumn headertext="'Name'" field="'Name'" disablesorting></vr-datagridcolumn>
                                <!--<vr-datagridcolumn headertext="'Sale Zones'" field="'Sale Zones'"  disablesorting></vr-datagridcolumn>-->
                                <vr-datagridcolumn headertext="'Commited Volumes'" field="'CommitedVolume'" type="'Number'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Daily Volume'" field="'DailyVolume'" type="'Number'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Rate'" field="'Rate'" type="'Number'" numberprecision="'LongPrecision'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Current Cost'" field="'CurrentCost'" type="'Number'" numberprecision="'LongPrecision'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Profit From Rate'" field="'ProfitFromRate'" type="'Number'" numberprecision="'LongPrecision'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Deal Profit'" field="'DealProfit'" type="'Number'" numberprecision="'LongPrecision'" disablesorting></vr-datagridcolumn>
                                <vr-datagridcolumn headertext="'Revenue'" field="'Revenue'" type="'Number'" numberprecision="'LongPrecision'" disablesorting></vr-datagridcolumn>
                            </vr-datagrid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
            </vr-tabs>
            <div style="padding:0px 10px">
                <vr-section title="Analysis Result">
                    <vr-row removeline>
                        <vr-columns width="1/4row" >
                            <vr-label>Total Duration Deal (Months) </vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.DurationInMonths}} </vr-lable>
                        </vr-columns>

                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Total Commitment Cost </vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalCommitmentCost}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Total Commitment Revenue</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalCommitmentRevenue}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row" >
                            <vr-label>Total Savings (Per Deal)</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalSaving}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Total Customer Profit (Per Deal)</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalCustomerProfit}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Total Profit (Per Month)</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalProfitMonth}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Total Profit (Per Day)</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalProfitDay}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Total Commitment Profit</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.TotalCommitmentProfit}} </vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Margins</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.Margins}} %</vr-lable>
                        </vr-columns>
                    </vr-row>
                    <vr-row removeline>
                        <vr-columns width="1/4row">
                            <vr-label>Exposure</vr-label>
                        </vr-columns>
                        <vr-columns width="normal">
                            <vr-lable isvalue>{{scopeModel.Exposure}}</vr-lable>
                        </vr-columns>
                    </vr-row>
                </vr-section>
            </div>

        </vr-form>
    </vr-modalbody>
    <div>
        <vr-actionbar showcollapsebutton="false" issectioncollapsed="false">
            <div transclude-to="buttons">
                <vr-button type="Save" formname="formEditor" data-onclick="scopeModel.save"></vr-button>
                <vr-button type="Close" data-onclick="scopeModel.close"></vr-button>
            </div>
        </vr-actionbar>
    </div>
</div>