/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/

--[common].[Setting]--------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Type],[Category],[Settings],[Data],[IsTechnical])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('E0CDD055-40E0-4A5B-AA3B-ACA5CC4B8FA9','ICX Data Settings','Retail_Data_ICXDataSettings','Business Entities','{"Editor":"retail-data-icxdatasettings"}','{"$type":"Retail.Data.Entities.ICXDataSettings, Retail.Data.Entities","SessionOctetsLimit":4617089843.2}',0)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Type],[Category],[Settings],[Data],[IsTechnical]))
merge	[common].[Setting] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Name] = s.[Name],[Type] = s.[Type],[Category] = s.[Category],[Settings] = s.[Settings],[Data] = s.[Data],[IsTechnical] = s.[IsTechnical]
when not matched by target then
	insert([ID],[Name],[Type],[Category],[Settings],[Data],[IsTechnical])
	values(s.[ID],s.[Name],s.[Type],s.[Category],s.[Settings],s.[Data],s.[IsTechnical]);


--[common].[StatusDefinition]-----------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[BusinessEntityDefinitionID],[Settings],[CreatedBy],[LastModifiedBy],[LastModifiedTime])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('BD6B04B7-AAD2-47AD-BF80-83F9C493CBDB','Active','9AC0816F-2D5C-4824-8B05-3B6488EFD685','{"$type":"Vanrise.Entities.StatusDefinitionSettings, Vanrise.Entities","StyleDefinitionId":"fac30bbc-68b1-4e8e-b5de-93015285c012","HasInitialCharge":false,"HasRecurringCharge":false,"IsActive":true,"IsInvoiceActive":false,"IsAccountBalanceActive":false}',-1,-1,'2018-06-14 12:49:42.440')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[BusinessEntityDefinitionID],[Settings],[CreatedBy],[LastModifiedBy],[LastModifiedTime]))
merge	[common].[StatusDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[BusinessEntityDefinitionID] = s.[BusinessEntityDefinitionID],[Settings] = s.[Settings],[CreatedBy] = s.[CreatedBy],[LastModifiedBy] = s.[LastModifiedBy],[LastModifiedTime] = s.[LastModifiedTime]
when not matched by target then
	insert([ID],[Name],[BusinessEntityDefinitionID],[Settings],[CreatedBy],[LastModifiedBy],[LastModifiedTime])
	values(s.[ID],s.[Name],s.[BusinessEntityDefinitionID],s.[Settings],s.[CreatedBy],s.[LastModifiedBy],s.[LastModifiedTime]);


--[sec].[View]--------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Title],[Url],[Module],[ActionNames],[Audience],[Content],[Settings],[Type],[Rank],[IsDeleted])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('DCA194CE-C8AE-4F54-878B-05CED4EC386B','ISP Data','ISP Data',null						,'EB303A61-929A-4D33-BF50-18F40308BC86',null,null,null,'{"$type":"Vanrise.Analytic.Entities.AnalyticReportViewSettings, Vanrise.Analytic.Entities","TypeId":"e5fb0790-5428-44b4-bb1f-4f79b69cd6ef","AnalyticReportId":"08809a53-1cc8-47e2-901a-0333ae60ceb8"}','82FF3B8A-0C39-4376-9602-B84A240FBF82',null,null),
('91C8AFC1-04EF-4F5B-9269-2523F9A87106','ISPs','ISPs',null								,'AD9EEB65-70A3-4F57-B261-79F40D541E23',null,null,null,'{"$type":"Retail.BusinessEntity.Entities.AccountBEDefinitionViewSettings, Retail.BusinessEntity.Entities","Settings":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountBEDefinitionViewSetting, Retail.BusinessEntity.Entities]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.Entities.AccountBEDefinitionViewSetting, Retail.BusinessEntity.Entities","BusinessEntityId":"cdc53681-162c-42d6-b327-757570b876d8"}]},"AccountDefinitionSelectorLabel":"ISP"}','70CF19AC-B860-4010-A544-B6D41F94F505',2,null),
('6689B438-41CC-4B79-BFF3-8A732ECFFB57','ISP Identification','ISP Identification',null	,'1C7569FA-43C9-4853-AE4C-1152746A34FD',null,null,null,'{"$type":"Vanrise.GenericData.Entities.GenericRuleViewSettings, Vanrise.GenericData.Entities","RuleDefinitionIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["827ff22c-0417-4aed-99cd-26a34595ab0a"]}}','729BE766-F3D7-4BCC-9678-CCCF57BD4AAD',2,null)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Title],[Url],[Module],[ActionNames],[Audience],[Content],[Settings],[Type],[Rank],[IsDeleted]))
merge	[sec].[View] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[Url] = s.[Url],[Module] = s.[Module],[ActionNames] = s.[ActionNames],[Content] = s.[Content],[Settings] = s.[Settings],[Type] = s.[Type],[Rank] = s.[Rank]
when not matched by target then
	insert([ID],[Name],[Title],[Url],[Module],[ActionNames],[Audience],[Content],[Settings],[Type],[Rank],[IsDeleted])
	values(s.[ID],s.[Name],s.[Title],s.[Url],s.[Module],s.[ActionNames],s.[Audience],s.[Content],s.[Settings],s.[Type],s.[Rank],s.[IsDeleted]);


--[sec].[BusinessEntity]----------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([Id],[Name],[Title],[ModuleId],[BreakInheritance],[PermissionOptions])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('E406D25B-E4CF-4F68-BF0B-7323E02803B4','ICX_ISPIdentification_Rule','ISP Identification Rule','9BBD7C00-011D-4AC9-8B25-36D3E2A8F7CF',0,'["View","Add","Edit"]')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([Id],[Name],[Title],[ModuleId],[BreakInheritance],[PermissionOptions]))
merge	[sec].[BusinessEntity] as t
using	cte_data as s
on		1=1 and t.[Id] = s.[Id]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[ModuleId] = s.[ModuleId],[BreakInheritance] = s.[BreakInheritance],[PermissionOptions] = s.[PermissionOptions]
when not matched by target then
	insert([Id],[Name],[Title],[ModuleId],[BreakInheritance],[PermissionOptions])
	values(s.[Id],s.[Name],s.[Title],s.[ModuleId],s.[BreakInheritance],s.[PermissionOptions]);


--[genericdata].[DataRecordType]------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[ParentID],[Fields],[ExtraFieldsEvaluator],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('A95940E1-F3B5-4DBD-B20F-3C679A91BF42','ICX_ProcessedData',null,'{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"Id","Title":"Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":2,"IsNullable":false,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"RecordDateTime","Title":"Record Date Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","DataType":0,"IsNullable":false,"ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserSessionStartDate","Title":"User Session Start Date","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","DataType":0,"IsNullable":false,"ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserSession","Title":"UserSession","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserName","Title":"User Name","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SessionId","Title":"Session Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ISP","Title":"ISP","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","RuntimeEditor":"vr-genericdata-fieldtype-businessentity-runtimeeditor","BusinessEntityDefinitionId":"cdc53681-162c-42d6-b327-757570b876d8","IsNullable":true,"ViewerEditor":"vr-genericdata-fieldtype-businessentity-viewereditor","OrderType":1,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"InputOctets","Title":"Input Octets","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"OutputOctets","Title":"Output Octets","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ExtraFields","Title":"Extra Fields","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDictionaryType, Vanrise.GenericData.MainExtensions","ConfigId":"414c5c8d-48ad-4343-abda-4cd34d570c53","RuntimeEditor":"vr-genericdata-fieldtype-dictionary-runtimeeditor","OrderType":1,"StoreValueSerialized":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-dictionarydetailviewer","CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"DataSourceId","Title":"Data Source Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldGuidType, Vanrise.GenericData.MainExtensions","ConfigId":"ebd22f77-6275-4194-8710-7bf3063dcb68","RuntimeEditor":"vr-genericdata-fieldtype-guid-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-guid-viewereditor","IsNullable":false,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"BatchIdentifier","Title":"Batch Identifier","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldGuidType, Vanrise.GenericData.MainExtensions","ConfigId":"ebd22f77-6275-4194-8710-7bf3063dcb68","RuntimeEditor":"vr-genericdata-fieldtype-guid-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-guid-viewereditor","IsNullable":false,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false}]}',null,'{"$type":"Vanrise.GenericData.Entities.DataRecordTypeSettings, Vanrise.GenericData.Entities","DateTimeField":"RecordDateTime","IdField":"Id"}'),
('8EDCF809-1819-4072-A957-628FF325F760','ICX_AccumulatedData',null,'{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"Id","Title":"Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":2,"IsNullable":false,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserSessionStartDate","Title":"User Session Start Date","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":false,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserSession","Title":"User Session","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserName","Title":"User Name","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SessionId","Title":"Session Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ISP","Title":"ISP","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","RuntimeEditor":"vr-genericdata-fieldtype-businessentity-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-businessentity-viewereditor","BusinessEntityDefinitionId":"cdc53681-162c-42d6-b327-757570b876d8","IsNullable":true,"OrderType":1,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"FirstReceivedIn","Title":"First Received In","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"LastReceivedIn","Title":"Last Received In","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"TotalIn","Title":"Total In","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"NumberOfInReset","Title":"Number Of In Reset","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":1,"IsNullable":false,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"FirstInTime","Title":"First In Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"LastInTime","Title":"Last In Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"LastInResetTime","Title":"Last In Reset Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"FirstReceivedOut","Title":"First Received Out","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"LastReceivedOut","Title":"Last Received Out","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"TotalOut","Title":"Total Out","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"NumberOfOutReset","Title":"Number Of Out Reset","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":1,"IsNullable":false,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"FirstOutTime","Title":"First Out Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"LastOutTime","Title":"Last Out Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"LastOutResetTime","Title":"Last Out Reset Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DataType":0,"IsNullable":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"FirstBatchIdentifier","Title":"First Batch Identifier","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldGuidType, Vanrise.GenericData.MainExtensions","ConfigId":"ebd22f77-6275-4194-8710-7bf3063dcb68","RuntimeEditor":"vr-genericdata-fieldtype-guid-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-guid-viewereditor","IsNullable":false,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false}]}',null,'{"$type":"Vanrise.GenericData.Entities.DataRecordTypeSettings, Vanrise.GenericData.Entities","DateTimeField":"UserSessionStartDate","IdField":"Id"}'),
('F8E31AB9-3FD1-4B54-A692-AB89271DB796','ICX_RawData',null,'{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"Id","Title":"Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":2,"IsNullable":false,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"RecordDateTime","Title":"Record Date Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","DataType":0,"IsNullable":false,"ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserSessionStartDate","Title":"User Session Start Date","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","RuntimeEditor":"vr-genericdata-fieldtype-datetime-runtimeeditor","DataType":0,"IsNullable":false,"ViewerEditor":"vr-genericdata-fieldtype-datetime-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserSession","Title":"User Session","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"UserName","Title":"User Name","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SessionId","Title":"Session Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ISPName","Title":"ISP Name","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"InputOctets","Title":"Input Octets","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"OutputOctets","Title":"Output Octets","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ExtraFields","Title":"Extra Fields","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDictionaryType, Vanrise.GenericData.MainExtensions","ConfigId":"414c5c8d-48ad-4343-abda-4cd34d570c53","RuntimeEditor":"vr-genericdata-fieldtype-dictionary-runtimeeditor","OrderType":1,"StoreValueSerialized":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-dictionarydetailviewer","CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"DataSourceId","Title":"Data Source Id","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldGuidType, Vanrise.GenericData.MainExtensions","ConfigId":"ebd22f77-6275-4194-8710-7bf3063dcb68","RuntimeEditor":"vr-genericdata-fieldtype-guid-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-guid-viewereditor","IsNullable":false,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"BatchIdentifier","Title":"Batch Identifier","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldGuidType, Vanrise.GenericData.MainExtensions","ConfigId":"ebd22f77-6275-4194-8710-7bf3063dcb68","RuntimeEditor":"vr-genericdata-fieldtype-guid-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-guid-viewereditor","IsNullable":false,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"IsInheritedFromExtraField":false}]}',null,'{"$type":"Vanrise.GenericData.Entities.DataRecordTypeSettings, Vanrise.GenericData.Entities","DateTimeField":"RecordDateTime","IdField":"Id"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[ParentID],[Fields],[ExtraFieldsEvaluator],[Settings]))
merge	[genericdata].[DataRecordType] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[ParentID] = s.[ParentID],[Fields] = s.[Fields],[ExtraFieldsEvaluator] = s.[ExtraFieldsEvaluator],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[ParentID],[Fields],[ExtraFieldsEvaluator],[Settings])
	values(s.[ID],s.[Name],s.[ParentID],s.[Fields],s.[ExtraFieldsEvaluator],s.[Settings]);


--[genericdata].[DataRecordStorage]---------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[DataRecordTypeID],[DataStoreID],[Settings],[State])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('CCDA79A0-6863-4018-B78A-011C76B11EA0','ICX Accumulated Data Table','8EDCF809-1819-4072-A957-628FF325F760','6271CDCB-DA4E-4D51-8E9E-C2F89F2BB7B9','{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageSettings, Vanrise.GenericData.SQLDataStorage","TableName":"AccumulatedData","TableSchema":"ICX_Data","Columns":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage]], mscorlib","$values":[{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"Id","SQLDataType":"bigint","ValueExpression":"Id","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"UserSessionStartDate","SQLDataType":"datetime","ValueExpression":"UserSessionStartDate","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"UserSession","SQLDataType":"varchar(110)","ValueExpression":"UserSession","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"UserName","SQLDataType":"varchar(50)","ValueExpression":"UserName","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"SessionId","SQLDataType":"varchar(50)","ValueExpression":"SessionId","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"ISP","SQLDataType":"bigint","ValueExpression":"ISP","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"LastReceivedIn","SQLDataType":"decimal(22,2)","ValueExpression":"LastReceivedIn","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"TotalIn","SQLDataType":"decimal(22,2)","ValueExpression":"TotalIn","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"NumberOfInReset","SQLDataType":"int","ValueExpression":"NumberOfInReset","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"LastInTime","SQLDataType":"datetime","ValueExpression":"LastInTime","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"LastInResetTime","SQLDataType":"datetime","ValueExpression":"LastInResetTime","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"LastReceivedOut","SQLDataType":"decimal(22,2)","ValueExpression":"LastReceivedOut","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"TotalOut","SQLDataType":"decimal(22,2)","ValueExpression":"TotalOut","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"NumberOfOutReset","SQLDataType":"int","ValueExpression":"NumberOfOutReset","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"LastOutTime","SQLDataType":"datetime","ValueExpression":"LastOutTime","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"LastOutResetTime","SQLDataType":"datetime","ValueExpression":"LastOutResetTime","IsUnique":false,"IsIdentity":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"FirstBatchIdentifier","SQLDataType":"uniqueidentifier","ValueExpression":"FirstBatchIdentifier","IsUnique":false,"IsIdentity":false}]},"NullableFields":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.SQLDataStorage.NullableField, Vanrise.GenericData.SQLDataStorage]], mscorlib","$values":[{"$type":"Vanrise.GenericData.SQLDataStorage.NullableField, Vanrise.GenericData.SQLDataStorage","Name":"FirstReceivedIn"},{"$type":"Vanrise.GenericData.SQLDataStorage.NullableField, Vanrise.GenericData.SQLDataStorage","Name":"FirstInTime"},{"$type":"Vanrise.GenericData.SQLDataStorage.NullableField, Vanrise.GenericData.SQLDataStorage","Name":"FirstReceivedOut"},{"$type":"Vanrise.GenericData.SQLDataStorage.NullableField, Vanrise.GenericData.SQLDataStorage","Name":"FirstOutTime"}]},"IncludeQueueItemId":false,"DateTimeField":"UserSessionStartDate","EnableUseCaching":false,"RequiredLimitResult":false,"DontReflectToDB":false,"DenyAPICall":false,"RequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"FieldsPermissions":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.DataRecordStorageFieldsPermission, Vanrise.GenericData.Entities]], mscorlib","$values":[]}}',null),
('CD8E0BA5-C2D0-466B-8CA9-8C1C87AB952F','ICX Raw Data Table','F8E31AB9-3FD1-4B54-A692-AB89271DB796','6271CDCB-DA4E-4D51-8E9E-C2F89F2BB7B9','{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageSettings, Vanrise.GenericData.SQLDataStorage","TableName":"RawData","TableSchema":"ICX_Data","Columns":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage]], mscorlib","$values":[{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"Id","SQLDataType":"bigint","ValueExpression":"Id","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"RecordDateTime","SQLDataType":"datetime","ValueExpression":"RecordDateTime","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"UserSessionStartDate","SQLDataType":"datetime","ValueExpression":"UserSessionStartDate","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"UserSession","SQLDataType":"varchar(110)","ValueExpression":"UserSession","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"UserName","SQLDataType":"varchar(50)","ValueExpression":"UserName","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"SessionId","SQLDataType":"varchar(50)","ValueExpression":"SessionId","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"ISPName","SQLDataType":"varchar(50)","ValueExpression":"ISPName","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"InputOctets","SQLDataType":"decimal(22,2)","ValueExpression":"InputOctets","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"OutputOctets","SQLDataType":"decimal(22,2)","ValueExpression":"OutputOctets","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"ExtraFields","SQLDataType":"nvarchar(max)","ValueExpression":"ExtraFields","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"DataSourceId","SQLDataType":"uniqueidentifier","ValueExpression":"DataSourceId","IsUnique":false},{"$type":"Vanrise.GenericData.SQLDataStorage.SQLDataRecordStorageColumn, Vanrise.GenericData.SQLDataStorage","ColumnName":"BatchIdentifier","SQLDataType":"uniqueidentifier","ValueExpression":"BatchIdentifier","IsUnique":false}]},"NullableFields":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.SQLDataStorage.NullableField, Vanrise.GenericData.SQLDataStorage]], mscorlib","$values":[]},"IncludeQueueItemId":true,"DateTimeField":"RecordDateTime","EnableUseCaching":false,"RequiredLimitResult":false,"DontReflectToDB":false,"DenyAPICall":false,"RequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}}}',null)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[DataRecordTypeID],[DataStoreID],[Settings],[State]))
merge	[genericdata].[DataRecordStorage] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[DataRecordTypeID] = s.[DataRecordTypeID],[DataStoreID] = s.[DataStoreID],[Settings] = s.[Settings],[State] = s.[State]
when not matched by target then
	insert([ID],[Name],[DataRecordTypeID],[DataStoreID],[Settings],[State])
	values(s.[ID],s.[Name],s.[DataRecordTypeID],s.[DataStoreID],s.[Settings],s.[State]);


--[genericdata].[BusinessEntityDefinition]----------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Title],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('9AC0816F-2D5C-4824-8B05-3B6488EFD685','ICX_ISP_StatusDefinition','ICX_ISP_StatusDefinition','{"$type":"Vanrise.Common.Business.StatusDefinitionBESettings, Vanrise.Common.Business","ConfigId":"3f26b7e1-33d8-4428-9a3c-986805289c91","DefinitionEditor":"vr-common-statusdefinitionbe-editor","IdType":"System.Guid","ManagerFQTN":"Vanrise.Common.Business.StatusDefinitionManager, Vanrise.Common.Business","SelectorUIControl":"vr-common-statusdefinition-selector"}'),
('CDC53681-162C-42D6-B327-757570B876D8','ICX_ISP','ICX_ISP','{"$type":"Retail.BusinessEntity.Entities.AccountBEDefinitionSettings, Retail.BusinessEntity.Entities","ConfigId":"70d4a6ad-10cc-4f0b-8364-7d8ef3c044c4","ManagerFQTN":"Retail.BusinessEntity.Business.AccountBEManager, Retail.BusinessEntity.Business","DefinitionEditor":"retail-be-accountbedefinitions-editor","IdType":"System.Int64","SelectorFilterEditor":"retail-be-accountbe-runtimeselectorfilter","SelectorUIControl":"retail-be-account-selector","StatusBEDefinitionId":"9ac0816f-2d5c-4824-8b05-3b6488efd685","UseRemoteSelector":false,"AccountBulkActions":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountBulkAction, Retail.BusinessEntity.Entities]], mscorlib","$values":[]},"FinancialAccountLocator":{"$type":"Retail.BusinessEntity.Business.DefaultFinancialAccountLocator, Retail.BusinessEntity.Business","ConfigId":"63e3987b-302b-42ba-8e61-a7762fa7bfd3","UseFinancialAccountModule":false},"AccountExtraFieldDefinitions":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountExtraFieldDefinition, Retail.BusinessEntity.Entities]], mscorlib","$values":[]},"GridDefinition":{"$type":"Retail.BusinessEntity.Entities.AccountGridDefinition, Retail.BusinessEntity.Entities","ColumnDefinitions":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountGridColumnDefinition, Retail.BusinessEntity.Entities]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.Entities.AccountGridColumnDefinition, Retail.BusinessEntity.Entities","FieldName":"Name","Header":"Name","IsAvailableInRoot":true,"IsAvailableInSubAccounts":true},{"$type":"Retail.BusinessEntity.Entities.AccountGridColumnDefinition, Retail.BusinessEntity.Entities","FieldName":"AccountType","Header":"Account Type","IsAvailableInRoot":true,"IsAvailableInSubAccounts":true},{"$type":"Retail.BusinessEntity.Entities.AccountGridColumnDefinition, Retail.BusinessEntity.Entities","FieldName":"CreatedTime","Header":"Created Time","IsAvailableInRoot":true,"IsAvailableInSubAccounts":true}]}},"AccountViewDefinitions":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountViewDefinition, Retail.BusinessEntity.Entities]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.Entities.AccountViewDefinition, Retail.BusinessEntity.Entities","AccountViewDefinitionId":"a94f5b45-c6f0-f596-188f-cdb27cc2cc06","Name":"History","DrillDownSectionName":"History","Account360DegreeSectionName":"History","Settings":{"$type":"Retail.BusinessEntity.MainExtensions.AccountViews.AccountHistoryView, Retail.BusinessEntity.MainExtensions","ConfigId":"fb232763-6ac1-49b5-a410-fa792980055c","RuntimeEditor":"retail-be-accounthistory-view"}}]},"ActionDefinitions":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountActionDefinition, Retail.BusinessEntity.Entities]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.Entities.AccountActionDefinition, Retail.BusinessEntity.Entities","AccountActionDefinitionId":"f9639712-74f6-37dd-c905-f10663ed2a84","Name":"Edit","VisibleInActionMenu":true,"VisibleInBalanceAlertRule":false,"ActionDefinitionSettings":{"$type":"Retail.BusinessEntity.MainExtensions.AccountBEActionTypes.EditAccountActionSettings, Retail.BusinessEntity.MainExtensions","ConfigId":"2504a630-d16b-43dc-8505-f85e3dfd0568","ClientActionName":"Edit"}}]},"ActionGroupDefinitions":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountActionGroupDefinition, Retail.BusinessEntity.Entities]], mscorlib","$values":[]},"UseFinancialAccountModule":false,"UseRecurringChargeModule":false,"Security":{"$type":"Retail.BusinessEntity.Entities.AccountBEDefinitionSecurity, Retail.BusinessEntity.Entities","ViewRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"542daea8-3c74-4ae5-86ec-d251cf6c7d15","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["View"]}}]}},"AddRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"542daea8-3c74-4ae5-86ec-d251cf6c7d15","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Add"]}}]}},"EditRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"542daea8-3c74-4ae5-86ec-d251cf6c7d15","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Edit"]}}]}},"ViewPackageRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"AddPackageRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"EditPackageRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"ViewAccountPackageRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"AddAccountPackageRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"ViewProductRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"AddProductRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"EditProductRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"ViewFinancialAccountRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"AddFinancialAccountRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}},"EditFinancialAccountRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}}},"Classifications":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountBEClassification, Retail.BusinessEntity.Entities]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.Entities.AccountBEClassification, Retail.BusinessEntity.Entities","Title":"Customer","Name":"Customer"}]}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Title],[Settings]))
merge	[genericdata].[BusinessEntityDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[Title],[Settings])
	values(s.[ID],s.[Name],s.[Title],s.[Settings]);


--[genericdata].[GenericRuleDefinition]-------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Details])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('827FF22C-0417-4AED-99CD-26A34595AB0A','ICX_ISP Identification','{"$type":"Vanrise.GenericData.Entities.GenericRuleDefinition, Vanrise.GenericData.Entities","GenericRuleDefinitionId":"827ff22c-0417-4aed-99cd-26a34595ab0a","Name":"ICX_ISP Identification","Title":"ISP Identification","CriteriaDefinition":{"$type":"Vanrise.GenericData.Entities.GenericRuleDefinitionCriteria, Vanrise.GenericData.Entities","ConfigId":"6b1a593a-e5e5-4ca4-834a-9a20a1fd16ba","Fields":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.GenericRuleDefinitionCriteriaField, Vanrise.GenericData.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Entities.GenericRuleDefinitionCriteriaField, Vanrise.GenericData.Entities","FieldName":"ISPName","Title":"ISP Name","FieldType":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","RuntimeEditor":"vr-genericdata-fieldtype-text-runtimeeditor","OrderType":1,"ViewerEditor":"vr-genericdata-fieldtype-text-viewereditor","DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"RuleStructureBehaviorType":0,"Priority":1,"ShowInBasicSearch":true,"IgnoreCase":true}]},"Groups":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.GenericRuleDefinitionCriteriaGroup, Vanrise.GenericData.Entities]], mscorlib","$values":[]}},"SettingsDefinition":{"$type":"Vanrise.GenericData.Transformation.Entities.MappingRuleDefinitionSettings, Vanrise.GenericData.Transformation.Entities","ConfigId":"ae91755c-f573-4add-8dba-7733193384af","FieldTitle":"Interconnect ISP","FieldType":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","RuntimeEditor":"vr-genericdata-fieldtype-businessentity-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-businessentity-viewereditor","BusinessEntityDefinitionId":"cdc53681-162c-42d6-b327-757570b876d8","IsNullable":false,"OrderType":1,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"SupportUpload":false},"Security":{"$type":"Vanrise.GenericData.Entities.GenericRuleDefinitionSecurity, Vanrise.GenericData.Entities","ViewRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"e406d25b-e4cf-4f68-bf0b-7323e02803b4","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["View"]}}]}},"AddRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"e406d25b-e4cf-4f68-bf0b-7323e02803b4","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Add"]}}]}},"EditRequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"e406d25b-e4cf-4f68-bf0b-7323e02803b4","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Edit"]}}]}}}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Details]))
merge	[genericdata].[GenericRuleDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Details] = s.[Details]
when not matched by target then
	insert([ID],[Name],[Details])
	values(s.[ID],s.[Name],s.[Details]);


--[genericdata].[DataTransformationDefinition]------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Title],[Details])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('FEEAEE8E-6CF9-438F-9DD1-27BE556BE27A','ICX_CreateAccDataFromProcessedData','ICX CreateAccDataFromProcessedData','{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationDefinition, Vanrise.GenericData.Transformation.Entities","DataTransformationDefinitionId":"feeaee8e-6cf9-438f-9dd1-27be556be27a","Name":"ICX_CreateAccDataFromProcessedData","Title":"ICX CreateAccDataFromProcessedData","RecordTypes":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"processedData","DataRecordTypeId":"a95940e1-f3b5-4dbd-b20f-3c679a91bf42","IsArray":false},{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"accumulatedData","DataRecordTypeId":"8edcf809-1819-4072-a957-628ff325f760","IsArray":false}]},"MappingSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.InitializeRecordStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"f02ac0b5-79a4-4343-8081-85cd3787b88c","RecordName":"accumulatedData"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.UserSessionStartDate","Target":"accumulatedData.UserSessionStartDate"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.UserSession","Target":"accumulatedData.UserSession"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.UserName","Target":"accumulatedData.UserName"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.SessionId","Target":"accumulatedData.SessionId"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.ISP","Target":"accumulatedData.ISP"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.InputOctets","Target":"accumulatedData.FirstReceivedIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.InputOctets","Target":"accumulatedData.LastReceivedIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.InputOctets","Target":"accumulatedData.TotalIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.RecordDateTime","Target":"accumulatedData.FirstInTime"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"processedData.InputOctets.HasValue","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.RecordDateTime","Target":"accumulatedData.LastInTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.OutputOctets","Target":"accumulatedData.FirstReceivedOut"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.OutputOctets","Target":"accumulatedData.LastReceivedOut"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.OutputOctets","Target":"accumulatedData.TotalOut"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.RecordDateTime","Target":"accumulatedData.FirstOutTime"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"processedData.OutputOctets.HasValue","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.RecordDateTime","Target":"accumulatedData.LastOutTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"processedData.BatchIdentifier","Target":"accumulatedData.FirstBatchIdentifier"}]}}'),
('85E6F345-FF3B-4E1B-BF99-5CDFA67D780B','ICX_RawDataToProcessedDataTransformation','ICX RawData To ProcessedData Transformation','{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationDefinition, Vanrise.GenericData.Transformation.Entities","DataTransformationDefinitionId":"85e6f345-ff3b-4e1b-bf99-5cdfa67d780b","Name":"ICX_RawDataToProcessedDataTransformation","Title":"ICX RawData To ProcessedData Transformation","RecordTypes":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"rawDataList","DataRecordTypeId":"f8e31ab9-3fd1-4b54-a692-ab89271db796","IsArray":true},{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"processedDataList","DataRecordTypeId":"a95940e1-f3b5-4dbd-b20f-3c679a91bf42","IsArray":true},{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"processedData","DataRecordTypeId":"a95940e1-f3b5-4dbd-b20f-3c679a91bf42","IsArray":false}]},"MappingSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.InitializeRecordStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"f02ac0b5-79a4-4343-8081-85cd3787b88c","RecordName":"processedDataList"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.ForLoopStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"d7ce9698-2721-467e-9820-1ed44b446d0d","Steps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.InitializeRecordStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"f02ac0b5-79a4-4343-8081-85cd3787b88c","RecordName":"processedData"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.Id","Target":"processedData.Id"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.RecordDateTime","Target":"processedData.RecordDateTime"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.UserSessionStartDate","Target":"processedData.UserSessionStartDate"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.UserSession","Target":"processedData.UserSession"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.UserName","Target":"processedData.UserName"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.SessionId","Target":"processedData.SessionId"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.InputOctets","Target":"processedData.InputOctets"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.OutputOctets","Target":"processedData.OutputOctets"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.ExtraFields","Target":"processedData.ExtraFields"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.DataSourceId","Target":"processedData.DataSourceId"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"rawData.BatchIdentifier","Target":"processedData.BatchIdentifier"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignValueRuleStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"59b40c67-527f-40f8-bfe7-ce19d2101802","Target":"processedData.ISP","RuleDefinitionId":"827ff22c-0417-4aed-99cd-26a34595ab0a","RuleFieldsMappings":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.GenericRuleCriteriaFieldMapping, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.Entities.GenericRuleCriteriaFieldMapping, Vanrise.GenericData.Transformation.Entities","RuleCriteriaFieldName":"ISPName","Value":"rawData.ISPName"}]},"RuleObjectsMappings":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.GenericRuleObjectMapping, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AddItemToArrayStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"9c158fa5-8516-4af7-aedd-1bc69d026afc","ArrayVariableName":"processedDataList","VariableName":"processedData"}]},"ArrayVariableName":"rawDataList","IterationVariableName":"rawData"}]}}'),
('5D3221C6-CCB3-4F4C-9FDA-9FD6D72DBC4F','ICX_UpdateAccDataFromNewAccData','ICX UpdateAccDataFromNewAccData','{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationDefinition, Vanrise.GenericData.Transformation.Entities","DataTransformationDefinitionId":"5d3221c6-ccb3-4f4c-9fda-9fd6d72dbc4f","Name":"ICX_UpdateAccDataFromNewAccData","Title":"ICX UpdateAccDataFromNewAccData","RecordTypes":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"existingAccData","DataRecordTypeId":"8edcf809-1819-4072-a957-628ff325f760","IsArray":false},{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"newAccData","DataRecordTypeId":"8edcf809-1819-4072-a957-628ff325f760","IsArray":false},{"$type":"Vanrise.GenericData.Transformation.Entities.DataTransformationRecordType, Vanrise.GenericData.Transformation.Entities","RecordName":"sessionOctetsLimit","FullTypeName":"decimal","IsArray":false}]},"MappingSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.ExecuteExpressionStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"ce33aab3-2c0a-4f8c-8fbd-ff6b91677c8f","Expression":"sessionOctetsLimit = new Retail.Data.Business.ConfigManager().GetSessionOctetsLimit();"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfElseStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"9cf3c165-1921-4f83-990d-03b82a04aa5a","Condition":"existingAccData.FirstBatchIdentifier.CompareTo(newAccData.FirstBatchIdentifier) == 0","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"existingAccData.LastReceivedIn.HasValue && newAccData.LastReceivedIn.HasValue &&\n(existingAccData.LastReceivedIn.Value > newAccData.LastReceivedIn.Value)","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"existingAccData.NumberOfInReset + 1","Target":"existingAccData.NumberOfInReset"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastInTime","Target":"existingAccData.LastInResetTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"existingAccData.LastReceivedIn != newAccData.LastReceivedIn","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastInTime","Target":"existingAccData.LastInTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"(existingAccData.NumberOfInReset * sessionOctetsLimit) + (newAccData.LastReceivedIn.HasValue ? newAccData.LastReceivedIn.Value : 0)","Target":"existingAccData.TotalIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastReceivedIn","Target":"existingAccData.LastReceivedIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"existingAccData.LastReceivedOut.HasValue && newAccData.LastReceivedOut.HasValue && \n(existingAccData.LastReceivedOut.Value > newAccData.LastReceivedOut.Value)","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"existingAccData.NumberOfOutReset + 1","Target":"existingAccData.NumberOfOutReset"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastOutTime","Target":"existingAccData.LastOutResetTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"existingAccData.LastReceivedOut != newAccData.LastReceivedOut","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastOutTime","Target":"existingAccData.LastOutTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"(existingAccData.NumberOfOutReset * sessionOctetsLimit) + (newAccData.LastReceivedOut.HasValue ? newAccData.LastReceivedOut.Value : 0)","Target":"existingAccData.TotalOut"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastReceivedOut","Target":"existingAccData.LastReceivedOut"}]},"ElseSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"existingAccData.NumberOfInReset + newAccData.NumberOfInReset","Target":"existingAccData.NumberOfInReset"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"existingAccData.LastReceivedIn.HasValue && newAccData.FirstReceivedIn.HasValue && \n(existingAccData.LastReceivedIn.Value > newAccData.FirstReceivedIn.Value)","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"existingAccData.NumberOfInReset  + 1","Target":"existingAccData.NumberOfInReset"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.FirstInTime","Target":"existingAccData.LastInResetTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"newAccData.LastInResetTime.HasValue","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastInResetTime.Value","Target":"existingAccData.LastInResetTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"newAccData.LastInTime.HasValue","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastInTime.Value","Target":"existingAccData.LastInTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"(existingAccData.NumberOfInReset * sessionOctetsLimit) + (newAccData.LastReceivedIn.HasValue ? newAccData.LastReceivedIn.Value : 0)","Target":"existingAccData.TotalIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastReceivedIn","Target":"existingAccData.LastReceivedIn"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"existingAccData.NumberOfOutReset + newAccData.NumberOfOutReset","Target":"existingAccData.NumberOfOutReset"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"existingAccData.LastReceivedOut.HasValue && newAccData.FirstReceivedOut.HasValue && \n(existingAccData.LastReceivedOut.Value > newAccData.FirstReceivedOut.Value)","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"existingAccData.NumberOfOutReset + 1","Target":"existingAccData.NumberOfOutReset"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.FirstOutTime","Target":"existingAccData.LastOutResetTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"newAccData.LastOutResetTime.HasValue","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastOutResetTime.Value","Target":"existingAccData.LastOutResetTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.IfStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"1b22813c-f507-4bfb-bee8-621f9f983ecb","Condition":"newAccData.LastOutTime.HasValue","ThenSteps":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Transformation.Entities.MappingStep, Vanrise.GenericData.Transformation.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastOutTime.Value","Target":"existingAccData.LastOutTime"}]}},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"(existingAccData.NumberOfOutReset * sessionOctetsLimit) + (newAccData.LastReceivedOut.HasValue ? newAccData.LastReceivedOut.Value : 0)","Target":"existingAccData.TotalOut"},{"$type":"Vanrise.GenericData.Transformation.MainExtensions.MappingSteps.AssignFieldStep, Vanrise.GenericData.Transformation.MainExtensions","ConfigId":"00e8e50c-017e-44ed-96a9-6d4291a9c4b6","Source":"newAccData.LastReceivedOut","Target":"existingAccData.LastReceivedOut"}]}}]}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Title],[Details]))
merge	[genericdata].[DataTransformationDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[Details] = s.[Details]
when not matched by target then
	insert([ID],[Name],[Title],[Details])
	values(s.[ID],s.[Name],s.[Title],s.[Details]);


--[genericdata].[SummaryTransformationDefinition]---------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Details])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('8CA256C2-3F41-4D04-A45D-FA8F0053AC08','ICX Accumulated Data Daily Transformation','{"$type":"Vanrise.GenericData.Entities.SummaryTransformationDefinition, Vanrise.GenericData.Entities","SummaryTransformationDefinitionId":"8ca256c2-3f41-4d04-a45d-fa8f0053ac08","Name":"ICX Accumulated Data Daily Transformation","RawItemRecordTypeId":"a95940e1-f3b5-4dbd-b20f-3c679a91bf42","SummaryItemRecordTypeId":"8edcf809-1819-4072-a957-628ff325f760","RawTimeFieldName":"UserSessionStartDate","SummaryIdFieldName":"Id","SummaryBatchStartFieldName":"UserSessionStartDate","BatchRangeRetrieval":{"$type":"Vanrise.GenericData.MainExtensions.SummaryBatchTimeIntervalRange, Vanrise.GenericData.MainExtensions","ConfigId":"c47176fb-32eb-430c-b92d-d34dfadcddf9","IntervalType":2,"IntervalOffset":1},"KeyFieldMappings":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.SummaryTransformationKeyFieldMapping, Vanrise.GenericData.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Entities.SummaryTransformationKeyFieldMapping, Vanrise.GenericData.Entities","SummaryFieldName":"UserSession"}]},"SummaryFromRawSettings":{"$type":"Vanrise.GenericData.Entities.UpdateSummaryFromRawSettings, Vanrise.GenericData.Entities","TransformationDefinitionId":"feeaee8e-6cf9-438f-9dd1-27be556be27a","RawRecordName":"processedData","SymmaryRecordName":"accumulatedData"},"UpdateExistingSummaryFromNewSettings":{"$type":"Vanrise.GenericData.Entities.UpdateExistingSummaryFromNewSettings, Vanrise.GenericData.Entities","TransformationDefinitionId":"5d3221c6-ccb3-4f4c-9fda-9fd6d72dbc4f","ExistingRecordName":"existingAccData","NewRecordName":"newAccData"},"DataRecordStorageId":"ccda79a0-6863-4018-b78a-011c76b11ea0"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Details]))
merge	[genericdata].[SummaryTransformationDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Details] = s.[Details]
when not matched by target then
	insert([ID],[Name],[Details])
	values(s.[ID],s.[Name],s.[Details]);


--[queue].[QueueActivatorConfig]--------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[OldID],[Name],[Details])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('FA1C1096-BD96-450A-A84D-D64BA9F7A759',null,'Prepare Data Queue Activator','{"QueueActivatorConfigId":"FA1C1096-BD96-450A-A84D-D64BA9F7A759","Name":"Prepare Data Queue Activator","Title":"Prepare Data Queue Activator","Editor":"retail-data-queueactivator-preparedata"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[OldID],[Name],[Details]))
merge	[queue].[QueueActivatorConfig] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[OldID] = s.[OldID],[Name] = s.[Name],[Details] = s.[Details]
when not matched by target then
	insert([ID],[OldID],[Name],[Details])
	values(s.[ID],s.[OldID],s.[Name],s.[Details]);


--[queue].[ExecutionFlowDefinition]-----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([Id],[Name],[Title],[ExecutionTree],[Stages])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('A765C7EE-1F43-44D9-A88B-22C2BEB2E7A5','ICX_ImportData','ICX Import Data',null,'{"$type":"System.Collections.Generic.List`1[[Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities]], mscorlib","$values":[{"$type":"Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities","StageName":"Prepare Data Stage","QueueNameTemplate":"Queue_#FlowId#_#StageName#","QueueTitleTemplate":"#StageName# Queue (#FlowName#)","QueueItemType":{"$type":"Vanrise.GenericData.QueueActivators.DataRecordBatchQueueItemType, Vanrise.GenericData.QueueActivators","DataRecordTypeId":"f8e31ab9-3fd1-4b54-a692-ab89271db796","BatchDescription":"#RECORDSCOUNT# of CDRs"},"QueueActivator":{"$type":"Retail.Data.MainExtensions.QueueActivators.PrepareDataActivator, Retail.Data.MainExtensions","OutputStages":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Distribute Raw Data Stage"]},"NbOfMaxConcurrentActivators":10,"ConfigId":"fa1c1096-bd96-450a-a84d-d64ba9f7a759"},"IsSequential":true},{"$type":"Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities","StageName":"Distribute Raw Data Stage","QueueNameTemplate":"Queue_#FlowId#_#StageName#","QueueTitleTemplate":"#StageName# Queue (#FlowName#)","QueueItemType":{"$type":"Vanrise.GenericData.QueueActivators.DataRecordBatchQueueItemType, Vanrise.GenericData.QueueActivators","DataRecordTypeId":"f8e31ab9-3fd1-4b54-a692-ab89271db796","BatchDescription":"#RECORDSCOUNT# of CDRs"},"QueueActivator":{"$type":"Vanrise.GenericData.QueueActivators.DistributeBatchQueueActivator, Vanrise.GenericData.QueueActivators","OutputStages":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Raw Data Storage Stage","Process Data Stage"]},"NbOfMaxConcurrentActivators":10,"ConfigId":"2f2fa33f-4c73-40dc-92e5-341e17c2183b"},"IsSequential":true},{"$type":"Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities","StageName":"Raw Data Storage Stage","QueueNameTemplate":"Queue_#FlowId#_#StageName#","QueueTitleTemplate":"#StageName# Queue (#FlowName#)","QueueItemType":{"$type":"Vanrise.GenericData.QueueActivators.DataRecordBatchQueueItemType, Vanrise.GenericData.QueueActivators","DataRecordTypeId":"f8e31ab9-3fd1-4b54-a692-ab89271db796","BatchDescription":"#RECORDSCOUNT# of CDRs"},"QueueActivator":{"$type":"Vanrise.GenericData.QueueActivators.StoreBatchQueueActivator, Vanrise.GenericData.QueueActivators","DataRecordStorageId":"cd8e0ba5-c2d0-466b-8ca9-8c1c87ab952f","NbOfMaxConcurrentActivators":10,"ConfigId":"f6ced9a6-86c4-4fb9-b706-6e91d8f02908"},"IsSequential":false},{"$type":"Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities","StageName":"Process Data Stage","QueueNameTemplate":"Queue_#FlowId#_#StageName#","QueueTitleTemplate":"#StageName# Queue (#FlowName#)","QueueItemType":{"$type":"Vanrise.GenericData.QueueActivators.DataRecordBatchQueueItemType, Vanrise.GenericData.QueueActivators","DataRecordTypeId":"f8e31ab9-3fd1-4b54-a692-ab89271db796","BatchDescription":"#RECORDSCOUNT# of CDRs"},"QueueActivator":{"$type":"Vanrise.GenericData.QueueActivators.TransformBatchQueueActivator, Vanrise.GenericData.QueueActivators","DataTransformationDefinitionId":"85e6f345-ff3b-4e1b-bf99-5cdfa67d780b","SourceRecordName":"rawDataList","NextStagesRecords":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.QueueActivators.TransformBatchNextStageRecord, Vanrise.GenericData.QueueActivators]], mscorlib","$values":[{"$type":"Vanrise.GenericData.QueueActivators.TransformBatchNextStageRecord, Vanrise.GenericData.QueueActivators","RecordName":"processedDataList","NextStages":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Accumulate Data Daily Generation Stage"]}}]},"NbOfMaxConcurrentActivators":10,"ConfigId":"65db9db0-61ca-47da-af9e-7e9e0adb11d9"},"IsSequential":true},{"$type":"Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities","StageName":"Accumulate Data Daily Generation Stage","QueueNameTemplate":"Queue_#FlowId#_#StageName#","QueueTitleTemplate":"#StageName# Queue (#FlowName#)","QueueItemType":{"$type":"Vanrise.GenericData.QueueActivators.DataRecordBatchQueueItemType, Vanrise.GenericData.QueueActivators","DataRecordTypeId":"a95940e1-f3b5-4dbd-b20f-3c679a91bf42","BatchDescription":"#RECORDSCOUNT# of CDRs"},"QueueActivator":{"$type":"Vanrise.GenericData.QueueActivators.GenerateSummaryQueueActivator, Vanrise.GenericData.QueueActivators","SummaryTransformationDefinitionId":"8ca256c2-3f41-4d04-a45d-fa8f0053ac08","NextStageName":"Accumulate Data Daily Update Stage","NbOfMaxConcurrentActivators":10,"ConfigId":"bc4a5cee-e7c6-491d-9ced-9ee2bc11113f"},"IsSequential":true},{"$type":"Vanrise.Queueing.Entities.QueueExecutionFlowStage, Vanrise.Queueing.Entities","StageName":"Accumulate Data Daily Update Stage","QueueNameTemplate":"Queue_#FlowId#_#StageName#","QueueTitleTemplate":"#StageName# Queue (#FlowName#)","QueueItemType":{"$type":"Vanrise.GenericData.QueueActivators.GenericSummaryRecordBatchQueueItemType, Vanrise.GenericData.QueueActivators","DataRecordTypeId":"8edcf809-1819-4072-a957-628ff325f760","BatchDescription":"#RECORDSCOUNT# of CDRs"},"QueueActivator":{"$type":"Vanrise.GenericData.QueueActivators.UpdateSummaryQueueActivator, Vanrise.GenericData.QueueActivators","SummaryTransformationDefinitionId":"8ca256c2-3f41-4d04-a45d-fa8f0053ac08","NbOfMaxConcurrentActivators":10,"ConfigId":"d5580f72-b018-48ad-a0a8-0f754cc2478a"},"IsSequential":true}]}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([Id],[Name],[Title],[ExecutionTree],[Stages]))
merge	[queue].[ExecutionFlowDefinition] as t
using	cte_data as s
on		1=1 and t.[Id] = s.[Id]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[ExecutionTree] = s.[ExecutionTree],[Stages] = s.[Stages]
when not matched by target then
	insert([Id],[Name],[Title],[ExecutionTree],[Stages])
	values(s.[Id],s.[Name],s.[Title],s.[ExecutionTree],s.[Stages]);


--[queue].[ExecutionFlow]---------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([Id],[Name],[ExecutionFlowDefinitionID])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('07EEAF91-7F3C-4600-9897-D7D37F2D56D2','ICX Import Data','A765C7EE-1F43-44D9-A88B-22C2BEB2E7A5')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([Id],[Name],[ExecutionFlowDefinitionID]))
merge	[queue].[ExecutionFlow] as t
using	cte_data as s
on		1=1 and t.[Id] = s.[Id]
when matched then
	update set
	[Name] = s.[Name],[ExecutionFlowDefinitionID] = s.[ExecutionFlowDefinitionID]
when not matched by target then
	insert([Id],[Name],[ExecutionFlowDefinitionID])
	values(s.[Id],s.[Name],s.[ExecutionFlowDefinitionID]);


--[runtime].[ScheduleTask]--------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([Id],[Name],[IsEnabled],[TaskType],[TriggerTypeId],[ActionTypeId],[TaskSettings],[OwnerId])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('4D205C40-816B-4F40-8E81-B57E6E696867','Data Source Task',0,0,'295B4FAC-DBF9-456F-855E-60D0B176F86B','B7CF41B9-F1B3-4C02-980D-B9FAFB4CFF68','{"$type":"Vanrise.Runtime.Entities.SchedulerTaskSettings, Vanrise.Runtime.Entities","TaskTriggerArgument":{"$type":"Vanrise.Runtime.Triggers.TimeTaskTrigger.Arguments.IntervalTimeTaskTriggerArgument, Vanrise.Runtime.Triggers.TimeTaskTrigger.Arguments","Interval":5.0,"IntervalType":2,"TimerTriggerTypeFQTN":"Vanrise.Runtime.Triggers.TimeTaskTrigger.IntervalTimeSchedulerTaskTrigger, Vanrise.Runtime.Triggers.TimeTaskTrigger","IgnoreSkippedIntervals":false},"StartEffDate":"2018-06-13T10:48:40.449"}',-1)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([Id],[Name],[IsEnabled],[TaskType],[TriggerTypeId],[ActionTypeId],[TaskSettings],[OwnerId]))
merge	[runtime].[ScheduleTask] as t
using	cte_data as s
on		1=1 and t.[Id] = s.[Id]
when matched then
	update set
	[Name] = s.[Name],[IsEnabled] = s.[IsEnabled],[TaskType] = s.[TaskType],[TriggerTypeId] = s.[TriggerTypeId],[ActionTypeId] = s.[ActionTypeId],[TaskSettings] = s.[TaskSettings],[OwnerId] = s.[OwnerId]
when not matched by target then
	insert([Id],[Name],[IsEnabled],[TaskType],[TriggerTypeId],[ActionTypeId],[TaskSettings],[OwnerId])
	values(s.[Id],s.[Name],s.[IsEnabled],s.[TaskType],s.[TriggerTypeId],s.[ActionTypeId],s.[TaskSettings],s.[OwnerId]);


--[integration].[DataSource]------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[AdapterID],[AdapterState],[TaskId],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('111F7C4D-B4E8-4744-B51A-2371C86E453F','Data Import ICX - Sample Datasource','10323CCB-CBFD-4BBE-91F3-FC80E2D91630','{"$type":"Vanrise.Integration.Adapters.DBReceiveAdapter.Arguments.DBAdapterState, Vanrise.Integration.Adapters.DBReceiveAdapter.Arguments","LastImportedId":0}','4D205C40-816B-4F40-8E81-B57E6E696867','{"$type":"Vanrise.Integration.Entities.DataSourceSettings, Vanrise.Integration.Entities","AdapterArgument":{"$type":"Vanrise.Integration.Adapters.DBReceiveAdapter.Arguments.DBAdapterArgument, Vanrise.Integration.Adapters.DBReceiveAdapter.Arguments","ConnectionString":"Server=192.168.110.185;Database=Mediation_Dev_CDR;User ID=Development;Password=dev!123","Query":"SELECT #TopRows# [Id]\n      ,[UserName]\n      ,[AcctSessionId]\n      ,[AcctInputOctets]\n      ,[AcctOutputOctets]\n      ,CONVERT(DATETIME, [RecordDate]) + CONVERT(DATETIME, [RecordTime])  AS RecordDateTime\n  FROM  [Mediation_WHS].[OgeroRadiusCDR]\nWhere  \n(Id > ISNULL(@RangeStart, 0)) AND\n(Id <= ISNULL(@RangeEnd, 9999999999999999))\nORDER BY [Id]","IdentifierColumnName":"Id","NumberOfParallelReader":3,"NumberOffSet":1000000,"MaxParallelRuntimeInstances":3,"CommandTimeoutInSeconds":0},"MapperCustomCode":"LogVerbose(\"Started\");\n\n\t\tvar dataList = new List<dynamic>();\n\t\tvar dataRecordTypeManager = new Vanrise.GenericData.Business.DataRecordTypeManager();\n\t\tType dataRuntimeType = dataRecordTypeManager.GetDataRecordRuntimeType(\"ICX_RawData\");\n\t\t\n\t\tint batchSize = 50000;\n\t\tvar dataRecordVanriseType = new Vanrise.GenericData.Entities.DataRecordVanriseType(\"ICX_RawData\");\n\t\t\n\t\tvar importedData = ((Vanrise.Integration.Entities.DBReaderImportedData)(data));\n\t\t\n\t\tGuid batchIdentifier = Guid.NewGuid();\n\t\t\n\t\tIDataReader reader = importedData.Reader;\n\t\t\n\t\tint rowCount = 0;\n\t\twhile (reader.Read())\n\t\t{\n\t\t\tdynamic dataRecord = Activator.CreateInstance(dataRuntimeType) as dynamic;\n\t\t\t\n\t\t\tdataRecord.RecordDateTime = Utils.GetReaderValue<DateTime>(reader, \"RecordDateTime\");\n\t\t\t\n\t\t\tstring userName = reader[\"UserName\"] as string;\n\t\t\tdataRecord.ISPName = userName.Substring(userName.IndexOf(\"@\") + 1);\n\t\t\tdataRecord.UserName = userName;\n\t\t\tdataRecord.SessionId = reader[\"AcctSessionId\"] as string;\n\t\t\tdataRecord.InputOctets = (decimal?) Utils.GetReaderValue<long?>(reader, \"AcctInputOctets\"); \n\t\t\tdataRecord.OutputOctets = (decimal?) Utils.GetReaderValue<long?>(reader, \"AcctOutputOctets\");\n\t\t\tdataRecord.DataSourceId = dataSourceId;\n\t\t\tdataRecord.BatchIdentifier = batchIdentifier;\t\t\t\n\t\t\tdataList.Add(dataRecord);\n\t\t\n\t\t\timportedData.LastImportedId = reader[\"Id\"];\n\t\t\n\t\t\trowCount++;\n\t\t\tif (rowCount == batchSize)\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif (dataList.Count > 0)\n\t\t{\n\t\t\tlong startingId;\n\t\t\tVanrise.Common.Business.IDManager.Instance.ReserveIDRange(dataRecordVanriseType, rowCount, out startingId);\n\t\t\tlong currentDataId = startingId;\n\t\t\n\t\t\tforeach (var dataRecord in dataList)\n\t\t\t{\n\t\t\t\tdataRecord.Id = currentDataId;\n\t\t\t\tcurrentDataId++;\n\t\t\t}\n\t\t\tvar batch = Vanrise.GenericData.QueueActivators.DataRecordBatch.CreateBatchFromRecords(dataList, \"#RECORDSCOUNT# of Raw dataList\", \"ICX_RawData\");\n\t\t\tmappedBatches.Add(\"Prepare Data Stage\", batch);\n\t\t}\n\t\telse\n\t\t\timportedData.IsEmpty = true;\n\t\t\n\t\tVanrise.Integration.Entities.MappingOutput result = new Vanrise.Integration.Entities.MappingOutput();\n\t\tresult.Result = Vanrise.Integration.Entities.MappingResult.Valid;\n\t\tLogVerbose(\"Finished\");\n\t\t\n\t\treturn result;","ExecutionFlowId":"07eeaf91-7f3c-4600-9897-d7d37f2d56d2"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[AdapterID],[AdapterState],[TaskId],[Settings]))
merge	[integration].[DataSource] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[AdapterID] = s.[AdapterID],[AdapterState] = s.[AdapterState],[TaskId] = s.[TaskId],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[AdapterID],[AdapterState],[TaskId],[Settings])
	values(s.[ID],s.[Name],s.[AdapterID],s.[AdapterState],s.[TaskId],s.[Settings]);


--[reprocess].[ReprocessDefinition]-----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([Id],[Name],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('F55B8139-7F10-4E7A-8839-66A0CA80B987','ICX Data Reprocess','{"$type":"Vanrise.Reprocess.Entities.ReprocessDefinitionSettings, Vanrise.Reprocess.Entities","SourceRecordStorageIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["cd8e0ba5-c2d0-466b-8ca9-8c1c87ab952f"]},"ExecutionFlowDefinitionId":"a765c7ee-1f43-44d9-a88b-22c2beb2e7a5","StageNames":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Process Data Stage","Accumulate Data Daily Generation Stage"]},"InitiationStageNames":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Process Data Stage"]},"StagesToHoldNames":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Distribute Raw Data Stage"]},"StagesToProcessNames":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Process Data Stage","Accumulate Data Daily Generation Stage","Accumulate Data Daily Update Stage","Raw Data Storage Stage"]},"RecordCountPerTransaction":50000,"ForceUseTempStorage":false,"IncludedChunkTimes":{"$type":"System.Collections.Generic.List`1[[System.Int32, mscorlib]], mscorlib","$values":[6]},"CannotBeTriggeredManually":false,"PostExecution":{"$type":"Vanrise.Reprocess.Entities.PostExecution, Vanrise.Reprocess.Entities"}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([Id],[Name],[Settings]))
merge	[reprocess].[ReprocessDefinition] as t
using	cte_data as s
on		1=1 and t.[Id] = s.[Id]
when matched then
	update set
	[Name] = s.[Name],[Settings] = s.[Settings]
when not matched by target then
	insert([Id],[Name],[Settings])
	values(s.[Id],s.[Name],s.[Settings]);


--[Retail_BE].[AccountPartDefinition]---------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[OldID],[Title],[Name],[Details])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('43CE57FE-E4CE-45D1-B815-F9C11D425EB8',null,'ICX_ISP_Profile','ICX_ISP_Profile','{"$type":"Retail.BusinessEntity.Entities.AccountPartDefinition, Retail.BusinessEntity.Entities","AccountPartDefinitionId":"43ce57fe-e4ce-45d1-b815-f9c11d425eb8","Name":"ICX_ISP_Profile","Title":"ICX_ISP_Profile","Settings":{"$type":"Retail.BusinessEntity.MainExtensions.AccountParts.AccountPartCompanyProfileDefinition, Retail.BusinessEntity.MainExtensions","ConfigId":"1aff2bf7-1f15-4e0b-accf-457edf36a342","IncludeArabicName":false,"ContactTypes":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.MainExtensions.AccountParts.CompanyProfileContactType, Retail.BusinessEntity.MainExtensions]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.MainExtensions.AccountParts.CompanyProfileContactType, Retail.BusinessEntity.MainExtensions","Name":"Main","Title":"Main"}]}}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[OldID],[Title],[Name],[Details]))
merge	[Retail_BE].[AccountPartDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[OldID] = s.[OldID],[Title] = s.[Title],[Name] = s.[Name],[Details] = s.[Details]
when not matched by target then
	insert([ID],[OldID],[Title],[Name],[Details])
	values(s.[ID],s.[OldID],s.[Title],s.[Name],s.[Details]);


--[Retail_BE].[AccountType]-------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[OldID],[Name],[Title],[AccountBEDefinitionID],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('56704402-A55B-4A85-AE67-BF145F87E05D',null,'ICX_ISP','ISP','CDC53681-162C-42D6-B327-757570B876D8','{"$type":"Retail.BusinessEntity.Entities.AccountTypeSettings, Retail.BusinessEntity.Entities","ShowConcatenatedName":false,"CanBeRootAccount":true,"PartDefinitionSettings":{"$type":"System.Collections.Generic.List`1[[Retail.BusinessEntity.Entities.AccountTypePartSettings, Retail.BusinessEntity.Entities]], mscorlib","$values":[{"$type":"Retail.BusinessEntity.Entities.AccountTypePartSettings, Retail.BusinessEntity.Entities","AvailabilitySettings":0,"RequiredSettings":0,"PartDefinitionId":"43ce57fe-e4ce-45d1-b815-f9c11d425eb8"}]},"InitialStatusId":"bd6b04b7-aad2-47ad-bf80-83f9c493cbdb"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[OldID],[Name],[Title],[AccountBEDefinitionID],[Settings]))
merge	[Retail_BE].[AccountType] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[OldID] = s.[OldID],[Name] = s.[Name],[Title] = s.[Title],[AccountBEDefinitionID] = s.[AccountBEDefinitionID],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[OldID],[Name],[Title],[AccountBEDefinitionID],[Settings])
	values(s.[ID],s.[OldID],s.[Name],s.[Title],s.[AccountBEDefinitionID],s.[Settings]);


--[Analytic].[AnalyticTable]----------------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;;with cte_data([ID],[Name],[Settings])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////('7AB26F93-16E8-4E25-9EA5-8958D32E5B08','ICX Accumulated Data','{"$type":"Vanrise.Analytic.Entities.AnalyticTableSettings, Vanrise.Analytic.Entities","ConnectionStringName":"ICXCDRDBConnString","TableName":"[ICX_Data].[AccumulatedData]","TimeColumnName":"[UserSessionStartDate]","DataRecordTypeIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["8edcf809-1819-4072-a957-628ff325f760"]},"RequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[{"$type":"Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities","EntityId":"a611a651-b60b-483d-bc83-1c2b667a120a","PermissionOptions":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["View"]}}]}},"DataProvider":{"$type":"Vanrise.Analytic.Data.SQL.SQLAnalyticDataProvider, Vanrise.Analytic.Data.SQL","ConfigId":"3cba3f20-6535-4ebf-9704-df65ac605671"}}')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Name],[Settings]))merge	[Analytic].[AnalyticTable] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]when matched then	update set	[Name] = s.[Name],[Settings] = s.[Settings]when not matched by target then	insert([ID],[Name],[Settings])	values(s.[ID],s.[Name],s.[Settings]);--[Analytic].[AnalyticItemConfig]------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;;with cte_data([ID],[TableId],[ItemType],[Name],[Title],[Config])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////('DF2D7EAB-43EA-4953-AED0-2F2836973096','7AB26F93-16E8-4E25-9EA5-8958D32E5B08',1,'ISP','ISP','{"$type":"Vanrise.Analytic.Entities.AnalyticDimensionConfig, Vanrise.Analytic.Entities","SQLExpression":"ISP","FieldType":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","RuntimeEditor":"vr-genericdata-fieldtype-businessentity-runtimeeditor","ViewerEditor":"vr-genericdata-fieldtype-businessentity-viewereditor","BusinessEntityDefinitionId":"cdc53681-162c-42d6-b327-757570b876d8","IsNullable":true,"OrderType":1,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","StoreValueSerialized":false,"CanRoundValue":false},"DimensionFieldMappings":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.DimensionFieldMapping, Vanrise.Analytic.Entities]], mscorlib","$values":[{"$type":"Vanrise.Analytic.Entities.DimensionFieldMapping, Vanrise.Analytic.Entities","DataRecordTypeId":"8edcf809-1819-4072-a957-628ff325f760"}]}}'),('2AE4D20C-614C-49EA-A1A2-4F2F3DB7DFD5','7AB26F93-16E8-4E25-9EA5-8958D32E5B08',4,'SumTotalIn','SumTotalIn','{"$type":"Vanrise.Analytic.Entities.AnalyticAggregateConfig, Vanrise.Analytic.Entities","SQLColumn":"TotalIn","AggregateType":2}'),('574A8E66-56DF-4A37-A4CB-5A1106BA5DB6','7AB26F93-16E8-4E25-9EA5-8958D32E5B08',2,'TotalIn','Total In','{"$type":"Vanrise.Analytic.Entities.AnalyticMeasureConfig, Vanrise.Analytic.Entities","GetValueMethod":"return context.GetAggregateValue(\"SumTotalIn\");","DependentAggregateNames":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["SumTotalIn"]},"FieldType":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"RequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}}}'),('32D0EE84-ED8D-4F20-B12F-9CCC31090DED','7AB26F93-16E8-4E25-9EA5-8958D32E5B08',2,'TotalOut','Total Out','{"$type":"Vanrise.Analytic.Entities.AnalyticMeasureConfig, Vanrise.Analytic.Entities","GetValueMethod":"return context.GetAggregateValue(\"SumTotalOut\");","DependentAggregateNames":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["SumTotalOut"]},"FieldType":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","ViewerEditor":"vr-genericdata-fieldtype-number-viewereditor","RuntimeEditor":"vr-genericdata-fieldtype-number-runtimeeditor","DataPrecision":0,"DataType":0,"IsNullable":true,"CanRoundValue":true,"DetailViewerEditor":"vr-genericdata-datarecordfield-defaultdetailviewer","OrderType":0,"StoreValueSerialized":false},"RequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}}}'),('AB936EE2-0756-4057-9E78-D56CBF573E1B','7AB26F93-16E8-4E25-9EA5-8958D32E5B08',4,'SumTotalOut','SumTotalOut','{"$type":"Vanrise.Analytic.Entities.AnalyticAggregateConfig, Vanrise.Analytic.Entities","SQLColumn":"TotalOut","AggregateType":2}')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[TableId],[ItemType],[Name],[Title],[Config]))merge	[Analytic].[AnalyticItemConfig] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]when matched then	update set	[TableId] = s.[TableId],[ItemType] = s.[ItemType],[Name] = s.[Name],[Title] = s.[Title],[Config] = s.[Config]when not matched by target then	insert([ID],[TableId],[ItemType],[Name],[Title],[Config])	values(s.[ID],s.[TableId],s.[ItemType],s.[Name],s.[Title],s.[Config]);--[Analytic].[AnalyticReport]-----------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[UserID],[Name],[AccessType],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('08809A53-1CC8-47E2-901A-0333AE60CEB8',-1,'ICX ISP Data',0,'{"$type":"Vanrise.Analytic.Entities.AnalyticHistoryReportSettings, Vanrise.Analytic.Entities","ConfigId":"e5fb0790-5428-44b4-bb1f-4f79b69cd6ef","AnalyticTableIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["7ab26f93-16e8-4e25-9ea5-8958d32e5b08"]},"SearchSettings":{"$type":"Vanrise.Analytic.MainExtensions.History.SearchSettings.GenericSearchSettings, Vanrise.Analytic.MainExtensions","ConfigId":"bcc9ad0b-46ec-4ed1-b79f-47b4518f76b8","IsRequiredGroupingDimensions":false,"ShowCurrency":false},"Widgets":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.AnalyticHistoryReportWidget, Vanrise.Analytic.Entities]], mscorlib","$values":[{"$type":"Vanrise.Analytic.MainExtensions.History.Widgets.AnalyticGridWidget, Vanrise.Analytic.MainExtensions","ConfigId":"7a2a35e2-543a-42c7-b97f-e05ee8d09a00","RootDimensionsFromSearchSection":false,"Dimensions":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.MainExtensions.History.Widgets.AnalyticGridWidgetDimension, Vanrise.Analytic.MainExtensions]], mscorlib","$values":[{"$type":"Vanrise.Analytic.MainExtensions.History.Widgets.AnalyticGridWidgetDimension, Vanrise.Analytic.MainExtensions","DimensionName":"ISP","Title":"ISP","IsRootDimension":true,"ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}}]},"Measures":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.MainExtensions.History.Widgets.AnalyticGridWidgetMeasure, Vanrise.Analytic.MainExtensions]], mscorlib","$values":[{"$type":"Vanrise.Analytic.MainExtensions.History.Widgets.AnalyticGridWidgetMeasure, Vanrise.Analytic.MainExtensions","MeasureName":"TotalIn","Title":"Total In","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"},"IsHidden":false,"IsHiddenInListView":false},{"$type":"Vanrise.Analytic.MainExtensions.History.Widgets.AnalyticGridWidgetMeasure, Vanrise.Analytic.MainExtensions","MeasureName":"TotalOut","Title":"Total Out","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"},"IsHidden":false,"IsHiddenInListView":false}]},"MeasureStyleRules":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.MeasureStyleRule, Vanrise.Analytic.Entities]], mscorlib","$values":[]},"ItemActions":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.AnalyticItemAction, Vanrise.Analytic.Entities]], mscorlib","$values":[]},"OrderType":2,"WithSummary":true,"AnalyticTableId":"7ab26f93-16e8-4e25-9ea5-8958d32e5b08","WidgetTitle":"Report","ColumnWidth":1,"ShowTitle":false}]}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[UserID],[Name],[AccessType],[Settings]))
merge	[Analytic].[AnalyticReport] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[UserID] = s.[UserID],[Name] = s.[Name],[AccessType] = s.[AccessType],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[UserID],[Name],[AccessType],[Settings])
	values(s.[ID],s.[UserID],s.[Name],s.[AccessType],s.[Settings]);

