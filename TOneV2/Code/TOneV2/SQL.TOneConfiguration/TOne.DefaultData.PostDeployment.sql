/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/--default data

--[common].[Currency]-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;set identity_insert [common].[Currency] on;;with cte_data([ID],[Symbol],[Name],[SourceID])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(155,'USD','United States Dollars','USD')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Symbol],[Name],[SourceID]))merge	[common].[Currency] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]--when matched then--	update set--	[Symbol] = s.[Symbol],[Name] = s.[Name],[SourceID] = s.[SourceID]when not matched by target then	insert([ID],[Symbol],[Name],[SourceID])	values(s.[ID],s.[Symbol],s.[Name],s.[SourceID]);set identity_insert [common].[Currency] off;

UPDATE  [common].[Setting] SET		[Data] = '{"$type":"Vanrise.Entities.CurrencySettingData, Vanrise.Entities","CurrencyId":155}'WHERE	ID='1C833B2D-8C97-4CDD-A1C1-C1B4D9D299DE' and [Data] is null

declare @TariffRuleTypeIdTable as table
(ID int)
insert into @TariffRuleTypeIdTable 
exec [rules].[sp_RuleType_InsertIfNotExistsAndGetID] 'Vanrise.GenericData.Pricing.TariffRule' 

declare @TariffRuleTypeId int
select @TariffRuleTypeId=ID from @TariffRuleTypeIdTable
--[rules].[Rule]------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([TypeID],[RuleDetails],[BED],[EED],[SourceID])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(@TariffRuleTypeId,'{"$type":"Vanrise.GenericData.Pricing.TariffRule, Vanrise.GenericData.Pricing","Settings":{"$type":"Vanrise.Rules.Pricing.MainExtensions.Tariff.RegularTariffSettings, Vanrise.Rules.Pricing.MainExtensions","ConfigId":"35acc9c2-0675-4347-ba3e-a81025c1be12","CallFee":0.0,"FirstPeriod":0,"FirstPeriodRate":0.0,"FractionUnit":0,"PricingUnit":60,"CurrencyId":155},"DefinitionId":"f24cb510-0b65-48c8-a723-1f6ebfeea9e8","RuleId":0,"Description":"Default Sale Tariff Rule","BeginEffectiveTime":"2016-12-23T00:00:00","RefreshTimeSpan":"01:00:00"}','2010-01-01 00:00:00.000',null,null),
(@TariffRuleTypeId,'{"$type":"Vanrise.GenericData.Pricing.TariffRule, Vanrise.GenericData.Pricing","Settings":{"$type":"Vanrise.Rules.Pricing.MainExtensions.Tariff.RegularTariffSettings, Vanrise.Rules.Pricing.MainExtensions","ConfigId":"35acc9c2-0675-4347-ba3e-a81025c1be12","CallFee":0.0,"FirstPeriod":0,"FirstPeriodRate":0.0,"FractionUnit":0,"PricingUnit":60,"CurrencyId":155},"DefinitionId":"5aeb0dad-4bb8-44b4-acbe-c8c917e88b58","RuleId":0,"Description":"Default Purchase Tariff Rule","BeginEffectiveTime":"2016-12-23T00:00:00","RefreshTimeSpan":"01:00:00"}','2010-01-01 00:00:00.000',null,null)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([TypeID],[RuleDetails],[BED],[EED],[SourceID]))
merge	[rules].[Rule] as t
using	cte_data as s
on		1=1 and t.[RuleDetails] = s.[RuleDetails]
--when matched then
--	update set
--	[TypeID] = s.[TypeID],[RuleDetails] = s.[RuleDetails],[BED] = s.[BED],[EED] = s.[EED],[SourceID] = s.[SourceID]
when not matched by target then
	insert([TypeID],[RuleDetails],[BED],[EED],[SourceID])
	values(s.[TypeID],s.[RuleDetails],s.[BED],s.[EED],s.[SourceID]);

--[TOneWhS_BE].[ZoneServiceConfig]----------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;set identity_insert [TOneWhS_BE].[ZoneServiceConfig] on;;with cte_data([ID],[Symbol],[Settings],[SourceID])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(1,'WHS','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Wholesale","Color":"#C0C0C0","ParentId":2,"Description":"Wholesale Marker","Weight":1}','1'),(2,'RTL','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Retail","Color":"#0000FF","ParentId":3,"Description":"Retail Flagged Service","Weight":3}','3'),(3,'PRM','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Premium","Color":"#FFA500","ParentId":4,"Description":"Premium Quality Service","Weight":7}','7'),(4,'CLI','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"CLI","Color":"#FF0000","Description":"CLI Provided Service","Weight":15}','15'),(5,'DRC','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Direct","Color":"#00FF00","Description":"Direct Connection","Weight":16}','16'),(6,'TRS','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Transit","Color":"#FFFF00","Description":"Transit Connections (Like in Ministries)","Weight":32}','32'),(7,'VID','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Test Service","Color":"#800000","Description":"Call Generator Tester","Weight":64}','64'),(8,'3GM','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Blocked Service","Color":"#000000","Description":"Faulty Route Block","Weight":128}','128')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Symbol],[Settings],[SourceID]))merge	[TOneWhS_BE].[ZoneServiceConfig] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]--when matched then--	update set--	[Symbol] = s.[Symbol],[Settings] = s.[Settings],[SourceID] = s.[SourceID]when not matched by target then	insert([ID],[Symbol],[Settings],[SourceID])	values(s.[ID],s.[Symbol],s.[Settings],s.[SourceID]);set identity_insert [TOneWhS_BE].[ZoneServiceConfig] off;--[TOneWhS_BE].[SellingNumberPlan]----------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;set identity_insert [TOneWhS_BE].[SellingNumberPlan] on;;with cte_data([ID],[Name])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(1,'Default')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Name]))merge	[TOneWhS_BE].[SellingNumberPlan] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]--when matched then--	update set--	[Name] = s.[Name]when not matched by target then	insert([ID],[Name])	values(s.[ID],s.[Name]);set identity_insert [TOneWhS_BE].[SellingNumberPlan] off;--[TOneWhS_BE].[SellingProduct]-------------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;set identity_insert [TOneWhS_BE].[SellingProduct] on;;with cte_data([ID],[Name],[DefaultRoutingProductID],[SellingNumberPlanID],[Settings])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(1,'Default',null,1,'{"$type":"TOne.WhS.BusinessEntity.Entities.SellingProductSettings, TOne.WhS.BusinessEntity.Entities","CurrencyId":155}')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Name],[DefaultRoutingProductID],[SellingNumberPlanID],[Settings]))merge	[TOneWhS_BE].[SellingProduct] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]--when matched then--	update set--	[Name] = s.[Name],[DefaultRoutingProductID] = s.[DefaultRoutingProductID],[SellingNumberPlanID] = s.[SellingNumberPlanID],[Settings] = s.[Settings]when not matched by target then	insert([ID],[Name],[DefaultRoutingProductID],[SellingNumberPlanID],[Settings])	values(s.[ID],s.[Name],s.[DefaultRoutingProductID],s.[SellingNumberPlanID],s.[Settings]);set identity_insert [TOneWhS_BE].[SellingProduct] off;--[TOneWhS_BE].[RoutingProduct]-------------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;set identity_insert [TOneWhS_BE].[RoutingProduct] on;;with cte_data([ID],[Name],[SellingNumberPlanID],[Settings])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(1,'LCR',1,'{"$type":"TOne.WhS.BusinessEntity.Entities.RoutingProductSettings, TOne.WhS.BusinessEntity.Entities","DefaultServiceIds":{"$type":"System.Collections.Generic.HashSet`1[[System.Int32, mscorlib]], System.Core","$values":[1]},"ZoneRelationType":0,"SupplierRelationType":0}')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Name],[SellingNumberPlanID],[Settings]))merge	[TOneWhS_BE].[RoutingProduct] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]--when matched then--	update set--	[Name] = s.[Name],[SellingNumberPlanID] = s.[SellingNumberPlanID],[Settings] = s.[Settings]when not matched by target then	insert([ID],[Name],[SellingNumberPlanID],[Settings])	values(s.[ID],s.[Name],s.[SellingNumberPlanID],s.[Settings]);set identity_insert [TOneWhS_BE].[RoutingProduct] off;DECLARE	@SaleEntityRoutingProductTypeId int
declare @SaleEntityRoutingProductTypeIdTable as table (TypeId int)
insert into @SaleEntityRoutingProductTypeIdTable exec [common].[sp_Type_InsertIfNotExistsAndGetID] 'TOne.WhS.BusinessEntity.Business.SaleEntityRoutingProductManager, TOne.WhS.BusinessEntity.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'
SELECT	@SaleEntityRoutingProductTypeId = TypeId from @SaleEntityRoutingProductTypeIdTabledeclare @SaleEntityRoutingProductIdTable as table
(ID bigint)
insert into @SaleEntityRoutingProductIdTable 
exec [common].[sp_IDManager_ReserveIDRange] @SaleEntityRoutingProductTypeId, 1

declare @SaleEntityRoutingProductId bigint
select @SaleEntityRoutingProductId=ID from @SaleEntityRoutingProductIdTable--[TOneWhS_BE].[SaleEntityRoutingProduct]---------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;;with cte_data([ID],[OwnerType],[OwnerID],[ZoneID],[RoutingProductID],[BED],[EED])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(@SaleEntityRoutingProductId,0,1,null,1,'2000-01-01 00:00:00.000',null)--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[OwnerType],[OwnerID],[ZoneID],[RoutingProductID],[BED],[EED]))merge	[TOneWhS_BE].[SaleEntityRoutingProduct] as tusing	cte_data as son		1=1 and t.[OwnerType]=s.[OwnerType] and t.[OwnerID]=s.[OwnerID] and t.[ZoneID] is null--when matched then--	update set--	[OwnerType] = s.[OwnerType],[OwnerID] = s.[OwnerID],[ZoneID] = s.[ZoneID],[RoutingProductID] = s.[RoutingProductID],[BED] = s.[BED],[EED] = s.[EED]when not matched by target then	insert([ID],[OwnerType],[OwnerID],[ZoneID],[RoutingProductID],[BED],[EED])	values(s.[ID],s.[OwnerType],s.[OwnerID],s.[ZoneID],s.[RoutingProductID],s.[BED],s.[EED]);declare @RouteRuleTypeIdTable as table
(ID int)
insert into @RouteRuleTypeIdTable 
exec [rules].[sp_RuleType_InsertIfNotExistsAndGetID] 'TOne.WhS.Routing.Entities.RouteRule' 

declare @RouteRuleTypeId int
select @RouteRuleTypeId=ID from @RouteRuleTypeIdTable--[rules].[Rule]------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([TypeID],[RuleDetails],[BED],[EED],[SourceID])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(@RouteRuleTypeId,'{"$type":"TOne.WhS.Routing.Entities.RouteRule, TOne.WhS.Routing.Entities","Criteria":{"$type":"TOne.WhS.Routing.Entities.RouteRuleCriteria, TOne.WhS.Routing.Entities","ConfigId":"6fd3f59f-33f1-4d42-8364-7030ae79b249","RoutingProductId":1,"ExcludedCodes":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":[]}},"Settings":{"$type":"TOne.WhS.Routing.Business.LCRRouteRule, TOne.WhS.Routing.Business","ConfigId":"31b3226e-a2b2-40d5-8c33-83c6601e8730","UseOrderedExecution":true,"CorrespondentType":3},"CorrespondentType":3,"BED":"2000-01-01T00:00:00","RuleId":0,"BeginEffectiveTime":"2000-01-01T00:00:00","RefreshTimeSpan":"01:00:00"}','2000-01-01 00:00:00.000',null,'Default route rule (from script)')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([TypeID],[RuleDetails],[BED],[EED],[SourceID]))
merge	[rules].[Rule] as t
using	cte_data as s
on		1=1 and t.[SourceID] = s.[SourceID]
--when matched then
--	update set
--	[TypeID] = s.[TypeID],[RuleDetails] = s.[RuleDetails],[BED] = s.[BED],[EED] = s.[EED],[SourceID] = s.[SourceID]
when not matched by target then
	insert([TypeID],[RuleDetails],[BED],[EED],[SourceID])
	values(s.[TypeID],s.[RuleDetails],s.[BED],s.[EED],s.[SourceID]);--[TOneWhS_BE].[SalePriceListTemplate]------------------------------------------------------------------------------------------------------------------------------------------------------------------DECLARE @DefaultSalePriceListTemplate_identity bigintSELECT @DefaultSalePriceListTemplate_identity = [ID] FROM [common].[File] WHERE [Name] = 'Sale Pricelist Template.xlsx'IF @DefaultSalePriceListTemplate_identity IS NULLBEGIN	insert into [common].[File] ([Name],[Extension],[Content],[IsUsed])	values('Sale Pricelist Template.xlsx','xlsx', 0x504B030414000600080000002100413782CF6E01000004050000130008025B436F6E74656E745F54797065735D2E786D6C20A2040228A000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000AC54C96EC23010BD57EA3F44BE5689A187AAAA081CBA1C5B24E8079878925824B6E51928FC7D27665155B108C125516CCF5B26F33C18ADDA26594240E36C2EFA594F24600BA78DAD72F13DFD489F4582A4AC568DB3908B35A0180DEFEF06D3B5074CB8DA622E6A22FF22251635B40A33E7C1F24EE942AB883F4325BD2AE6AA02F9D8EB3DC9C259024B29751862387883522D1A4ADE57BCBC5132335624AF9B731D552E94F78D2914B150B9B4FA1F49EACAD214A05DB168193A431F4069AC01A86D321F0C33860910B13114F2206780062F23DDBACAB8320AC3DA787C60EB4718BA9DE3AEB6755FFC3B82D1908C55A04FD5B277B96AE48F0BF39973F3EC34C8A5AD892DCA5A65EC4EF709FE7818657CF56F2CA4F31781CFE8209E3190F179BD840873861069DD00DEBAED11F41C73AD02E809F1F4563717F017FB940E8ED438388F9CDA009777611791AE3AF50C04810CEC437268D8F68C1CF9ABDB0EDD9DA2411FE096F10E1BFE020000FFFF0300504B030414000600080000002100B5553023F40000004C0200000B0008025F72656C732F2E72656C7320A2040228A000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000AC924D4FC3300C86EF48FC87C8F7D5DD9010424B774148BB21547E8049DC0FB58DA3241BDDBF271C10541A8303477FBD7EFCCADBDD3C8DEAC821F6E234AC8B12143B23B677AD8697FA7175072A2672964671ACE1C41176D5F5D5F699474A792876BD8F2AABB8A8A14BC9DF2346D3F144B110CF2E571A0913A51C86163D99815AC64D59DE62F8AE01D54253EDAD86B0B737A0EA93CF9B7FD796A6E90D3F88394CECD29915C8736267D9AE7CC86C21F5F91A5553683969B0629E723A22795F646CC0F3449BBF13FD7C2D4E9CC852223412F832CF47C725A0F57F5AB434F1CB9D79C43709C3ABC8F0C9828B1FA8DE010000FFFF0300504B030414000600080000002100813E9497F3000000BA0200001A000801786C2F5F72656C732F776F726B626F6F6B2E786D6C2E72656C7320A2040128A0000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000AC524D4BC43010BD0BFE8730779B761511D9742F22EC55EB0F08C9B429DB2621337EF4DF1B2ABA5D58D64B2F036F8679EFCDC776F7350EE20313F5C12BA88A12047A136CEF3B056FCDF3CD030862EDAD1E8247051312ECEAEBABED0B0E9A7313B93E92C82C9E1438E6F828251987A3A62244F4B9D286346ACE3075326A73D01DCA4D59DECBB4E480FA8453ECAD82B4B7B7209A2966E5FFB943DBF6069F82791FD1F31909493C0D7900D1E8D4212BF8C145F608F2BCFC664D79CE6BC1A3FA0CE51CAB4B1EAA353D7C86742087C8471F7F299273E5A299BB55EFE17442FBCA29BFDBF22CCBF4EF66E4C9C7D5DF000000FFFF0300504B030414000600080000002100594EB80104020000080400000F000000786C2F776F726B626F6F6B2E786D6CA493CB6EDB301045F705FA0F04F7D12B7660089682C64D506F5AA371ED8D8082A64616613E5492AAEDBFCF48AA5AA7DEA4E8461A0EA943CDBD33F3FB9392E42758278CCE681C449480E6A6147A9FD16FEBA79B1925CE335D32693464F40C8EDEE7EFDFCD8FC61E76C61C0802B4CB68ED7D9386A1E33528E602D380C69DCA58C53C2EED3E748D0556BA1AC02B19265174172A26341D08A97D0BC35495E0F0D1F05681F603C482641E7FDFD5A271234DF1B7E014B387B6B9E1463588D80929FCB98752A278BADC6B63D94E62D9A7783A9231BC422BC1AD71A6F201A2C2E127AFEA8DA3308E8792F37925246C06D9096B9ACF4C75B7484A2473FEB1141ECA8CDEE1D21CE155C2B6CD432B24EEC6934912D130FF6DC5CA92122AD64ABF4613463C1E9CDE2649D29DC4A23E480F56330F0BA33D6AF84BFDFFD5AB672F6A83EE90AFF0A31516B0293AD9F2393E194FD9CEAD98AF496B65461769B17E7A2ED65F346C9262614A18E32E156CEBE7E0A1754283738FDAA32BC1167605A6BFBF4E176B500DDA0FAEB8F0875D9BFF0F0E31DE4915A256433D43FCB76EF9BCEBFE8D80A3FBE340B724A7ADD0A539661467E97C111FFBF45694BECE68329B45B83FE43E81D8D71E8D8A67B7D3FEF20B763F307847FF26BA6F9495459DA5701E87B39BA765D70E94D85460609765DC43C62F39931C7BA37BF507E34912F78D138E439CBF000000FFFF0300504B03041400060008000000210072EC314FEB000000D401000014000000786C2F736861726564537472696E67732E786D6C6C91D14AC3301486EF05DF21E47E4B2722226906D60E07E285AB08DE85F6D8069A939A938EEDED4D272834BD3C5FBEFCFF0991DB93EDD9113C198739DFAC33CE006BD7186C73FE5EED56F79C51D0D8E8DE21E4FC0CC4B7EAFA4A120516EF22E5BC0B61781082EA0EACA6B51B00E3C997F3568738FA56D0E04137D40104DB8B9B2CBB13561BE4AC762386D87BCBD988E67B84E20F284946C9A03E63AF14414931CDBFEC4D878415AE01F6583ECDDD0B2F533E652CF917BEE0172FFBF2B55A4AA7393C803F9A3AD97033F73E9E0F7334BD76B533A7A4A7D3D802ABCE4312BBFF7745FC15F5030000FFFF0300504B0304140006000800000021003B6D324BC10000004201000023000000786C2F776F726B7368656574732F5F72656C732F7368656574312E786D6C2E72656C73848FC18AC2301445F703FE43787B93D6850C43533722B855E70362FADA06DB9790F714FD7BB31C65C0E5E570CFE5369BFB3CA91B660E912CD4BA0285E4631768B0F07BDA2DBF41B138EADC14092D3C9061D32EBE9A034E4E4A89C79058150BB1855124FD18C37EC4D9B18E09A9903EE6D949897930C9F98B1BD0ACAA6A6DF25F07B42F4EB5EF2CE47D57833A3D5259FEEC8E7D1F3C6EA3BFCE48F2CF84493990603EA24839C845EDF2806241EB77F69E6B7D0E04A66DCCCBF3F6090000FFFF0300504B0304140006000800000021008B826E58930600008E1A000013000000786C2F7468656D652F7468656D65312E786D6CEC59CF8B1B3714BE17FA3F0C7377FC6B666C2FF1067B6C67DBEC2621EBA4E4A8B5658FB29A9119C9BB3121509263A1509A965E0ABDF550DA0612E825FD6BB64D6953C8BFD027CDD823ADE56E9A6E202D59C332A3F9F4F4E9BD37DF9334172FDD8DA97384534E58D276AB172AAE8393111B9364DA766F0E07A5A6EB70819231A22CC16D7781B97B69FBFDF72EA22D11E1183BD03FE15BA8ED4642CCB6CA653E8266C42FB0194EE0D984A53112709B4ECBE3141D83DD98966B954A508E11495C27413198BD369990117686D2A4BBBD34DEA7709B082E1B4634DD97A6B1D14361C7875589E00B1ED2D43942B4EDC23863763CC47785EB50C4053C68BB15F5E796B72F96D156DE898A0D7DB57E03F597F7CB3B8C0F6B6ACC747AB01AD4F37C2FE8ACEC2B0015EBB87EA31FF483953D0540A311CC34E3A2DBF4BBAD6ECFCFB11A28BBB4D8EE357AF5AA81D7ECD7D738777CF933F00A94D9F7D6F08341085E34F00A94E17D8B4F1AB5D033F00A94E183357CA3D2E9790D03AF401125C9E11ABAE207F57039DB1564C2E88E15DEF2BD41A3961B2F50900DABEC92434C582236E55A8CEEB074000009A44890C4118B199EA01164718828394889B34BA61124DE0C258C4373A5561954EAF05FFE3C75A53C82B630D27A4B5EC084AF35493E0E1FA56426DAEE8760D5D5202F9F7DFFF2D913E7E5B3C7270F9E9E3CF8E9E4E1C393073F66B68C8E3B2899EA1D5F7CFBD99F5F7FECFCF1E49B178FBEB0E3B98EFFF5874F7EF9F9733B10265B78E1F9978F7F7BFAF8F9579FFEFEDD230BBC93A2031D3E2431E6CE557CECDC6031CC4D79C1648E0FD27FD663182162F44011D8B698EE8BC8005E5D206AC375B1E9BC5B29088C0D78797EC7E0BA1FA573412C235F896203B8C718EDB2D4EA802B722CCDC3C37932B50F9ECE75DC0D848E6C6387283142DB9FCF405989CD64186183E6758A1281A638C1C291CFD821C696D9DD26C4F0EB1E19A58CB389706E13A78B88D5254372602452D16987C41097858D2084DAF0CDDE2DA7CBA86DD63D7C6422E18540D4427E88A9E1C6CB682E506C33394431D51DBE8B446423B9BF48473AAECF05447A8A2973FA63CCB9ADCFB514E6AB05FD0A888B3DEC7B74119BC85490439BCD5DC4988EECB1C33042F1CCCA9924918EFD801F428A22E73A1336F81E33DF10790F7140C9C670DF22D808F7D94270137455A75424887C324F2DB1BC8C99F93E2EE80461A53220FB869AC7243953DA4F89BAFF4ED4B3AA745AD43B29B1BE5A3BA7A47C13EE3F28E03D344FAE637867D60BD83BFD7EA7DFEEFF5EBF37BDCBE7AFDA8550838617AB75B5768F372EDD2784D27DB1A07897ABD53B87F2341E40A3DA56A8BDE56A2B378BE032DF2818B8698A541F2765E22322A2FD08CD60895F551BD129CF4D4FB933631C56FEAA596D89F129DB6AFF308FF7D838DBB156AB72779A890747A268AFF8AB76D86D880C1D348A5DD8CABCDAD74ED56E794940F6FD2724B4C14C12750B89C6B211A2F07724D4CCCE8545CBC2A229CD2F43B58CE2CA15406D1515583F39B0EA6ABBBE979D04C0A60A513C9671CA0E0596D195C139D7486F7226D533001613CB0C2822DD925C374E4FCE2E4BB55788B441424B3793849686111AE33C3BF5A393F38C75AB08A9414FBA62F93614341ACD37116B2922A7B48126BA52D0C4396EBB41DD87D3B1119AB5DD09ECFCE1329E41EE70B9EE45740AC7672391662FFCEB28CB2CE5A2877894395C894EA606311138752889DBAE9CFE2A1B68A2344471ABD64010DE5A722D9095B78D1C04DD0C329E4CF048E861D75AA4A7B35B50F84C2BAC4F55F7D707CB9E6C0EE1DE8FC6C7CE019DA73710A498DFA84A078E098703A06AE6CD318113CD959015F977AA30E5B2AB1F29AA1CCADA119D4528AF28BA98677025A22B3AEA6EE503ED2E9F333874DD8507535960FF75D53DBB544BCF69A259D44C435564D5B48BE99B2BF21AABA2881AAC32E956DB065E685D6BA97590A8D62A7146D57D8582A0512B0633A849C6EB322C353B6F35A99DE38240F344B0C16FAB1A61F5C4EB567EE8773A6B658158AE2B55E2AB4F1FFAD709767007C4A307E7C0732AB80A257C7B48112CFAB293E44C36E015B92BF235225C39F394B4DD7B15BFE385353F2C559A7EBFE4D5BD4AA9E977EAA58EEFD7AB7DBF5AE9756BF7A1B08828AEFAD96797019C47D145FEF145B5AF7D808997476E17462C2E33F581A5AC88AB0F30D5DAE60F300E01D1B917D406AD7AAB1B945AF5CEA0E4F5BACD522B0CBAA55E10367A835EE8375B83FBAE73A4C05EA71E7A41BF590AAA6158F2828AA4DF6C951A5EADD6F11A9D66DFEBDCCF973130F34C3E725F807B15AFEDBF000000FFFF0300504B03041400060008000000210085302EB5AA030000210B00000D000000786C2F7374796C65732E786D6CB4565B8FE236147EAFD4FF10F93D248184496892D5021369A5DD55D5994A95BA7D308903D6FA82123385ADFADF7B6C2721CC7466E8659080737CF9CE777C2E76FAEEC899F3409A964A91A160E22387885256546C33F4F37DE1C6C8691516156652900C9D488BDEE5DF7F97B6EAC4C8DD8E10E500846833B4536ABFF0BCB6DC118EDB89DC130133B56C3856A0365BAFDD370457ADDEC49937F5FDB9C73115C8222C78790D08C7CDD7C3DE2D25DF6345379451753258C8E1E5E2C356C8066F18503D06212E7B6CA33C81E7B46C642B6B3501384FD6352DC953968997788094A7E2C00BAE5AA79407A132341D861C3BF3A182239C87C8B14EAF640534FC890F9F1F7EFD8954BF5919793DD4C5BEE872DF093E5F5CCEBFB855A577789DF53CADA53893006BC6B7C557217F17859E0212C04CAFCAD3F69BF380198C041AA3944C360E15153912E01A1B269813BB668519DD34540FD6985376B2C35363DDC23D023553AF804AD14A86DBC7A8B327A81BB03BD07D33E4D9FC8A83B882B367A2002745191B3222D4E70E03790AB9A948230A509C4EBE3FED211D04949175DDAC7B65F5B6C1A7601A5DBF01CE9A569AC5766562ADA018C1EA0C398AEA9CF527374992444170E3CFE23086AF09C4A65B3EA40664B1CEB9911BA059B2AF507E86C1CDFFC8C01069F374239B0A5A575F8F3AEBED509E32522B70A0A1DB9DFE57720FBF1BA914D4799E56146FA5C04CBBD8EFE804802D096377BABDFD525F601FEB51BD42A3D419A04B5E8B10CC4EB47856D1F863348B3D828D81F23F87758EF580FFDCEEE05952C36E07EFF7ECA45B86EE18C0F5022B4CCE1E4ECF60208E3D7C04F6F9C037A4294CCFD7A097263A0DCEEA358357B37FD9E0639F02D39B6DD4DECA84EDFF6F6CC3DC156F6A6394DFD03CFAFC06F185E8F7A9741967ABBD67742B38B1B996A770D558D5D9C9867E831CD4B75409F3A441FA41A268391AD18574ACBB6A82FA1915E945890EC5E608B8D632F4596722832BB22B186773A00C3AE1DF94276056C773C1FBBA20947E49985630588173A9488D0F4CDD0F93193ACB9F48450F1CAAA45BF5237D90CA4064E82C7FD47D2930571139AA8F2DDCD4F0EF1C1A9AA13F6E9737C9FAB698BAB1BF8CDD7046223789966B370A57CBF5BA48FCA9BFFA73F4B0F90FCF1AF3FC82C20FC245CBE0F1D374CE76E4EFCE63191A2996BEB92180F6987B329DFBEFA3C0778B991FB8E11CC76E3C9F456E1105D3F53C5CDE464534E21EFD3BEE81EF05817D3B6AF2D142514E18157DACFA088D472148A0BEE084D747C23BBF6DF3BF000000FFFF0300504B0304140006000800000021007F6E18447A030000DA09000018000000786C2F776F726B7368656574732F7368656574312E786D6C9C56CB72DA3014DD77A6FFE0F13E7E00E635402609A1B068A753D2762D6C019AD8962B8900F9FA1EC918B01D689A0D174947E7BE753DB8DD25B1F54285643C1DDABEE3D9164D431EB17435B47F3E4D6EBAB62515492312F3940EED3D95F6EDE8F3A7C1968B67B9A654596048E5D05E2B95F55D57866B9A10E9F08CA6385972911085A558B932139444E65212BB0DCF6BBB0961A99D33F4C57B38F872C9423AE6E126A1A9CA49048D8982FD72CD3259B025E17BE812229E37D94DC8930C140B1633B537A4B69584FDD92AE5822C62F8BDF35B242CB8CDA2469FB05070C997CA019D9B1B5AF7B9E7F65C308D061183073AEC96A0CBA17DE7F7674DDB1D0D4C7C7E31BA9567FF2D4516731AD350D10869B2AD57CE93794862FA4D0738C69E87D4E9A42C387FD6D767007AD023CD35AD87848ABDD0071A033E0D90D73F4633FE42AD7BD47BFEBFB06162D2F85D58115D924DAC7EF0ED94B2D55A4171E074406662D28FF6632A436406BA9D86210E790C16FC5A09D32586C8929D915B16A9F5D06E80C0F77A4DCD22D55E47BB695BE1462A9EFCCE21BEB6F048D13850401E28B40DFF450105C60AC8CB14EDAB56B40E149097297078C511386CAC80BC4C81C32B14B0D150407ED491CE8102F2A38EE0913056401614487F37F083368AA0C82A52BFA0524D98AE9AAB5EF50E7C902793828ED7F43F44E7A335F2A26B37BBA77CF51CBFE5950DD48D9017AC698731516434107C6BE17182C93223FAA9F3FB304CD77ED737B59FE7E7D810979A0125AC79EE34D1D046B8C120D1A12FA3F6C07DD19A0F88FB02A1AB5E5F79A86E8CAB1B8FD58D4975E34B75635ADD989D6DB870FAE8391AEDDCF3B75BBDF04E83D1D467DE7915EFEA884E19F1504734CA88711DD12C231EEB08BF8C98D411AD32E24B1D119411D33AA25B46CCDEB0E3E44C29CC788CDE1F660D360FE5B188FC8A7FF77548AF12E71CD13635D86C074125538FF97960CE3DA7727BF28FDBD3FC1C457532B1A200134F7B51829CF29807271F4C79272654ACCC009356C8377ACAF8B0EDB87B9AA46660B827F868909115FD4AC48AA5D28AE9D20C28B4A0C88798E7E876E4991E5B7A0E2DB8C2F429566B7CB650B4A1E7C0DE25E7AA58A03F35EF9CAA4D666524A362CE5E31BFF03C70C13006CD77C9D0CEB8508230057D7D86B92C6691B190E90F0C1A3D0AC10586E4F9B298CE3A8BE92659805A69EC9D7CA23BE3B87EAB2A04EEF1AB6CF4170000FFFF0300504B03041400060008000000210068E806565A0100006E02000011000801646F6350726F70732F636F72652E786D6C20A2040128A00001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007C925F4BC33014C5DF05BF43C97B97A6657384B6C37FC307078295896F21B9DBA24D5A92E8D66F6FDA6EB543F13139E7FE72CE25E9E2A0CAE00B8C9595CE1099442800CD2B21F536432FC5329CA3C03AA6052B2B0D196AC0A2457E7991F29AF2CAC093A96A304E820D3C495BCAEB0CED9CAB29C696EF40313BF10EEDC54D651473FE68B6B866FC836D01C75134C30A1C13CC31DC02C37A20A22352F001597F9AB203088EA10405DA594C2604FF781D1865FF1CE894915349D7D4BED331EE982D782F0EEE83958371BFDF4FF64917C3E727F875F5F8DC550DA56E77C501E5A9E0941B60AE32F9AADA31C544705F060FCC4823533C52DB4D96CCBA955FFA4682B869F2B5B496A9E0FA9DA926C5BF750FEFBAF42F80087C3ADA773929EBE4F6AE58A23C8EC82C2424244941A63449E874F6D63E7F36DFA6ED2FD431C4FFC4AB9044611417D19C46331A2723E2099077B9CF7F48FE0D0000FFFF0300504B0304140006000800000021003E36F81A040200005806000027000000786C2F7072696E74657253657474696E67732F7072696E74657253657474696E6773312E62696EEC53D16ED330143D6D19028434DE789D101FD0C1E0799EE3B459133BB21DD43E16EAA24825A9DA6402B47FE23FF806BE809F80EB746DBA22F13284848423DBF79EF89E7B7C6D8FA020118183E1040959929018B6F1395EE215F5131838AC90D3B8266F8C9410DF3AF770FF1BAE8F7A5FD0EDE021BE3F2A1FCCD0C131C6DD2ECDE36E8FC698E22AFA3CC7DD5BE786C2CF5DEAC764FCA076C81C44327B86F3DEF511B07EFAF5F1EF323FBFF5739BE10F88FD4FF1CF5460FFD4CF7B8049ECA517FF04FDDEE84EEF242A967575911708954E8CCA3417D0C204718CACC8576EED2DB5CA5D514DABBC2C902A6D358B2C78B9584C2B072591B8593EB59F960EE9624A5CE974E95626FFECC0CE7059BE55F3F9DA5550610855573709595D9508CA77F507E22605B3BC788FD8CDAB1D18D4CB85FBD8841149CC262AB390A493C59E358C6464860448E1DD3493BCF54215D3231B6C83B9905668A199115B284AD840986114DA2D126A252D576F844E542076C42D4C1B9F201021CB62EB535E303EFA75FD0E3D5C3E244D4D2EEDD6E5A26ECA19A4D1EB7EDF17B35C25E5CC6D2C4F3E8895319346892F1C21629C2A9369013B49C5A947B88A7D392C1FD25E4FC132AB3C2C453620A92D60B81642B6FEADB81787712DB089DBF313A5ACCFD5425C0D74BA633066DFB36541F7607A459764B3835445D29EF121D38CD37934F0DF7E843F010000FFFF0300504B030414000600080000002100313C5AE38B0100001403000010000801646F6350726F70732F6170702E786D6C20A2040128A00001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009C92416FDB300C85EF03F61F0CDD1B39DD3A0C81AC624837F4B062019276674DA663A1B22488AC91ECD78FB6D1D4697BDA8DE27B78FA444A5D1F3A5FF490D1C55089E5A21405041B6B17F695B8DFFDB8F82A0A24136AE363804A1C01C5B5FEF8416D724C90C901161C11B0122D515A4989B685CEE082E5C04A137367888F792F63D3380B37D13E7510485E96E51709078250437D914E81624A5CF5F4BFA175B4031F3EEC8E8981B5FA969277D610BF52DF399B23C6868AEF070B5EC9B9A8986E0BF6293B3AEA52C9F9516DADF1B0E660DD188FA0E44B43DD821986B6312EA3563DAD7AB0147381EE2F8FED52147F0CC2805389DE64670231D6609B0E63ED1352D6BF637EC416805049364CCDB19C7BE7B5FBAC97A3818B73E3103081B0708EB873E4017F351B93E91DE2E59C78649878279C4DE6457A87F406717C355FF62A7E1DBB64C2918553F5D38547BC4FBB7863089E277ADE54DBD664A87909A7899F1AEA968799FD10B26E4DD843FDEC792B0CFB7F983EB95E5E2DCA4F25AF76D653F2E53BEB7F000000FFFF0300504B01022D0014000600080000002100413782CF6E010000040500001300000000000000000000000000000000005B436F6E74656E745F54797065735D2E786D6C504B01022D0014000600080000002100B5553023F40000004C0200000B00000000000000000000000000A70300005F72656C732F2E72656C73504B01022D0014000600080000002100813E9497F3000000BA0200001A00000000000000000000000000CC060000786C2F5F72656C732F776F726B626F6F6B2E786D6C2E72656C73504B01022D0014000600080000002100594EB80104020000080400000F00000000000000000000000000FF080000786C2F776F726B626F6F6B2E786D6C504B01022D001400060008000000210072EC314FEB000000D40100001400000000000000000000000000300B0000786C2F736861726564537472696E67732E786D6C504B01022D00140006000800000021003B6D324BC10000004201000023000000000000000000000000004D0C0000786C2F776F726B7368656574732F5F72656C732F7368656574312E786D6C2E72656C73504B01022D00140006000800000021008B826E58930600008E1A000013000000000000000000000000004F0D0000786C2F7468656D652F7468656D65312E786D6C504B01022D001400060008000000210085302EB5AA030000210B00000D0000000000000000000000000013140000786C2F7374796C65732E786D6C504B01022D00140006000800000021007F6E18447A030000DA0900001800000000000000000000000000E8170000786C2F776F726B7368656574732F7368656574312E786D6C504B01022D001400060008000000210068E806565A0100006E0200001100000000000000000000000000981B0000646F6350726F70732F636F72652E786D6C504B01022D00140006000800000021003E36F81A04020000580600002700000000000000000000000000291E0000786C2F7072696E74657253657474696E67732F7072696E74657253657474696E6773312E62696E504B01022D0014000600080000002100313C5AE38B01000014030000100000000000000000000000000072200000646F6350726F70732F6170702E786D6C504B0506000000000C000C0026030000332300000000,0);	select @DefaultSalePriceListTemplate_identity = SCOPE_IDENTITY()ENDset nocount on;;with cte_data([Name],[Settings])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////('Pricelist Template (Default)','{"$type":"TOne.WhS.BusinessEntity.MainExtensions.BasicSalePriceListTemplateSettings, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"9da89204-193a-4fe1-8416-98f1620848b0","TemplateFileId":'+CONVERT(nvarchar(50), @DefaultSalePriceListTemplate_identity) +',"MappedTables":{"$type":"System.Collections.Generic.List`1[[TOne.WhS.BusinessEntity.MainExtensions.MappedTable, TOne.WhS.BusinessEntity.MainExtensions]], mscorlib","$values":[{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedTable, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"4ebe3013-2a48-41bd-97d6-57286759b907","SheetIndex":0,"FirstRowIndex":2,"MappedColumns":{"$type":"System.Collections.Generic.List`1[[TOne.WhS.BusinessEntity.MainExtensions.MappedColumn, TOne.WhS.BusinessEntity.MainExtensions]], mscorlib","$values":[{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":0},"ColumnIndex":0},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":1},"ColumnIndex":1},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":2},"ColumnIndex":2},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":3},"ColumnIndex":3},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":4},"ColumnIndex":4},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":5},"ColumnIndex":5},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":6},"ColumnIndex":6},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":7},"ColumnIndex":7},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":8},"ColumnIndex":8}]}}]},"DateTimeFormat":"yyyy-MM-dd"}')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([Name],[Settings]))merge	[TOneWhS_BE].[SalePriceListTemplate] as tusing	cte_data as son		1=1 and t.[Name] = s.[Name]--when matched then--	update set--	[Name] = s.[Name],[Settings] = s.[Settings]when not matched by target then	insert([Name],[Settings])	values(s.[Name],s.[Settings]);begin
set nocount on;
;with cte_data([ID],[Name],[Type],[Category],[Settings],[Data],[IsTechnical])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('1ED6B46A-8541-4059-A42F-CDD62B0927E2','Sale Area','WhS_BE_SaleArea_Settings','Business Entities','{"Editor" : "vr-whs-be-salearea-settings-editor"}','{"$type":"TOne.WhS.BusinessEntity.Entities.SaleAreaSettingsData, TOne.WhS.BusinessEntity.Entities","DefaultRate":0.15,"FixedKeywords":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Fixed","Landline"]},"MobileKeywords":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":["Cell","Mobile","Mob","GSM"]},"PrimarySaleEntity":0,"DefaultSalePLMailTemplateId":"124ad260-feb9-4c1b-b238-b5849a28b711","DefaultSalePLTemplateId":null,"EffectiveDateDayOffset":7,"RetroactiveDayOffset":15,"PriceListExtensionFormat":1,"PriceListType":1,"MaximumRate":10.0}',0)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Type],[Category],[Settings],[Data],[IsTechnical]))
merge	[common].[Setting] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Name] = s.[Name],[Type] = s.[Type],[Category] = s.[Category],[Settings] = s.[Settings],[Data] = s.[Data],[IsTechnical] = s.[IsTechnical]
when not matched by target then
	insert([ID],[Name],[Type],[Category],[Settings],[Data],[IsTechnical])
	values(s.[ID],s.[Name],s.[Type],s.[Category],s.[Settings],s.[Data],s.[IsTechnical]);
----------------------------------------------------------------------------------------------------
end--update template id in 'Sale Area' settingDECLARE @Setting_Sale_Area_identity intSELECT @Setting_Sale_Area_identity=ID FROM [TOneWhS_BE].[SalePriceListTemplate] WHERE [Name] = 'Pricelist Template (Default)'UPDATE  [common].[Setting] SET		[Data] = Replace([Data],'DefaultSalePLTemplateId":null','DefaultSalePLTemplateId":'+CONVERT(nvarchar(50), @Setting_Sale_Area_identity))where	[ID] = '1ED6B46A-8541-4059-A42F-CDD62B0927E2'--end Default data