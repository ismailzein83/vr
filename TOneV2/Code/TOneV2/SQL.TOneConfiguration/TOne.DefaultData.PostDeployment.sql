/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/
--default data

--[common].[Currency]-------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
set identity_insert [common].[Currency] on;
;with cte_data([ID],[Symbol],[Name],[SourceID])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(155,'USD','United States Dollars','USD')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Symbol],[Name],[SourceID]))
merge	[common].[Currency] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Symbol] = s.[Symbol],[Name] = s.[Name],[SourceID] = s.[SourceID]
when not matched by target then
	insert([ID],[Symbol],[Name],[SourceID])
	values(s.[ID],s.[Symbol],s.[Name],s.[SourceID]);
set identity_insert [common].[Currency] off;

UPDATE  [common].[Setting] 
SET		[Data] = '{"$type":"Vanrise.Entities.CurrencySettingData, Vanrise.Entities","CurrencyId":155}'
WHERE	ID='1C833B2D-8C97-4CDD-A1C1-C1B4D9D299DE' and [Data] is null

--declare @TariffRuleTypeIdTable as table
--(ID int)
--insert into @TariffRuleTypeIdTable 
--exec [rules].[sp_RuleType_InsertIfNotExistsAndGetID] 'Vanrise.GenericData.Pricing.TariffRule' 

--declare @TariffRuleTypeId int
--select @TariffRuleTypeId=ID from @TariffRuleTypeIdTable
----[rules].[Rule]------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
--set nocount on;
--;with cte_data([TypeID],[RuleDetails],[BED],[EED],[SourceID])
--as (select * from (values
----//////////////////////////////////////////////////////////////////////////////////////////////////
--(@TariffRuleTypeId,'{"$type":"Vanrise.GenericData.Pricing.TariffRule, Vanrise.GenericData.Pricing","Settings":{"$type":"Vanrise.Rules.Pricing.MainExtensions.Tariff.RegularTariffSettings, Vanrise.Rules.Pricing.MainExtensions","ConfigId":"35acc9c2-0675-4347-ba3e-a81025c1be12","CallFee":0.0,"FirstPeriod":0,"FirstPeriodRate":0.0,"FractionUnit":0,"PricingUnit":60,"CurrencyId":155},"DefinitionId":"f24cb510-0b65-48c8-a723-1f6ebfeea9e8","RuleId":0,"Description":"Default Sale Tariff Rule","BeginEffectiveTime":"2016-12-23T00:00:00","RefreshTimeSpan":"01:00:00"}','2010-01-01 00:00:00.000',null,null),
--(@TariffRuleTypeId,'{"$type":"Vanrise.GenericData.Pricing.TariffRule, Vanrise.GenericData.Pricing","Settings":{"$type":"Vanrise.Rules.Pricing.MainExtensions.Tariff.RegularTariffSettings, Vanrise.Rules.Pricing.MainExtensions","ConfigId":"35acc9c2-0675-4347-ba3e-a81025c1be12","CallFee":0.0,"FirstPeriod":0,"FirstPeriodRate":0.0,"FractionUnit":0,"PricingUnit":60,"CurrencyId":155},"DefinitionId":"5aeb0dad-4bb8-44b4-acbe-c8c917e88b58","RuleId":0,"Description":"Default Purchase Tariff Rule","BeginEffectiveTime":"2016-12-23T00:00:00","RefreshTimeSpan":"01:00:00"}','2010-01-01 00:00:00.000',null,null)
----\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
--)c([TypeID],[RuleDetails],[BED],[EED],[SourceID]))
--merge	[rules].[Rule] as t
--using	cte_data as s
--on		1=1 and t.[RuleDetails] = s.[RuleDetails]
----when matched then
----	update set
----	[TypeID] = s.[TypeID],[RuleDetails] = s.[RuleDetails],[BED] = s.[BED],[EED] = s.[EED],[SourceID] = s.[SourceID]
--when not matched by target then
--	insert([TypeID],[RuleDetails],[BED],[EED],[SourceID])
--	values(s.[TypeID],s.[RuleDetails],s.[BED],s.[EED],s.[SourceID]);

--[TOneWhS_BE].[ZoneServiceConfig]------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
set identity_insert [TOneWhS_BE].[ZoneServiceConfig] on;
;with cte_data([ID],[Symbol],[Settings],[SourceID])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(1,'WHS','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Wholesale","Color":"#C0C0C0","Description":"Wholesale Marker","Weight":1}','1'),
(2,'RTL','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Retail","Color":"#0000FF","Description":"Retail Flagged Service","Weight":2}','2'),
(3,'PRM','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Premium","Color":"#FFA500","Description":"Premium Quality Service","Weight":4}','4'),
(4,'CLI','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"CLI","Color":"#FF0000","Description":"CLI Provided Service","Weight":8}','8'),
(5,'DRC','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Direct","Color":"#000C00","Description":"Direct Connection","Weight":16}','16'),
(6,'TRS','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Transit","Color":"#FFFF00","Description":"Transit Connections (Like in Ministries)","Weight":32}','32'),
(7,'VID','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"Video","Color":"#800000","Description":"Video-Able Service","Weight":64}','64'),
(8,'3GM','{"$type":"TOne.WhS.BusinessEntity.Entities.ServiceConfigSetting, TOne.WhS.BusinessEntity.Entities","Name":"3GM Mobile Service","Color":"#000000","Description":"3rd Generation Mobile Able Service","Weight":128}','128')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Symbol],[Settings],[SourceID]))
merge	[TOneWhS_BE].[ZoneServiceConfig] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Symbol] = s.[Symbol],[Settings] = s.[Settings],[SourceID] = s.[SourceID]
when not matched by target then
	insert([ID],[Symbol],[Settings],[SourceID])
	values(s.[ID],s.[Symbol],s.[Settings],s.[SourceID]);
set identity_insert [TOneWhS_BE].[ZoneServiceConfig] off;

--[TOneWhS_BE].[SellingNumberPlan]------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
set identity_insert [TOneWhS_BE].[SellingNumberPlan] on;
;with cte_data([ID],[Name])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(1,'Default')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name]))
merge	[TOneWhS_BE].[SellingNumberPlan] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Name] = s.[Name]
when not matched by target then
	insert([ID],[Name])
	values(s.[ID],s.[Name]);
set identity_insert [TOneWhS_BE].[SellingNumberPlan] off;

--[TOneWhS_BE].[SellingProduct]---------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
set identity_insert [TOneWhS_BE].[SellingProduct] on;
;with cte_data([ID],[Name],[DefaultRoutingProductID],[SellingNumberPlanID],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(1,'Default',null,1,'{"$type":"TOne.WhS.BusinessEntity.Entities.SellingProductSettings, TOne.WhS.BusinessEntity.Entities","CurrencyId":155}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[DefaultRoutingProductID],[SellingNumberPlanID],[Settings]))
merge	[TOneWhS_BE].[SellingProduct] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Name] = s.[Name],[DefaultRoutingProductID] = s.[DefaultRoutingProductID],[SellingNumberPlanID] = s.[SellingNumberPlanID],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[DefaultRoutingProductID],[SellingNumberPlanID],[Settings])
	values(s.[ID],s.[Name],s.[DefaultRoutingProductID],s.[SellingNumberPlanID],s.[Settings]);
set identity_insert [TOneWhS_BE].[SellingProduct] off;

--[TOneWhS_BE].[RoutingProduct]---------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
set identity_insert [TOneWhS_BE].[RoutingProduct] on;
;with cte_data([ID],[Name],[SellingNumberPlanID],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(1,'LCR',1,'{"$type":"TOne.WhS.BusinessEntity.Entities.RoutingProductSettings, TOne.WhS.BusinessEntity.Entities","DefaultServiceIds":{"$type":"System.Collections.Generic.HashSet`1[[System.Int32, mscorlib]], System.Core","$values":[1]},"ZoneRelationType":0,"SupplierRelationType":0}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[SellingNumberPlanID],[Settings]))
merge	[TOneWhS_BE].[RoutingProduct] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
--when matched then
--	update set
--	[Name] = s.[Name],[SellingNumberPlanID] = s.[SellingNumberPlanID],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[SellingNumberPlanID],[Settings])
	values(s.[ID],s.[Name],s.[SellingNumberPlanID],s.[Settings]);
set identity_insert [TOneWhS_BE].[RoutingProduct] off;


DECLARE	@SaleEntityRoutingProductTypeId int
declare @SaleEntityRoutingProductTypeIdTable as table (TypeId int)
insert into @SaleEntityRoutingProductTypeIdTable exec [common].[sp_Type_InsertIfNotExistsAndGetID] 'TOne.WhS.BusinessEntity.Business.SaleEntityRoutingProductManager, TOne.WhS.BusinessEntity.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'
SELECT	@SaleEntityRoutingProductTypeId = TypeId from @SaleEntityRoutingProductTypeIdTable

declare @SaleEntityRoutingProductIdTable as table
(ID bigint)
insert into @SaleEntityRoutingProductIdTable 
exec [common].[sp_IDManager_ReserveIDRange] @SaleEntityRoutingProductTypeId, 1

declare @SaleEntityRoutingProductId bigint
select @SaleEntityRoutingProductId=ID from @SaleEntityRoutingProductIdTable

--[TOneWhS_BE].[SaleEntityRoutingProduct]-----------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[OwnerType],[OwnerID],[ZoneID],[RoutingProductID],[BED],[EED])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(@SaleEntityRoutingProductId,0,1,null,1,'2000-01-01 00:00:00.000',null)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[OwnerType],[OwnerID],[ZoneID],[RoutingProductID],[BED],[EED]))
merge	[TOneWhS_BE].[SaleEntityRoutingProduct] as t
using	cte_data as s
on		1=1 and t.[OwnerType]=s.[OwnerType] and t.[RoutingProductID] = s.[RoutingProductID] and t.[ZoneID] is null
--when matched then
--	update set
--	[OwnerType] = s.[OwnerType],[OwnerID] = s.[OwnerID],[ZoneID] = s.[ZoneID],[RoutingProductID] = s.[RoutingProductID],[BED] = s.[BED],[EED] = s.[EED]
when not matched by target then
	insert([ID],[OwnerType],[OwnerID],[ZoneID],[RoutingProductID],[BED],[EED])
	values(s.[ID],s.[OwnerType],s.[OwnerID],s.[ZoneID],s.[RoutingProductID],s.[BED],s.[EED]);

declare @RouteRuleTypeIdTable as table
(ID int)
insert into @RouteRuleTypeIdTable 
exec [rules].[sp_RuleType_InsertIfNotExistsAndGetID] 'TOne.WhS.Routing.Entities.RouteRule' 

declare @RouteRuleTypeId int
select @RouteRuleTypeId=ID from @RouteRuleTypeIdTable
--[rules].[Rule]------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([TypeID],[RuleDetails],[BED],[EED],[SourceID])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
(@RouteRuleTypeId,'{"$type":"TOne.WhS.Routing.Entities.RouteRule, TOne.WhS.Routing.Entities","Criteria":{"$type":"TOne.WhS.Routing.Entities.RouteRuleCriteria, TOne.WhS.Routing.Entities","ConfigId":"6fd3f59f-33f1-4d42-8364-7030ae79b249","RoutingProductId":1,"ExcludedCodes":{"$type":"System.Collections.Generic.List`1[[System.String, mscorlib]], mscorlib","$values":[]}},"Settings":{"$type":"TOne.WhS.Routing.Business.LCRRouteRule, TOne.WhS.Routing.Business","ConfigId":"31b3226e-a2b2-40d5-8c33-83c6601e8730","UseOrderedExecution":true,"CorrespondentType":3},"CorrespondentType":3,"BED":"2000-01-01T00:00:00","RuleId":0,"BeginEffectiveTime":"2000-01-01T00:00:00","RefreshTimeSpan":"01:00:00"}','2000-01-01 00:00:00.000',null,'Default route rule (from script)')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([TypeID],[RuleDetails],[BED],[EED],[SourceID]))
merge	[rules].[Rule] as t
using	cte_data as s
on		1=1 and t.[SourceID] = s.[SourceID]
--when matched then
--	update set
--	[TypeID] = s.[TypeID],[RuleDetails] = s.[RuleDetails],[BED] = s.[BED],[EED] = s.[EED],[SourceID] = s.[SourceID]
when not matched by target then
	insert([TypeID],[RuleDetails],[BED],[EED],[SourceID])
	values(s.[TypeID],s.[RuleDetails],s.[BED],s.[EED],s.[SourceID]);

--[TOneWhS_BE].[SalePriceListTemplate]--------------------------------------------------------------
----------------------------------------------------------------------------------------------------
DECLARE @DefaultSalePriceListTemplate_identity bigint
SELECT @DefaultSalePriceListTemplate_identity = [ID] FROM [common].[File] WHERE [Name] = 'Sale Pricelist Template.xlsx'
IF @DefaultSalePriceListTemplate_identity IS NULL
BEGIN
	insert into [common].[File] ([Name],[Extension],[Content],[IsUsed])
	values('Sale Pricelist Template.xlsx','xlsx', 0x504B030414000600080000002100413782CF6E01000004050000130008025B436F6E74656E745F54797065735D2E786D6C20A2040228A000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000AC54C96EC23010BD57EA3F44BE5689A187AAAA081CBA1C5B24E8079878925824B6E51928FC7D27665155B108C125516CCF5B26F33C18ADDA26594240E36C2EFA594F24600BA78DAD72F13DFD489F4582A4AC568DB3908B35A0180DEFEF06D3B5074CB8DA622E6A22FF22251635B40A33E7C1F24EE942AB883F4325BD2AE6AA02F9D8EB3DC9C259024B29751862387883522D1A4ADE57BCBC5132335624AF9B731D552E94F78D2914B150B9B4FA1F49EACAD214A05DB168193A431F4069AC01A86D321F0C33860910B13114F2206780062F23DDBACAB8320AC3DA787C60EB4718BA9DE3AEB6755FFC3B82D1908C55A04FD5B277B96AE48F0BF39973F3EC34C8A5AD892DCA5A65EC4EF709FE7818657CF56F2CA4F31781CFE8209E3190F179BD840873861069DD00DEBAED11F41C73AD02E809F1F4563717F017FB940E8ED438388F9CDA009777611791AE3AF50C04810CEC437268D8F68C1CF9ABDB0EDD9DA2411FE096F10E1BFE020000FFFF0300504B030414000600080000002100B5553023F40000004C0200000B0008025F72656C732F2E72656C7320A2040228A000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000AC924D4FC3300C86EF48FC87C8F7D5DD9010424B774148BB21547E8049DC0FB58DA3241BDDBF271C10541A8303477FBD7EFCCADBDD3C8DEAC821F6E234AC8B12143B23B677AD8697FA7175072A2672964671ACE1C41176D5F5D5F699474A792876BD8F2AABB8A8A14BC9DF2346D3F144B110CF2E571A0913A51C86163D99815AC64D59DE62F8AE01D54253EDAD86B0B737A0EA93CF9B7FD796A6E90D3F88394CECD29915C8736267D9AE7CC86C21F5F91A5553683969B0629E723A22795F646CC0F3449BBF13FD7C2D4E9CC852223412F832CF47C725A0F57F5AB434F1CB9D79C43709C3ABC8F0C9828B1FA8DE010000FFFF0300504B030414000600080000002100813E9497F3000000BA0200001A000801786C2F5F72656C732F776F726B626F6F6B2E786D6C2E72656C7320A2040128A0000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000AC524D4BC43010BD0BFE8730779B761511D9742F22EC55EB0F08C9B429DB2621337EF4DF1B2ABA5D58D64B2F036F8679EFCDC776F7350EE20313F5C12BA88A12047A136CEF3B056FCDF3CD030862EDAD1E8247051312ECEAEBABED0B0E9A7313B93E92C82C9E1438E6F828251987A3A62244F4B9D286346ACE3075326A73D01DCA4D59DECBB4E480FA8453ECAD82B4B7B7209A2966E5FFB943DBF6069F82791FD1F31909493C0D7900D1E8D4212BF8C145F608F2BCFC664D79CE6BC1A3FA0CE51CAB4B1EAA353D7C86742087C8471F7F299273E5A299BB55EFE17442FBCA29BFDBF22CCBF4EF66E4C9C7D5DF000000FFFF0300504B03041400060008000000210007188BAF91020000FF0500000F000000786C2F776F726B626F6F6B2E786D6CA454D16EDA30147D9FB47FB0FC1E126721A35143B586A221AD13DAD6F605A93289211EB19DD94E0155FDF75D2705DAB287AE8DE0C6F685E373EE3DF6E9D94654E88E69C3954C31E905183199AB82CB658AAF7E8DBD0146C65259D04A4996E22D33F86CF8F1C3E95AE9D55CA915020069525C5A5B27BE6FF292096A7AAA6612320BA505B530D54BDFD49AD1C2948C5951F96110C4BEA05CE20E21D1AFC1508B05CFD948E58D60D276209A55D4027D53F2DAECD044FE1A3841F5AAA9BD5C891A20E6BCE276DB826224F264B2944AD37905B237A48F361A3E317C490021DCED04A9A3AD04CFB5326A617B00ED77A48FF493C027E4590936C735781D52E46B76C75D0FF7AC74FC4656F11E2B3E8091E0DD6804ACD57A2581E2BD11ADBFE716E2E1E98257ECBAB32EA275FD9D0AD7A90AA38A1A7B5170CB8A147F86A95AB3C302A8D24D7DDEF00AB2E4848431F6877B3B4F354CA0F75F2ACBB4A496654A5AB0DA23F5F7DAAAC5CE4A0526463FD89F866B0667072C047220D23CA17333A5B6448DAE529C25B32B030A676B6E0C153DFA9B8AED6CC4CCCAAA7AF6C481F4D8EEFFE1419ABB12F820BBA3D68D5F960018EA64E7B3A9D508C693D137A8F54F7A079587FE168F0773E24A1BDECA5C27FDC03DB7F7171759341A8CFB5E1066991745E3D01B1072EE45277194F5A3280BC9E00114E938C9156D6CF9D859879FE24FE41FA94BBAD965489034BC3870B96F7785E0B9C18BB0CB3D38D5EE0EBBE66C6D0E1E7053B4B9E1B250EB56D6F6C978DD2EDFF0C296290E07830064776B5F195F96C0959038EC3BBAA1E394E2675C461D97313C9E0BCFB8F84FC8B4F724906ADF48B6DE9E6AF04DC58D853BD95DA36D99C1CE89DB464F0AD2B671F7CF9C56F95423F76A7F48A210CEA06BF4EEEE1EFE050000FFFF0300504B030414000600080000002100A58058B30A0100000E02000014000000786C2F736861726564537472696E67732E786D6C6C91C14AC4301086EF82EF1072F0E6A60A8A689A05D78A0B8BCA5A11BC8566DA866D26354917FBF6A62B28347B9C6FBEF96760F8F2DB74640FCE6B8B39BD586494005656696C72FA5E3E9EDF50E28344253B8B90D3113C5D8AD313EE7D2071167D4EDB10FA5BC67CD582917E617BC0D8A9AD3332C4D235CCF70EA4F22D40301DBBCCB26B66A4464A2A3B60887BAF2819507F0DB0FA03827B2D78109F712F67417036D5BF6C2B43C2565601B92F1EE6EE8117299F328EF9077EC49F72FC3CFC0DDC5E57E92DADC4064839F6496B8D95030318923B37EBE2B9241BDB5872264D7F47D658DBC41A9C8B0F1AE7FC036007A8E6F8C9765AC9C47EA96BF20A72F7AFB3F84FF1030000FFFF0300504B0304140006000800000021003B6D324BC10000004201000023000000786C2F776F726B7368656574732F5F72656C732F7368656574312E786D6C2E72656C73848FC18AC2301445F703FE43787B93D6850C43533722B855E70362FADA06DB9790F714FD7BB31C65C0E5E570CFE5369BFB3CA91B660E912CD4BA0285E4631768B0F07BDA2DBF41B138EADC14092D3C9061D32EBE9A034E4E4A89C79058150BB1855124FD18C37EC4D9B18E09A9903EE6D949897930C9F98B1BD0ACAA6A6DF25F07B42F4EB5EF2CE47D57833A3D5259FEEC8E7D1F3C6EA3BFCE48F2CF84493990603EA24839C845EDF2806241EB77F69E6B7D0E04A66DCCCBF3F6090000FFFF0300504B0304140006000800000021008B826E58930600008E1A000013000000786C2F7468656D652F7468656D65312E786D6CEC59CF8B1B3714BE17FA3F0C7377FC6B666C2FF1067B6C67DBEC2621EBA4E4A8B5658FB29A9119C9BB3121509263A1509A965E0ABDF550DA0612E825FD6BB64D6953C8BFD027CDD823ADE56E9A6E202D59C332A3F9F4F4E9BD37DF9334172FDD8DA97384534E58D276AB172AAE8393111B9364DA766F0E07A5A6EB70819231A22CC16D7781B97B69FBFDF72EA22D11E1183BD03FE15BA8ED4642CCB6CA653E8266C42FB0194EE0D984A53112709B4ECBE3141D83DD98966B954A508E11495C27413198BD369990117686D2A4BBBD34DEA7709B082E1B4634DD97A6B1D14361C7875589E00B1ED2D43942B4EDC23863763CC47785EB50C4053C68BB15F5E796B72F96D156DE898A0D7DB57E03F597F7CB3B8C0F6B6ACC747AB01AD4F37C2FE8ACEC2B0015EBB87EA31FF483953D0540A311CC34E3A2DBF4BBAD6ECFCFB11A28BBB4D8EE357AF5AA81D7ECD7D738777CF933F00A94D9F7D6F08341085E34F00A94E17D8B4F1AB5D033F00A94E183357CA3D2E9790D03AF401125C9E11ABAE207F57039DB1564C2E88E15DEF2BD41A3961B2F50900DABEC92434C582236E55A8CEEB074000009A44890C4118B199EA01164718828394889B34BA61124DE0C258C4373A5561954EAF05FFE3C75A53C82B630D27A4B5EC084AF35493E0E1FA56426DAEE8760D5D5202F9F7DFFF2D913E7E5B3C7270F9E9E3CF8E9E4E1C393073F66B68C8E3B2899EA1D5F7CFBD99F5F7FECFCF1E49B178FBEB0E3B98EFFF5874F7EF9F9733B10265B78E1F9978F7F7BFAF8F9579FFEFEDD230BBC93A2031D3E2431E6CE557CECDC6031CC4D79C1648E0FD27FD663182162F44011D8B698EE8BC8005E5D206AC375B1E9BC5B29088C0D78797EC7E0BA1FA573412C235F896203B8C718EDB2D4EA802B722CCDC3C37932B50F9ECE75DC0D848E6C6387283142DB9FCF405989CD64186183E6758A1281A638C1C291CFD821C696D9DD26C4F0EB1E19A58CB389706E13A78B88D5254372602452D16987C41097858D2084DAF0CDDE2DA7CBA86DD63D7C6422E18540D4427E88A9E1C6CB682E506C33394431D51DBE8B446423B9BF48473AAECF05447A8A2973FA63CCB9ADCFB514E6AB05FD0A888B3DEC7B74119BC85490439BCD5DC4988EECB1C33042F1CCCA9924918EFD801F428A22E73A1336F81E33DF10790F7140C9C670DF22D808F7D94270137455A75424887C324F2DB1BC8C99F93E2EE80461A53220FB869AC7243953DA4F89BAFF4ED4B3AA745AD43B29B1BE5A3BA7A47C13EE3F28E03D344FAE637867D60BD83BFD7EA7DFEEFF5EBF37BDCBE7AFDA8550838617AB75B5768F372EDD2784D27DB1A07897ABD53B87F2341E40A3DA56A8BDE56A2B378BE032DF2818B8698A541F2765E22322A2FD08CD60895F551BD129CF4D4FB933631C56FEAA596D89F129DB6AFF308FF7D838DBB156AB72779A890747A268AFF8AB76D86D880C1D348A5DD8CABCDAD74ED56E794940F6FD2724B4C14C12750B89C6B211A2F07724D4CCCE8545CBC2A229CD2F43B58CE2CA15406D1515583F39B0EA6ABBBE979D04C0A60A513C9671CA0E0596D195C139D7486F7226D533001613CB0C2822DD925C374E4FCE2E4BB55788B441424B3793849686111AE33C3BF5A393F38C75AB08A9414FBA62F93614341ACD37116B2922A7B48126BA52D0C4396EBB41DD87D3B1119AB5DD09ECFCE1329E41EE70B9EE45740AC7672391662FFCEB28CB2CE5A2877894395C894EA606311138752889DBAE9CFE2A1B68A2344471ABD64010DE5A722D9095B78D1C04DD0C329E4CF048E861D75AA4A7B35B50F84C2BAC4F55F7D707CB9E6C0EE1DE8FC6C7CE019DA73710A498DFA84A078E098703A06AE6CD318113CD959015F977AA30E5B2AB1F29AA1CCADA119D4528AF28BA98677025A22B3AEA6EE503ED2E9F333874DD8507535960FF75D53DBB544BCF69A259D44C435564D5B48BE99B2BF21AABA2881AAC32E956DB065E685D6BA97590A8D62A7146D57D8582A0512B0633A849C6EB322C353B6F35A99DE38240F344B0C16FAB1A61F5C4EB567EE8773A6B658158AE2B55E2AB4F1FFAD709767007C4A307E7C0732AB80A257C7B48112CFAB293E44C36E015B92BF235225C39F394B4DD7B15BFE385353F2C559A7EBFE4D5BD4AA9E977EAA58EEFD7AB7DBF5AE9756BF7A1B08828AEFAD96797019C47D145FEF145B5AF7D808997476E17462C2E33F581A5AC88AB0F30D5DAE60F300E01D1B917D406AD7AAB1B945AF5CEA0E4F5BACD522B0CBAA55E10367A835EE8375B83FBAE73A4C05EA71E7A41BF590AAA6158F2828AA4DF6C951A5EADD6F11A9D66DFEBDCCF973130F34C3E725F807B15AFEDBF000000FFFF0300504B0304140006000800000021003C3917F7D0030000CF0B00000D000000786C2F7374796C65732E786D6CB456DB6EE336107D2FD07F20F4AEE862C9B15C498BB51D030BEC2E8A26050A74FB404B944D2C2F024567E52DFAEF1D8A922D274DE2A68D01DBE4903C738673E1A4EF5ACED03D510D952273822BDF414414B2A4629B39BFDEADDD99831A8D4589991424730EA471DEE53FFE9036FAC0C8ED8E108D00423499B3D3BA9E7B5E53EC08C7CD95AC8980954A2A8E354CD5D66B6A4570D998439C79A1EF4F3D8EA9702CC29C17978070ACBEEE6BB790BCC69A6E28A3FAD061398817F30F5B2115DE30A0DA06112E501B4C55885A3528E9A48FF4705A28D9C84A5F01AE27AB8A16E431DDC44B3C5C9C9000F9754841ECF9E199EDAD7A2552E429724F8DFB9C3C157BBEE6BA4185DC0B9D39E15184ECCA87127C3C8D1C64BDB29425DC937FE5C3E7A7DF7F21E51F76EC7803D4D9B9F8FCDC013E5F5CCEBFB865694E78BDF63CADA43891006DDD9DCFBF0AF94DACCD1290006666579E36DFD13D6620090C46219954888A92B404B8CE3A269813BB678919DD286A8415E6941DAC38ECB45BB807A0DDD20BA0523492E1E621EAE411EA06F41EE9BE19F2647AC1455CC0D9EBBC003745193B464464EE1D04790AC9A389126B98A07E7C77A8211C04E4B935BDDBF7C2EEADC287208C2F3F00774D4BC362BBEC7CADA15A80D68983343531EB5F5D27491207C1B53F994533F8768ED8F4DB8FA101516C626E6406CC2CD917283FC1E0FA7F64D01169F274235509B575C84713F55694A78C541A0C5074BB33FF5AD6F0BB915A43FDC9D392E2AD149819138713FD00600BC2D8ADA9BFBF5567D86D35CA57A8E426024CCA9B2138B31F5A3C3B31F863348B3D829D01E57F0F8BDAEA88FFD4E9E04952C7D308D7353B9892612A06703DC38A929385E1090C86630B1F807DDEF30D51EBEE5132A0E72AFA19DCD54B0A2F66FFBCC28736055D6DB65E7B2B15B6FEBFB18EEEAD78531DA3F886E231C4370C9FF1FE104AE77EB6B3F78C6E052736D6F2149E1A3B453BA9E8778841F34A15B04EA097808E49D3622CF9A6707D47DA2152BDB6EA530B926994B167F97ACC3C24E08DCB9CCF262C19BC977DF6A0CD9E32288BFF90AB8059B6A7ECF74D7668D3F77475E1A8052EA92415DE337D775CCC9CD3F81329E99E43CAF4BB7EA6F752771099731A7F34452AE8DE25B0F06303CF36FCA3BDA299F3E7CDE23A59DDAC4377E62F666E3421B19BC48B951B47CBC56AB54EFCD05FFE35EABEFE43EFD5358B50058268DE30E8D0546F6C4FFEF624CB9CD1C4D2EF9E0BA03DE69E8453FF7D1CF8EE7AE2076E34C53377369DC4EE3A0EC2D5345ADCC4EB78C43D7E658FE67B4160BB3D433E9E6BCA09A362F0D5E0A1B1149C04D3678CF0064F78A74E3CFF1B0000FFFF0300504B0304140006000800000021003E428EB1C80300002A0C000018000000786C2F776F726B7368656574732F7368656574312E786D6CAC565173A336107EEF4CFF03A3F700C2C6B13DC637D7F87C71EE92E93477EDB30CB2AD09202AC9767237FDEFDD15061B4832A9D38C8360F9F87657FAB4DAC987C72C75765C6921F38850D7270ECF6399887C1D91EFDFE61743E268C3F284A532E71179E29A7C98FEFACB642FD583DE706E1C60C8754436C61463CFD3F186674CBBB2E039BC59499531038F6AEDE9427196D88FB2D40B7C7FE0654CE4A46418ABB770C8D54AC47C26E36DC6735392289E3203F1EB8D2874C596C56FA1CB987AD81617B1CC0AA0588A5498274B4A9C2C1E2FD6B9546C9942DE8FB4CF62E751C12F80FF5EE5C6DA3B9E32112BA9E5CAB8C0EC953177D31F79238FC5355337FF37D1D0BEA7F84EE0021EA982F342A261CD151CC97A67920D6A329C2E35DE8A24223FFDC3DF058C142FFEF152BDFB874C27898015C6AC1CC55711F948C77701F1A613AB9F3F05DFEB937BC7B0E53D4F796C38F8A0C4F92165761FB394DFA10053B0F9206D14ED52CA07FC7C01401FFC68FB19FA61B1113B7EC55380DFA0EEFFB69EE116DC7AB5DFD3FB2A86B995F9EFCA49F88A6D53F387DC5F73B1DE18701CBA9721E48F021A274F33AE63502EF8768310896399020B5C9D4CE01604E5B1473BEE45623611098080FAA31EB268F3846A84F98CB7DAC8ECAF12420F4425052C9DA580F1408131FC270A706029607C9962F06A14FD03058C2F53C0CB571281846D1430BE4C012F5FA180182D058CE7267279A080F1DC44404C360A182B0A58FE6148C30188A05A5558FA25D7662E5035AF66353AF0C1780C29BCF47BF42C3A0A5BA3141DEE9183A402771886FDC1F044766F0F90D632869B8A91BAEF08B112353D51F5BBE690561AC79BFF25C44AF1F444F2EF0BB1DA0074D01B1E49472EEDFB4DE160812A0B892D533366D874A2E4DE8143055640170C8F683AC6D0B0280DA92D4AE5C6A92BD54B550ACA13127D44A688C03E00060DA57337A5FEC4DBA1EF03E4B70A82850DBFB96A1B666DC3A7B661DE367C6E1BAEDB8645DB70D3367C691BBEB60DB76DC3DD89C183B9AC271414D898D0E74B7B35698886227E3269ED39EB2206CD59BDEA22822662D645F49A884F5D046D22E65D44BF89F8DC45844DC4751771D9442CBA88611371D3458C9A882FCFE4D24AE6EB3390D68CDC3E0369250C1D477BF1E871E64B51948D41B9E332AED6B681D04E2CB778CA53D826B5F5D8C9D803DB3BC2A79382ADF92D536B916B27E52BDB20C04E536513E1BBB8EB64816D0316E4A53470FA574F1B68AB396C36DF8552B692D2540FB00B91F79E9B6DE114ACE0EA5EFC80FE01CE0DA904B421B66F8E482195514C18F037C6264D2D9232C2BACB9FFE0B0000FFFF0300504B030414000600080000002100A120C4325A0100006E02000011000801646F6350726F70732F636F72652E786D6C20A2040128A00001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007C925F4BC33014C5DF05BF43C97B9B66DD8684B6C37FC307078295896F21B9DBA24D5A9268B76F6FDA6EB543F13139E7FE72CE25E962AFCAE00B8C9595CE1089621480E695907A9BA19762195EA1C03AA6052B2B0D193A80458BFCF222E535E595812753D5609C041B7892B694D719DA3957538C2DDF816236F20EEDC54D651473FE68B6B866FC836D014FE2788E1538269863B80586F5404447A4E003B2FE346507101C43090AB4B3984404FF781D1865FF1CE89491534977A87DA763DC315BF05E1CDC7B2B0763D334519374317C7E825F578FCF5DD550EA76571C509E0A4EB901E62A93AFAA1D534C04F765F0C08C3432C523B5DD64C9AC5BF9A56F24889B43BE96D632155CBF337548F16FDDC3BB2EFD0B20029F8EF65D4ECA3AB9BD2B96289FC4641E121292A420339A2474367F6B9F3F9B6FD3F617EA18E27FE255184F3DB420099DC674928C882740DEE53EFF21F937000000FFFF0300504B0304140006000800000021003E36F81A040200005806000027000000786C2F7072696E74657253657474696E67732F7072696E74657253657474696E6773312E62696EEC53D16ED330143D6D19028434DE789D101FD0C1E0799EE3B459133BB21DD43E16EAA24825A9DA6402B47FE23FF806BE809F80EB746DBA22F13284848423DBF79EF89E7B7C6D8FA020118183E1040959929018B6F1395EE215F5131838AC90D3B8266F8C9410DF3AF770FF1BAE8F7A5FD0EDE021BE3F2A1FCCD0C131C6DD2ECDE36E8FC698E22AFA3CC7DD5BE786C2CF5DEAC764FCA076C81C44327B86F3DEF511B07EFAF5F1EF323FBFF5739BE10F88FD4FF1CF5460FFD4CF7B8049ECA517FF04FDDEE84EEF242A967575911708954E8CCA3417D0C204718CACC8576EED2DB5CA5D514DABBC2C902A6D358B2C78B9584C2B072591B8593EB59F960EE9624A5CE974E95626FFECC0CE7059BE55F3F9DA5550610855573709595D9508CA77F507E22605B3BC788FD8CDAB1D18D4CB85FBD8841149CC262AB390A493C59E358C6464860448E1DD3493BCF54215D3231B6C83B9905668A199115B284AD840986114DA2D126A252D576F844E542076C42D4C1B9F201021CB62EB535E303EFA75FD0E3D5C3E244D4D2EEDD6E5A26ECA19A4D1EB7EDF17B35C25E5CC6D2C4F3E8895319346892F1C21629C2A9369013B49C5A947B88A7D392C1FD25E4FC132AB3C2C453620A92D60B81642B6FEADB81787712DB089DBF313A5ACCFD5425C0D74BA633066DFB36541F7607A459764B3835445D29EF121D38CD37934F0DF7E843F010000FFFF0300504B0304140006000800000021008E34452A8B0100001403000010000801646F6350726F70732F6170702E786D6C20A2040128A00001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009C92416FDB300C85EF03FA1F0CDD1B396D510C81AC624857F4B061019276674DA663A1B22488AC91ECD78FB6D1D45977DA8DE27B78FA444ADD1D3A5FF490D1C55089E5A21405041B6B17F69578DA3D5C7E16059209B5F13140258E80E24E5F7C529B1C13647280054704AC444B945652A26DA133B86039B0D2C4DC19E263DECBD834CEC27DB4AF1D04925765792BE140106AA82FD329504C89AB9EFE37B48E76E0C3E7DD3131B0565F52F2CE1AE257EAEFCEE688B1A1E2EBC18257722E2AA6DB827DCD8E8EBA54727E545B6B3CAC395837C62328F9DE508F6086A16D8CCBA8554FAB1E2CC55CA0FBCD63BB12C52F8330E054A237D999408C35D8A6C358FB8494F5CF985FB0052054920D53732CE7DE79ED6EF4723470716E1C02261016CE11778E3CE08F666332FD837839271E1926DE0967937991DE217D401C5FCD97FD15BF8E5D32E1C8C2A9FAE6C20B3EA55DBC37046F133D6FAA6D6B32D4BC84D3C44F0DF5C8C3CC7E0859B726ECA17EF37C1486FD3F4F9F5C2F6F17E575C9AB9DF5947CFFCEFA0F000000FFFF0300504B01022D0014000600080000002100413782CF6E010000040500001300000000000000000000000000000000005B436F6E74656E745F54797065735D2E786D6C504B01022D0014000600080000002100B5553023F40000004C0200000B00000000000000000000000000A70300005F72656C732F2E72656C73504B01022D0014000600080000002100813E9497F3000000BA0200001A00000000000000000000000000CC060000786C2F5F72656C732F776F726B626F6F6B2E786D6C2E72656C73504B01022D001400060008000000210007188BAF91020000FF0500000F00000000000000000000000000FF080000786C2F776F726B626F6F6B2E786D6C504B01022D0014000600080000002100A58058B30A0100000E0200001400000000000000000000000000BD0B0000786C2F736861726564537472696E67732E786D6C504B01022D00140006000800000021003B6D324BC1000000420100002300000000000000000000000000F90C0000786C2F776F726B7368656574732F5F72656C732F7368656574312E786D6C2E72656C73504B01022D00140006000800000021008B826E58930600008E1A00001300000000000000000000000000FB0D0000786C2F7468656D652F7468656D65312E786D6C504B01022D00140006000800000021003C3917F7D0030000CF0B00000D00000000000000000000000000BF140000786C2F7374796C65732E786D6C504B01022D00140006000800000021003E428EB1C80300002A0C00001800000000000000000000000000BA180000786C2F776F726B7368656574732F7368656574312E786D6C504B01022D0014000600080000002100A120C4325A0100006E0200001100000000000000000000000000B81C0000646F6350726F70732F636F72652E786D6C504B01022D00140006000800000021003E36F81A04020000580600002700000000000000000000000000491F0000786C2F7072696E74657253657474696E67732F7072696E74657253657474696E6773312E62696E504B01022D00140006000800000021008E34452A8B01000014030000100000000000000000000000000092210000646F6350726F70732F6170702E786D6C504B0506000000000C000C0026030000532400000000,0);

	select @DefaultSalePriceListTemplate_identity = SCOPE_IDENTITY()
END

set nocount on;
;with cte_data([Name],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('Pricelist Template (Default)','{"$type":"TOne.WhS.BusinessEntity.MainExtensions.BasicSalePriceListTemplateSettings, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"9da89204-193a-4fe1-8416-98f1620848b0","TemplateFileId":'+CONVERT(varchar(50), @DefaultSalePriceListTemplate_identity) +',"MappedTables":{"$type":"System.Collections.Generic.List`1[[TOne.WhS.BusinessEntity.MainExtensions.MappedTable, TOne.WhS.BusinessEntity.MainExtensions]], mscorlib","$values":[{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedTable, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"4ebe3013-2a48-41bd-97d6-57286759b907","SheetIndex":0,"FirstRowIndex":2,"MappedColumns":{"$type":"System.Collections.Generic.List`1[[TOne.WhS.BusinessEntity.MainExtensions.MappedColumn, TOne.WhS.BusinessEntity.MainExtensions]], mscorlib","$values":[{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":0},"ColumnIndex":0},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":1},"ColumnIndex":1},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":2},"ColumnIndex":2},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":3},"ColumnIndex":3},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":4},"ColumnIndex":4},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":5},"ColumnIndex":5},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":6},"ColumnIndex":6},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":7},"ColumnIndex":7},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":8},"ColumnIndex":8},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":11},"ColumnIndex":9},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowBEFieldMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"930fb07f-e599-4324-ac59-baab800adc0e","BEField":9},"ColumnIndex":10},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowOtherRatesMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"70500270-0bfd-4aea-a20a-969ba0f6489b","RateTypeId":-1},"ColumnIndex":11},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowOtherRatesMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"70500270-0bfd-4aea-a20a-969ba0f6489b","RateTypeId":-2},"ColumnIndex":12},{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowMappedColumn, TOne.WhS.BusinessEntity.MainExtensions","MappedValue":{"$type":"TOne.WhS.BusinessEntity.MainExtensions.CodeOnEachRowOtherRatesMappedValue, TOne.WhS.BusinessEntity.MainExtensions","ConfigId":"70500270-0bfd-4aea-a20a-969ba0f6489b","RateTypeId":-3},"ColumnIndex":13}]}}]},"DateTimeFormat":"yyyy-MM-dd"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([Name],[Settings]))
merge	[TOneWhS_BE].[SalePriceListTemplate] as t
using	cte_data as s
on		1=1 and t.[Name] = s.[Name]
--when matched then
--	update set
--	[Name] = s.[Name],[Settings] = s.[Settings]
when not matched by target then
	insert([Name],[Settings])
	values(s.[Name],s.[Settings]);

--update template id in 'Sale Area' setting
DECLARE @Setting_Sale_Area_identity int
SELECT @Setting_Sale_Area_identity=ID FROM [TOneWhS_BE].[SalePriceListTemplate] WHERE [Name] = 'Pricelist Template (Default)'

UPDATE  [common].[Setting] 
SET		[Data] = Replace([Data],'DefaultSalePLTemplateId":null','DefaultSalePLTemplateId":'+CONVERT(nvarchar(50), @Setting_Sale_Area_identity))
where	[ID] = '1ED6B46A-8541-4059-A42F-CDD62B0927E2'

--[runtime].[ScheduleTask]------------------------------------------------------------------------------------------------------------------------------------------------------------------------------set nocount on;;with cte_data([Id],[Name],[IsEnabled],[TaskType],[TriggerTypeId],[ActionTypeId],[TaskSettings],[OwnerId])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////('AF00B1E8-D232-4175-9093-FE54688E483D','Update ExchangeRate On CDR and Analytics Databases',1,1,'295B4FAC-DBF9-456F-855E-60D0B176F86B','0A15BC35-A3A7-4ED3-B09B-1B41A7A9DDC9','{"$type":"Vanrise.Runtime.Entities.SchedulerTaskSettings, Vanrise.Runtime.Entities","TaskActionArgument":{"$type":"Vanrise.Common.MainExtensions.ExchangeRateTaskActionArgument, Vanrise.Common.MainExtensions","ConnectionStrings":{"$type":"System.Collections.Generic.List`1[[Vanrise.Entities.ConnectionStringSetting, Vanrise.Entities]], mscorlib","$values":[{"$type":"Vanrise.Entities.ConnectionStringSetting, Vanrise.Entities","ConnectionStringName":"TOneCDRDBConnString"},{"$type":"Vanrise.Entities.ConnectionStringSetting, Vanrise.Entities","ConnectionStringName":"TOneAnalyticsDBConnString"}]},"EnableRateUpdate":false},"TaskTriggerArgument":{"$type":"Vanrise.Runtime.Triggers.TimeTaskTrigger.Arguments.IntervalTimeTaskTriggerArgument, Vanrise.Runtime.Triggers.TimeTaskTrigger.Arguments","Interval":5.0,"IntervalType":0,"TimerTriggerTypeFQTN":"Vanrise.Runtime.Triggers.TimeTaskTrigger.IntervalTimeSchedulerTaskTrigger, Vanrise.Runtime.Triggers.TimeTaskTrigger","IgnoreSkippedIntervals":true},"StartEffDate":"2018-01-01T00:00:00"}',1)--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([Id],[Name],[IsEnabled],[TaskType],[TriggerTypeId],[ActionTypeId],[TaskSettings],[OwnerId]))merge	[runtime].[ScheduleTask] as tusing	cte_data as son		1=1 and t.[Id] = s.[Id]--when matched then--	update set--	[Name] = s.[Name],[IsEnabled] = s.[IsEnabled],[TaskType] = s.[TaskType],[TriggerTypeId] = s.[TriggerTypeId],[ActionTypeId] = s.[ActionTypeId],[TaskSettings] = s.[TaskSettings],[OwnerId] = s.[OwnerId]when not matched by target then	insert([Id],[Name],[IsEnabled],[TaskType],[TriggerTypeId],[ActionTypeId],[TaskSettings],[OwnerId])	values(s.[Id],s.[Name],s.[IsEnabled],s.[TaskType],s.[TriggerTypeId],s.[ActionTypeId],s.[TaskSettings],s.[OwnerId]);

--end Default data