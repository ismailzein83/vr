--[genericdata].[datastore]-------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('7403534B-628F-4114-B1C9-C9EDAB294219','VR Rest API','{"$type":"Vanrise.GenericData.MainExtensions.DataStorages.DataStore.VRRestAPIDataStoreSettings, Vanrise.GenericData.MainExtensions","ConfigId":"4829119d-f86f-4a6c-a6c0-cdb3fc8274c1","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","IsRemoteDataStore":true}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Settings]))
merge	[genericdata].[datastore] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[Settings])
	values(s.[ID],s.[Name],s.[Settings]);


--[genericdata].[datarecordstorage]-----------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[DataRecordTypeID],[DataStoreID],[Settings],[State])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('59BD3A0D-2BA1-4263-B301-4779E0D4D0A2','CDR Table','20946C89-91D2-4895-99F4-E8FF739C0CFF','7403534B-628F-4114-B1C9-C9EDAB294219','{"$type":"Vanrise.GenericData.MainExtensions.DataStorages.DataRecordStorage.VRRestAPIDataRecordStorageSettings, Vanrise.GenericData.MainExtensions","RemoteDataRecordTypeId":"d818c097-822d-4ea5-ae22-f7d208154a78","RemoteDataRecordStorageIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["5cd31703-3bc6-41eb-b204-ef473cb394e4","df2e0c11-750b-4c9b-b232-829421f1187d"]},"VRRestAPIRecordQueryInterceptor":{"$type":"PartnerPortal.CustomerAccess.MainExtensions.VRRestAPIRecordQueryInterceptor.RetailAccountVRRestAPIRecordQueryInterceptor, PartnerPortal.CustomerAccess.MainExtensions","ConfigId":"b3a94a20-92ed-47bf-86d6-1034b720be73","AccountFieldName":"FinancialAccountId"},"DateTimeField":"ConnectDateTime","RequiredPermission":{"$type":"Vanrise.Security.Entities.RequiredPermissionSettings, Vanrise.Security.Entities","Entries":{"$type":"System.Collections.Generic.List`1[[Vanrise.Security.Entities.RequiredPermissionEntry, Vanrise.Security.Entities]], mscorlib","$values":[]}}}',null)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[DataRecordTypeID],[DataStoreID],[Settings],[State]))
merge	[genericdata].[datarecordstorage] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[DataRecordTypeID] = s.[DataRecordTypeID],[DataStoreID] = s.[DataStoreID],[Settings] = s.[Settings],[State] = s.[State]
when not matched by target then
	insert([ID],[Name],[DataRecordTypeID],[DataStoreID],[Settings],[State])
	values(s.[ID],s.[Name],s.[DataRecordTypeID],s.[DataStoreID],s.[Settings],s.[State]);


--[genericdata].[datarecordtype]--------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[ParentID],[Fields],[ExtraFieldsEvaluator],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('20946C89-91D2-4895-99F4-E8FF739C0CFF','BillingCDR',null,'{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities]], mscorlib","$values":[{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"CDRID","Title":"ID","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","DataPrecision":0,"DataType":2,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"AttemptDateTime","Title":"Attempt Date Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","DataType":0,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ConnectDateTime","Title":"Connect Date Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","DataType":0,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"DisconnectDateTime","Title":"Disconnect Date Time","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldDateTimeType, Vanrise.GenericData.MainExtensions","ConfigId":"b8712417-83ab-4d4b-9ee1-109d20ceb909","DataType":0,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"DurationInSeconds","Title":"Duration In Seconds","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","DataPrecision":0,"DataType":0,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"DisconnectReason","Title":"Disconnect Reason","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"CallProgressState","Title":"Call Progress State","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ServiceType","Title":"Service Type","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","BusinessEntityDefinitionId":"8e5eaedf-f4f0-49fa-ab46-306c8044317d","IsNullable":false,"OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"TrafficDirection","Title":"Traffic Direction","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldChoicesType, Vanrise.GenericData.MainExtensions","ConfigId":"eabc41a9-e332-4120-ac85-f0b7e53c0d0d","Choices":{"$type":"System.Collections.Generic.List`1[[Vanrise.GenericData.MainExtensions.DataRecordFields.Choice, Vanrise.GenericData.MainExtensions]], mscorlib","$values":[{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.Choice, Vanrise.GenericData.MainExtensions","Value":1,"Text":"In"},{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.Choice, Vanrise.GenericData.MainExtensions","Value":2,"Text":"Out"}]},"IsNullable":false,"OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"Calling","Title":"Calling","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"Called","Title":"Called","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"OtherPartyNumber","Title":"Other Party Number","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldTextType, Vanrise.GenericData.MainExtensions","ConfigId":"3f29315e-b542-43b8-9618-7de216cd9653","OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"InterconnectOperator","Title":"Interconnect Operator","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","BusinessEntityDefinitionId":"c4ba92af-4e77-4f36-9d78-7d715eda8a74","IsNullable":false,"OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"Zone","Title":"Zone","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","BusinessEntityDefinitionId":"48181232-9b13-4f76-8ba6-19ac19753c64","IsNullable":false,"OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"PackageId","Title":"Package","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","BusinessEntityDefinitionId":"5f3c5c17-2d17-46eb-b7f2-dd44e979dbf9","IsNullable":false,"OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"ChargingPolicyId","Title":"Charging Policy","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","BusinessEntityDefinitionId":"56287cbb-376b-42f3-9ba0-04ffbe609a70","IsNullable":false,"OrderType":1}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SaleRate","Title":"Sale Rate","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","DataPrecision":1,"DataType":0,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SaleAmount","Title":"Sale Amount","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","DataPrecision":0,"DataType":0,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SaleRateTypeId","Title":"Sale Rate Type","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldNumberType, Vanrise.GenericData.MainExtensions","ConfigId":"75aef329-27bd-4108-b617-f5cc05ff2aa3","DataPrecision":0,"DataType":1,"IsNullable":false,"OrderType":0}},{"$type":"Vanrise.GenericData.Entities.DataRecordField, Vanrise.GenericData.Entities","Name":"SaleCurrencyId","Title":"Sale Currency","Type":{"$type":"Vanrise.GenericData.MainExtensions.DataRecordFields.FieldBusinessEntityType, Vanrise.GenericData.MainExtensions","ConfigId":"2e16c3d4-837b-4433-b80e-7c02f6d71467","BusinessEntityDefinitionId":"aeb7bdc9-8a66-4297-8a11-0865515df4e6","IsNullable":false,"OrderType":1}}]}',null, '{"$type":"Vanrise.GenericData.Entities.DataRecordTypeSettings, Vanrise.GenericData.Entities"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[ParentID],[Fields],[ExtraFieldsEvaluator],[Settings]))
merge	[genericdata].[datarecordtype] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[ParentID] = s.[ParentID],[Fields] = s.[Fields],[ExtraFieldsEvaluator] = s.[ExtraFieldsEvaluator],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[ParentID],[Fields],[ExtraFieldsEvaluator],[Settings])
	values(s.[ID],s.[Name],s.[ParentID],s.[Fields],s.[ExtraFieldsEvaluator],s.[Settings]);


--[genericdata].[BusinessEntityDefinition]----------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[Name],[Title],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('56287CBB-376B-42F3-9BA0-04FFBE609A70','Remote_BE_ChargingPolicy','Charging Policy','{"$type":"Vanrise.GenericData.Business.VRRestAPIBEDefinitionSettings, Vanrise.GenericData.Business","ConfigId":"b4f22ffb-b663-4f5f-af53-acbef7224dfb","IdType":"System.Int32","DefinitionEditor":"vr-genericdata-restapibedefinitions-editor","SelectorUIControl":"vr-genericdata-businessentity-remoteselector","ManagerFQTN":"Vanrise.GenericData.Business.VRRestAPIBusinessEntityManager, Vanrise.GenericData.Business","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","RemoteBEDefinitionId":"d0ee9bf8-385e-48ef-b989-a87666a00072","SingularTitle":"Charging Policy","PluralTitle":"Charging Policies"}'),
('AEB7BDC9-8A66-4297-8A11-0865515DF4E6','Remote_BE_Currency','Currency','{"$type":"Vanrise.GenericData.Business.VRRestAPIBEDefinitionSettings, Vanrise.GenericData.Business","ConfigId":"b4f22ffb-b663-4f5f-af53-acbef7224dfb","IdType":"System.Int32","DefinitionEditor":"vr-genericdata-restapibedefinitions-editor","SelectorUIControl":"vr-genericdata-businessentity-remoteselector","ManagerFQTN":"Vanrise.GenericData.Business.VRRestAPIBusinessEntityManager, Vanrise.GenericData.Business","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","RemoteBEDefinitionId":"d41ea344-c3c0-4203-8583-019b6b3edb76","SingularTitle":"Currency","PluralTitle":"Currencies"}'),
('48181232-9B13-4F76-8BA6-19AC19753C64','Remote_BE_Zone','Zone','{"$type":"Vanrise.GenericData.Business.VRRestAPIBEDefinitionSettings, Vanrise.GenericData.Business","ConfigId":"b4f22ffb-b663-4f5f-af53-acbef7224dfb","IdType":"System.Int64","DefinitionEditor":"vr-genericdata-restapibedefinitions-editor","SelectorUIControl":"vr-genericdata-businessentity-remoteselector","ManagerFQTN":"Vanrise.GenericData.Business.VRRestAPIBusinessEntityManager, Vanrise.GenericData.Business","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","RemoteBEDefinitionId":"10740f30-5a20-4718-b5af-0e2e160b21c2","SingularTitle":"Zone","PluralTitle":"Zones"}'),
('8E5EAEDF-F4F0-49FA-AB46-306C8044317D','Remote_BE_ServiceType','Service Type','{"$type":"Vanrise.GenericData.Business.VRRestAPIBEDefinitionSettings, Vanrise.GenericData.Business","ConfigId":"b4f22ffb-b663-4f5f-af53-acbef7224dfb","IdType":"System.Guid","DefinitionEditor":"vr-genericdata-restapibedefinitions-editor","SelectorUIControl":"vr-genericdata-businessentity-remoteselector","ManagerFQTN":"Vanrise.GenericData.Business.VRRestAPIBusinessEntityManager, Vanrise.GenericData.Business","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","RemoteBEDefinitionId":"bfad446f-7129-45b1-94bf-febd290f394d","SingularTitle":"Service Type","PluralTitle":"Service Types"}'),
('C4BA92AF-4E77-4F36-9D78-7D715EDA8A74','Remote_BE_InterconnectOperator','Interconnect Operator','{"$type":"Vanrise.GenericData.Business.VRRestAPIBEDefinitionSettings, Vanrise.GenericData.Business","ConfigId":"b4f22ffb-b663-4f5f-af53-acbef7224dfb","IdType":"System.Int64","DefinitionEditor":"vr-genericdata-restapibedefinitions-editor","SelectorUIControl":"vr-genericdata-businessentity-remoteselector","ManagerFQTN":"Vanrise.GenericData.Business.VRRestAPIBusinessEntityManager, Vanrise.GenericData.Business","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","RemoteBEDefinitionId":"a5c1852b-2c92-4d66-b959-e3f49304338a","SingularTitle":"Interconnect Operator","PluralTitle":"Interconnect Operators"}'),
('5F3C5C17-2D17-46EB-B7F2-DD44E979DBF9','Remote_BE_Package','Package','{"$type":"Vanrise.GenericData.Business.VRRestAPIBEDefinitionSettings, Vanrise.GenericData.Business","ConfigId":"b4f22ffb-b663-4f5f-af53-acbef7224dfb","IdType":"System.Int32","DefinitionEditor":"vr-genericdata-restapibedefinitions-editor","SelectorUIControl":"vr-genericdata-businessentity-remoteselector","ManagerFQTN":"Vanrise.GenericData.Business.VRRestAPIBusinessEntityManager, Vanrise.GenericData.Business","ConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","RemoteBEDefinitionId":"c0c76db1-4876-4e0d-9b59-ca89120e6be9","SingularTitle":"Package","PluralTitle":"Packages"}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Title],[Settings]))
merge	[genericdata].[BusinessEntityDefinition] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[Title],[Settings])
	values(s.[ID],s.[Name],s.[Title],s.[Settings]);


--[Analytic].[AnalyticReport]-----------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
set nocount on;
;with cte_data([ID],[UserID],[Name],[AccessType],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('EBEB4ECA-8A9D-4A39-A424-EC841C3C7288',1,'CDR Log',0,'{"$type":"Vanrise.Analytic.Entities.DataRecordSearchPageSettings, Vanrise.Analytic.Entities","ConfigId":"82aa89f6-4d19-4168-a499-cdd2875f1702","Sources":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.DRSearchPageStorageSource, Vanrise.Analytic.Entities]], mscorlib","$values":[{"$type":"Vanrise.Analytic.Entities.DRSearchPageStorageSource, Vanrise.Analytic.Entities","Title":"CDRs","Name":"MainCDRs","DataRecordTypeId":"20946c89-91d2-4895-99f4-e8ff739c0cff","RecordStorageIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["59bd3a0d-2ba1-4263-b301-4779e0d4d0a2"]},"GridColumns":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities]], mscorlib","$values":[{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"CDRID","FieldTitle":"ID","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"ConnectDateTime","FieldTitle":"Connect","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"DisconnectDateTime","FieldTitle":"Disconnect","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"ServiceType","FieldTitle":"Service Type","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"TrafficDirection","FieldTitle":"Direction","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"DurationInSeconds","FieldTitle":"Duration (sec)","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"Calling","FieldTitle":"Calling","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"Called","FieldTitle":"Called","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"Zone","FieldTitle":"Zone","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"InterconnectOperator","FieldTitle":"Operator","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"PackageId","FieldTitle":"Package","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"SaleRate","FieldTitle":"Sale Rate","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"SaleAmount","FieldTitle":"Sale Amount","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}},{"$type":"Vanrise.Analytic.Entities.DRSearchPageGridColumn, Vanrise.Analytic.Entities","FieldName":"SaleCurrencyId","FieldTitle":"Sale Currency","ColumnSettings":{"$type":"Vanrise.Entities.GridColumnSettings, Vanrise.Entities","Width":"Normal"}}]},"ItemDetails":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.DRSearchPageItemDetail, Vanrise.Analytic.Entities]], mscorlib","$values":[{"$type":"Vanrise.Analytic.Entities.DRSearchPageItemDetail, Vanrise.Analytic.Entities","FieldName":"CDRID","FieldTitle":"ID","ColumnWidth":1},{"$type":"Vanrise.Analytic.Entities.DRSearchPageItemDetail, Vanrise.Analytic.Entities","FieldName":"DisconnectReason","FieldTitle":"Disconnect Reason","ColumnWidth":1},{"$type":"Vanrise.Analytic.Entities.DRSearchPageItemDetail, Vanrise.Analytic.Entities","FieldName":"CallProgressState","FieldTitle":"Call Progress State","ColumnWidth":1}]},"SortColumns":{"$type":"System.Collections.Generic.List`1[[Vanrise.Analytic.Entities.DRSearchPageSortColumn, Vanrise.Analytic.Entities]], mscorlib","$values":[{"$type":"Vanrise.Analytic.Entities.DRSearchPageSortColumn, Vanrise.Analytic.Entities","FieldName":"CDRID","IsDescending":false}]}}]},"NumberOfRecords":100}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[UserID],[Name],[AccessType],[Settings]))
merge	[Analytic].[AnalyticReport] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[UserID] = s.[UserID],[Name] = s.[Name],[AccessType] = s.[AccessType],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[UserID],[Name],[AccessType],[Settings])
	values(s.[ID],s.[UserID],s.[Name],s.[AccessType],s.[Settings]);

--[sec].[View]--------------------------------------------------------------------------------------
BEGIN
set nocount on;
;with cte_data([ID],[Name],[Title],[Url],[Module],[ActionNames],[Audience],[Content],[Settings],[Type],[Rank],[IsDeleted])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('ACFDFC22-FE0B-491E-B5D1-0A9541B822FE','Account Statement','Account Statement',null,'6471DA6F-E4DD-4B2A-BFB6-F8EA498CD37C',null,null,null,'{"$type":"PartnerPortal.CustomerAccess.Entities.AccountStatementViewSettings, PartnerPortal.CustomerAccess.Entities","AccountStatementViewData":{"$type":"PartnerPortal.CustomerAccess.Entities.AccountStatementViewData, PartnerPortal.CustomerAccess.Entities","VRConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","AccountTypeId":"20b0c83e-6f53-49c7-b52f-828a19e6dc2a","AccountStatementHandler":{"$type":"PartnerPortal.CustomerAccess.MainExtensions.AccountStatement.RetailAccountUser, PartnerPortal.CustomerAccess.MainExtensions","ConfigId":"a8085279-37bf-40c5-941b-a1e46f83dfab"}}}','A0709FCC-0344-4B64-BC0D-50471D052D0F',null,0),
('5687E4BE-DC14-481C-BA28-A80822A769CE','My Invoices','My Invoices',null			,'6471DA6F-E4DD-4B2A-BFB6-F8EA498CD37C',null,null,null,'{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewSettings, PartnerPortal.Invoice.Entities","InvoiceViewItems":{"$type":"System.Collections.Generic.List`1[[PartnerPortal.Invoice.Entities.InvoiceViewItem, PartnerPortal.Invoice.Entities]], mscorlib","$values":[{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewItem, PartnerPortal.Invoice.Entities","InvoiceViewerTypeId":"bf148e4a-673c-4429-863b-5ba1ec20ff2e"}]}}','BBEF1C92-DCEC-441B-86A2-7FC0C67716F5',null,0),
('91164CB8-B3F3-4CE6-9B62-183AE3EE79CF','CDR Log','CDR Log',null					,'6471DA6F-E4DD-4B2A-BFB6-F8EA498CD37C',null,null,null,'{"$type":"Vanrise.Analytic.Entities.AnalyticReportViewSettings, Vanrise.Analytic.Entities","TypeId":"82aa89f6-4d19-4168-a499-cdd2875f1702","AnalyticReportId":"ebeb4eca-8a9d-4a39-a424-ec841c3c7288"}','82FF3B8A-0C39-4376-9602-B84A240FBF82',null,0),
('a1d2e7a1-966d-473a-a7d5-ae3cdd3c48d1', 'Home Page',	'Home Page',	NULL,	'6471da6f-e4dd-4b2a-bfb6-f8ea498cd37c',	NULL,	NULL,	NULL,	'{"$type":"Vanrise.Common.Business.VRTileViewSettings, Vanrise.Common.Business","VRTileViewData":{"$type":"Vanrise.Common.Business.VRTileViewData, Vanrise.Common.Business","VRTiles":{"$type":"System.Collections.Generic.List`1[[Vanrise.Entities.VRTile, Vanrise.Entities]], mscorlib","$values":[{"$type":"Vanrise.Entities.VRTile, Vanrise.Entities","VRTileId":"080d69b1-675a-30f1-f1ca-73fa52f3b66e","Name":"Last Invoice","Settings":{"$type":"Vanrise.Entities.VRTileSettings, Vanrise.Entities","ExtendedSettings":{"$type":"PartnerPortal.Invoice.Business.InvoiceTileDefinitionSettings, PartnerPortal.Invoice.Business","ConfigId":"a8a6c730-9ef7-41e3-b875-c9ff7b6696fc","RuntimeEditor":"partnerportal-invoice-invoicetileruntimesettings","VRConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","InvoiceTypeId":"d86eaffb-5369-4535-8b23-200738f579a2","ViewId":"5687e4be-dc14-481c-ba28-a80822a769ce"}}},{"$type":"Vanrise.Entities.VRTile, Vanrise.Entities","VRTileId":"df65f7f4-be26-eacb-6909-28a56e71afc7","Name":"My Balance","Settings":{"$type":"Vanrise.Entities.VRTileSettings, Vanrise.Entities","ExtendedSettings":{"$type":"PartnerPortal.CustomerAccess.Business.LiveBalanceTileDefinitionSettings, PartnerPortal.CustomerAccess.Business","ConfigId":"48fa768c-7482-476d-9db0-26c6a0ceb9a0","RuntimeEditor":"partnerportal-customeraccess-livebalancetileruntimesettings","VRConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","AccountTypeId":"20b0c83e-6f53-49c7-b52f-828a19e6dc2a","ViewId":"acfdfc22-fe0b-491e-b5d1-0a9541b822fe"}}},{"$type":"Vanrise.Entities.VRTile, Vanrise.Entities","VRTileId":"820e82c8-d05d-865c-74c5-e03ee36a0a69","Name":"Calls","Settings":{"$type":"Vanrise.Entities.VRTileSettings, Vanrise.Entities","ExtendedSettings":{"$type":"PartnerPortal.CustomerAccess.Business.AnalyticDefinitionSettings, PartnerPortal.CustomerAccess.Business","ConfigId":"06cd79c8-b1c0-4a33-a757-a36ebd96ea5b","RuntimeEditor":"partnerportal-customeraccess-analytictileruntimesettings","Queries":{"$type":"System.Collections.Generic.List`1[[PartnerPortal.CustomerAccess.Business.AnalyticQuery, PartnerPortal.CustomerAccess.Business]], mscorlib","$values":[{"$type":"PartnerPortal.CustomerAccess.Business.AnalyticQuery, PartnerPortal.CustomerAccess.Business","Name":"Today","UserDimensionName":"Company","VRConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","TableId":8,"Measures":{"$type":"System.Collections.Generic.List`1[[PartnerPortal.CustomerAccess.Business.MeasureItem, PartnerPortal.CustomerAccess.Business]], mscorlib","$values":[{"$type":"PartnerPortal.CustomerAccess.Business.MeasureItem, PartnerPortal.CustomerAccess.Business","MeasureItemId":"31d8d641-10eb-d569-fbba-384b45e5062c","MeasureName":"CountCDRs","MeasureTitle":"Today"}]},"TimePeriod":{"$type":"Vanrise.Common.MainExtensions.TodayTimePeriod, Vanrise.Common.MainExtensions","ConfigId":"de4f7720-5519-466c-8f14-e5f66a56dc42"}},{"$type":"PartnerPortal.CustomerAccess.Business.AnalyticQuery, PartnerPortal.CustomerAccess.Business","Name":"This Month","UserDimensionName":"Company","VRConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","TableId":8,"Measures":{"$type":"System.Collections.Generic.List`1[[PartnerPortal.CustomerAccess.Business.MeasureItem, PartnerPortal.CustomerAccess.Business]], mscorlib","$values":[{"$type":"PartnerPortal.CustomerAccess.Business.MeasureItem, PartnerPortal.CustomerAccess.Business","MeasureItemId":"3c10a72c-062f-665e-dfca-8b6325f4b173","MeasureName":"CountCDRs","MeasureTitle":"This Month"}]},"TimePeriod":{"$type":"Vanrise.Common.MainExtensions.CurrentMonthTimePeriod, Vanrise.Common.MainExtensions","ConfigId":"d03b778a-47da-474d-8a20-87f76c75145a"}}]},"OrderedMeasureIds":{"$type":"System.Collections.Generic.List`1[[System.Guid, mscorlib]], mscorlib","$values":["31d8d641-10eb-d569-fbba-384b45e5062c","3c10a72c-062f-665e-dfca-8b6325f4b173"]},"ViewId":"91164cb8-b3f3-4ce6-9b62-183ae3ee79cf"}}}]}}}','a10addbd-4a9f-4fbb-a54d-7ec0b671a38d',	NULL,0)
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[Title],[Url],[Module],[ActionNames],[Audience],[Content],[Settings],[Type],[Rank],[IsDeleted]))
merge	[sec].[View] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[Title] = s.[Title],[Url] = s.[Url],[Module] = s.[Module],[ActionNames] = s.[ActionNames],[Audience] = s.[Audience],[Content] = s.[Content],[Settings] = s.[Settings],[Type] = s.[Type],[Rank] = s.[Rank],[IsDeleted] = s.[IsDeleted]
when not matched by target then
	insert([ID],[Name],[Title],[Url],[Module],[ActionNames],[Audience],[Content],[Settings],[Type],[Rank],[IsDeleted])
	values(s.[ID],s.[Name],s.[Title],s.[Url],s.[Module],s.[ActionNames],s.[Audience],s.[Content],s.[Settings],s.[Type],s.[Rank],s.[IsDeleted]);
----------------------------------------------------------------------------------------------------
END
--[common].[Connection]-----------------------------------------------------------------------BEGINset nocount on;;with cte_data([ID],[Name],[Settings])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////('7A2044F4-B42C-44AA-BFB8-6538904E8E4C','Retail Connection','{"$type":"Vanrise.Common.Business.VRInterAppRestConnection, Vanrise.Common.Business","ConfigId":"5cd2aac3-1c74-401f-8010-8b9b5fd9c011","BaseURL":"http://retailapplicationURL","Username":"portalsystemaccount@nodomain.com","Password":"portalaccount@nodomain.com"}')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([ID],[Name],[Settings]))merge	[common].[Connection] as tusing	cte_data as son		1=1 and t.[ID] = s.[ID]--when matched then--	update set--	[Name] = s.[Name],[Settings] = s.[Settings]when not matched by target then	insert([ID],[Name],[Settings])	values(s.[ID],s.[Name],s.[Settings]);----------------------------------------------------------------------------------------------------END
--[sec].[User]--------------------------------------------------------------------------------Beginset nocount on;;with cte_data([Name],[Password],[Email],[TenantId],[Description],[EnabledTill],[ExtendedSettings])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////('Retail Account','JO9ZxpU4iuZ4iNY8PxfFHI/yQtJo','retailsystemaccount@nodomain.com',1,'System Account used to connect from the Retail Application',null,null)--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([Name],[Password],[Email],[TenantId],[Description],[EnabledTill],[ExtendedSettings]))merge	[sec].[User] as tusing	cte_data as son		1=1 and t.[Email] = s.[Email]when matched then	update set	[Name] = s.[Name],[Password] = s.[Password],[TenantId] = s.[TenantId],[Description] = s.[Description],[EnabledTill] = s.[EnabledTill],[ExtendedSettings] = s.[ExtendedSettings]when not matched by target then	insert([Name],[Password],[Email],[TenantId],[Description],[EnabledTill],[ExtendedSettings])	values(s.[Name],s.[Password],s.[Email],s.[TenantId],s.[Description],s.[EnabledTill],s.[ExtendedSettings]);----------------------------------------------------------------------------------------------------ENDDECLARE @RetailAccountID int = (SELECT ID from [sec].[User] WHERE Email = 'retailsystemaccount@nodomain.com')--[sec].[Permission]--------------------------------------------------------------------------------BEGINset nocount on;;with cte_data([HolderType],[HolderId],[EntityType],[EntityId],[PermissionFlags])as (select * from (values--//////////////////////////////////////////////////////////////////////////////////////////////////(0, CONVERT(varchar, @RetailAccountID),1,'b4158657-230e-40bf-b88c-f2b2ca8835de','[{"Name":"Add","Value":1},{"Name":"Reset Password","Value":1}]')--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\)c([HolderType],[HolderId],[EntityType],[EntityId],[PermissionFlags]))merge	[sec].[Permission] as tusing	cte_data as son		1=1 and t.[HolderType] = s.[HolderType] and t.[HolderId] = s.[HolderId] and t.[EntityType] = s.[EntityType] and t.[EntityId] = s.[EntityId]when matched then	update set	[PermissionFlags] = s.[PermissionFlags]when not matched by target then	insert([HolderType],[HolderId],[EntityType],[EntityId],[PermissionFlags])	values(s.[HolderType],s.[HolderId],s.[EntityType],s.[EntityId],s.[PermissionFlags]);----------------------------------------------------------------------------------------------------END	
--[common].[VRComponentType]------------------------------------------------------------------------
BEGIN
set nocount on;
;with cte_data([ID],[Name],[ConfigID],[Settings])
as (select * from (values
--//////////////////////////////////////////////////////////////////////////////////////////////////
('BF148E4A-673C-4429-863B-5BA1EC20FF2E','Invoice Viewer','3A02EEEA-6F38-4277-BAC4-9D8F88F71851','{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeSettings, PartnerPortal.Invoice.Entities","VRComponentTypeConfigId":"3a02eeea-6f38-4277-bac4-9d8f88f71851","VRConnectionId":"7a2044f4-b42c-44aa-bfb8-6538904e8e4c","InvoiceTypeId":"d86eaffb-5369-4535-8b23-200738f579a2","GridSettings":{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridSettings, PartnerPortal.Invoice.Entities","InvoiceGridFields":{"$type":"System.Collections.Generic.List`1[[PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities]], mscorlib","$values":[{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Serial Number","Field":3},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"From Date","Field":4},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"To Date","Field":5},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Due Date","Field":7},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Issue Date","Field":6},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Amount","Field":0,"CustomFieldName":"TotalAmount"},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Duration","Field":0,"CustomFieldName":"TotalDuration"},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Currency","Field":0,"CustomFieldName":"CurrencyId"},{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridField, PartnerPortal.Invoice.Entities","Header":"Paid","Field":8}]},"InvoiceGridActions":{"$type":"System.Collections.Generic.List`1[[PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridAction, PartnerPortal.Invoice.Entities]], mscorlib","$values":[{"$type":"PartnerPortal.Invoice.Entities.InvoiceViewerTypeGridAction, PartnerPortal.Invoice.Entities","Title":"Download","InvoiceViewerTypeGridActionId":"00000000-0000-0000-0000-000000000000","Settings":{"$type":"PartnerPortal.Invoice.MainExtensions.InvoiceViewerTypeGridAction.DownloadAttachmentAction, PartnerPortal.Invoice.MainExtensions","ActionTypeName":"DownloadAttachment","ConfigId":"609a37c4-466a-40a9-8140-f23f5d80d3c3","InvoiceAttachmentId":"9ba2fa43-939a-f980-4c4e-eadbc3804eb0"}}]}},"InvoiceQueryInterceptor":{"$type":"PartnerPortal.Invoice.MainExtensions.Invoice.PartnerInvoiceQueryInterceptor, PartnerPortal.Invoice.MainExtensions","ConfigId":"12371be0-cf2c-4cdd-9f4c-e809d912a716"}}')
--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
)c([ID],[Name],[ConfigID],[Settings]))
merge	[common].[VRComponentType] as t
using	cte_data as s
on		1=1 and t.[ID] = s.[ID]
when matched then
	update set
	[Name] = s.[Name],[ConfigID] = s.[ConfigID],[Settings] = s.[Settings]
when not matched by target then
	insert([ID],[Name],[ConfigID],[Settings])
	values(s.[ID],s.[Name],s.[ConfigID],s.[Settings]);
----------------------------------------------------------------------------------------------------
END