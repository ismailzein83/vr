<vr-panel ng-controller="BI_DynamicDashboardController">
    <div class="am-collapse" ng-hide="filterSectionCollapsed">
        <vr-form name="filterForm">
            <vr-row removeline>
                <vr-columns colnum="2">
                    <vr-datetimepicker type="date" value="fromDate" label="From" isrequired></vr-datetimepicker>
                </vr-columns>

                <vr-columns colnum="2">
                    <vr-datetimepicker type="date" value="toDate" label="To" isrequired></vr-datetimepicker>
                </vr-columns>
                <vr-columns colnum="2">
                    <vr-select datasource="timeDimensionTypes" datatextfield="description" datavaluefield="value" label="Grouped By" 
                               selectedvalues="selectedTimeDimensionType" isrequired hidefilterbox></vr-select>
                </vr-columns>

            </vr-row>
        </vr-form>
    </div>
    <vr-row removeline>
        <vr-actionbar showcollapsebutton="true" issectioncollapsed="filterSectionCollapsed">
            <div transclude-to="buttons">
                <vr-button type="Search" formname="formFilter" data-onclick="updateDashboard"></vr-button>
                <vr-button type="Add" data-onclick="addVisualElement"></vr-button>
                <vr-button type="Save" data-onclick="savePage"></vr-button>
            </div>
        </vr-actionbar>
    </vr-row>
    
    <div vr-loader="isGettingData">
        <vr-row>
            <div class="list-group dragbelzone" ng-sortable="itemsSortable">
                <vr-columns ng-repeat="visualElement in visualElements" colnum="{{visualElement.numberOfColumns}}">
                    <i class="glyphicon glyphicon-th-list handeldrag"></i>
                    <i class="glyphicon glyphicon-remove hand-cursor" ng-click="removeVisualElement(visualElement)"></i>
                    <vr-directivewrapper directive="visualElement.directive" on-ready="visualElement.onElementReady" settings="visualElement.settings"
                                      retrievedataonload="true" fromdate="fromDate" todate="toDate" timedimensiontype="selectedTimeDimensionType"></vr-directivewrapper>
                </vr-columns>
            </div>
           
        </vr-row>                
       

</div>
</vr-panel>
