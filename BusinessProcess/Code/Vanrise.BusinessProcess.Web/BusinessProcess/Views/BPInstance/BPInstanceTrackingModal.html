<div vr-modalcontent size="large" ng-controller="BusinessProcess_BP_TrackingModalController" vr-loader="scopeModel.isLoading">
    <vr-modalbody>
        <vr-form name="formBPTrackingModal">
            <vr-row>
                <vr-columns colnum="1"><vr-label>Process Title:</vr-label></vr-columns>
                <vr-columns colnum="4"><vr-label isvalue breakline>{{scopeModel.process.Title}}</vr-label></vr-columns>
                <vr-columns colnum="6"></vr-columns>
                <vr-columns colnum="1">
                    <div style="width: 100%;text-align: center;">
                        <vr-span ng-show="scopeModel.showCompletionViewLink">
                            <vr-label isvalue><a ng-click="scopeModel.openCompletionView()" href="">{{scopeModel.completionViewLinkText}}</a></vr-label>
                        </vr-span>
                        <span ng-show="scopeModel.allowCancel">
                            <span ng-show="scopeModel.showCancelAction()">
                                <vr-label isvalue>
                                    <a href="" ng-if="!scopeModel.cancelActionClicked" ng-click="scopeModel.cancelProcess()">Cancel</a>
                                </vr-label>
                                <vr-label isvalue ng-if="scopeModel.cancelActionClicked">Canceling Requested</vr-label>
                            </span>
                        </span>
                    </div>

                </vr-columns>

            </vr-row>
            <vr-row>
                <vr-columns colnum="1"><vr-label>Created On:</vr-label></vr-columns>
                <vr-columns colnum="2"><vr-label isvalue>{{scopeModel.process.CreatedTime | date:'yyyy-MM-dd HH:mm:ss' }}</vr-label></vr-columns>
                <vr-columns colnum="1"><vr-label>Updated On:</vr-label></vr-columns>
                <vr-columns colnum="2"><vr-label isvalue>{{scopeModel.process.StatusUpdatedTime | date:'yyyy-MM-dd HH:mm:ss' }}</vr-label></vr-columns>
                <vr-columns colnum="4">
                    <span ng-if="scopeModel.showCloseMessage">
                        <label class="alert alert-warning" vr-alert>The process has completed. You may now close this page.</label>
                    </span>
                </vr-columns>
                <vr-columns colnum="2" haschildcolumns>
                    <vr-columns colnum="4"></vr-columns>
                    <vr-columns colnum="8">
                        <div class="vr-status-progress inline" ng-class="{new:scopeModel.isNew,postponed:scopeModel.isPostponed,running: scopeModel.isRunning,waiting:scopeModel.isWaiting,cancelling:scopeModel.isCancelling,completed:scopeModel.isCompleted,aborted:scopeModel.isAborted,suspended:scopeModel.isSuspended,terminated:scopeModel.isTerminated,cancelled:scopeModel.isCancelled}">
                            {{scopeModel.process.Status}}
                        </div>
                    </vr-columns>
                   
                </vr-columns>
            </vr-row>
            <vr-tabs on-ready="scopeModel.onBPTabsReady">
                <vr-tab header="'Visual Progress'" tabobject="scopeModel.visualProgressTab" >
                    <vr-row removeline>
                        <vr-columns width="fullrow">
                            <bp-workflow-activitysettings-visualitemdefiniton on-ready="scopeModel.onVisualItemDefinitionReady"></bp-workflow-activitysettings-visualitemdefiniton>
                        </vr-columns>
                    </vr-row>
                </vr-tab>

                <vr-tab header="'Progress Details'">
                    <vr-row removeline>
                        <vr-columns width="fullrow">
                            <businessprocess-bp-instance-tracking-monitor on-ready="scopeModel.onInstanceTrackingMonitorGridReady"></businessprocess-bp-instance-tracking-monitor>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Tasks'">
                    <vr-row removeline>
                        <vr-columns width="fullrow">
                            <businessprocess-bp-task-monitor-grid on-ready="scopeModel.onTaskMonitorGridReady" enable-auto-open-task="true"></businessprocess-bp-task-monitor-grid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Child Processes'" ng-if="scopeModel.process.HasChildProcesses">
                    <vr-row removeline>
                        <vr-columns width="fullrow">
                            <businessprocess-bp-instance-monitor-grid on-ready="scopeModel.onInstanceMonitorGridReady"></businessprocess-bp-instance-monitor-grid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
                <vr-tab header="'Rules Violated'" ng-if="scopeModel.process.HasBusinessRules">
                    <vr-row removeline>
                        <vr-columns width="fullrow">
                            <businessprocess-bp-validation-message-monitor-grid on-ready="scopeModel.onValidationMessageMonitorGridReady"></businessprocess-bp-validation-message-monitor-grid>
                        </vr-columns>
                    </vr-row>
                </vr-tab>
            </vr-tabs>
        </vr-form>
    </vr-modalbody>
</div>
